var $k=Object.defineProperty;var lA=d=>{throw TypeError(d)};var Vk=(d,e,t)=>e in d?$k(d,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[e]=t;var te=(d,e,t)=>Vk(d,typeof e!="symbol"?e+"":e,t),cv=(d,e,t)=>e.has(d)||lA("Cannot "+t);var a=(d,e,t)=>(cv(d,e,"read from private field"),t?t.call(d):e.get(d)),E=(d,e,t)=>e.has(d)?lA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(d):e.set(d,t),b=(d,e,t,n)=>(cv(d,e,"write to private field"),n?n.call(d,t):e.set(d,t),t),C=(d,e,t)=>(cv(d,e,"access private method"),t);var bn=(d,e,t,n)=>({set _(r){b(d,e,r,t)},get _(){return a(d,e,n)}});function Wk(d,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in d)){const o=Object.getOwnPropertyDescriptor(n,r);o&&Object.defineProperty(d,r,o.get?o:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function am(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var uv={exports:{}},hd={},dv={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA;function Gk(){if(cA)return De;cA=1;var d=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function T(j,W,ue){this.props=j,this.context=W,this.refs=A,this.updater=ue||x}T.prototype.isReactComponent={},T.prototype.setState=function(j,W){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,W,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function P(){}P.prototype=T.prototype;function R(j,W,ue){this.props=j,this.context=W,this.refs=A,this.updater=ue||x}var L=R.prototype=new P;L.constructor=R,S(L,T.prototype),L.isPureReactComponent=!0;var M=Array.isArray,I=Object.prototype.hasOwnProperty,B={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function V(j,W,ue){var xe,Ce={},_e=null,be=null;if(W!=null)for(xe in W.ref!==void 0&&(be=W.ref),W.key!==void 0&&(_e=""+W.key),W)I.call(W,xe)&&!O.hasOwnProperty(xe)&&(Ce[xe]=W[xe]);var Me=arguments.length-2;if(Me===1)Ce.children=ue;else if(1<Me){for(var ze=Array(Me),Oe=0;Oe<Me;Oe++)ze[Oe]=arguments[Oe+2];Ce.children=ze}if(j&&j.defaultProps)for(xe in Me=j.defaultProps,Me)Ce[xe]===void 0&&(Ce[xe]=Me[xe]);return{$$typeof:d,type:j,key:_e,ref:be,props:Ce,_owner:B.current}}function G(j,W){return{$$typeof:d,type:j.type,key:W,ref:j.ref,props:j.props,_owner:j._owner}}function K(j){return typeof j=="object"&&j!==null&&j.$$typeof===d}function ee(j){var W={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ue){return W[ue]})}var re=/\/+/g;function ye(j,W){return typeof j=="object"&&j!==null&&j.key!=null?ee(""+j.key):W.toString(36)}function oe(j,W,ue,xe,Ce){var _e=typeof j;(_e==="undefined"||_e==="boolean")&&(j=null);var be=!1;if(j===null)be=!0;else switch(_e){case"string":case"number":be=!0;break;case"object":switch(j.$$typeof){case d:case e:be=!0}}if(be)return be=j,Ce=Ce(be),j=xe===""?"."+ye(be,0):xe,M(Ce)?(ue="",j!=null&&(ue=j.replace(re,"$&/")+"/"),oe(Ce,W,ue,"",function(Oe){return Oe})):Ce!=null&&(K(Ce)&&(Ce=G(Ce,ue+(!Ce.key||be&&be.key===Ce.key?"":(""+Ce.key).replace(re,"$&/")+"/")+j)),W.push(Ce)),1;if(be=0,xe=xe===""?".":xe+":",M(j))for(var Me=0;Me<j.length;Me++){_e=j[Me];var ze=xe+ye(_e,Me);be+=oe(_e,W,ue,ze,Ce)}else if(ze=v(j),typeof ze=="function")for(j=ze.call(j),Me=0;!(_e=j.next()).done;)_e=_e.value,ze=xe+ye(_e,Me++),be+=oe(_e,W,ue,ze,Ce);else if(_e==="object")throw W=String(j),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return be}function Re(j,W,ue){if(j==null)return j;var xe=[],Ce=0;return oe(j,xe,"","",function(_e){return W.call(ue,_e,Ce++)}),xe}function Q(j){if(j._status===-1){var W=j._result;W=W(),W.then(function(ue){(j._status===0||j._status===-1)&&(j._status=1,j._result=ue)},function(ue){(j._status===0||j._status===-1)&&(j._status=2,j._result=ue)}),j._status===-1&&(j._status=0,j._result=W)}if(j._status===1)return j._result.default;throw j._result}var q={current:null},J={transition:null},ae={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:J,ReactCurrentOwner:B};function ie(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:Re,forEach:function(j,W,ue){Re(j,function(){W.apply(this,arguments)},ue)},count:function(j){var W=0;return Re(j,function(){W++}),W},toArray:function(j){return Re(j,function(W){return W})||[]},only:function(j){if(!K(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},De.Component=T,De.Fragment=t,De.Profiler=r,De.PureComponent=R,De.StrictMode=n,De.Suspense=h,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,De.act=ie,De.cloneElement=function(j,W,ue){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var xe=S({},j.props),Ce=j.key,_e=j.ref,be=j._owner;if(W!=null){if(W.ref!==void 0&&(_e=W.ref,be=B.current),W.key!==void 0&&(Ce=""+W.key),j.type&&j.type.defaultProps)var Me=j.type.defaultProps;for(ze in W)I.call(W,ze)&&!O.hasOwnProperty(ze)&&(xe[ze]=W[ze]===void 0&&Me!==void 0?Me[ze]:W[ze])}var ze=arguments.length-2;if(ze===1)xe.children=ue;else if(1<ze){Me=Array(ze);for(var Oe=0;Oe<ze;Oe++)Me[Oe]=arguments[Oe+2];xe.children=Me}return{$$typeof:d,type:j.type,key:Ce,ref:_e,props:xe,_owner:be}},De.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:o,_context:j},j.Consumer=j},De.createElement=V,De.createFactory=function(j){var W=V.bind(null,j);return W.type=j,W},De.createRef=function(){return{current:null}},De.forwardRef=function(j){return{$$typeof:u,render:j}},De.isValidElement=K,De.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:Q}},De.memo=function(j,W){return{$$typeof:p,type:j,compare:W===void 0?null:W}},De.startTransition=function(j){var W=J.transition;J.transition={};try{j()}finally{J.transition=W}},De.unstable_act=ie,De.useCallback=function(j,W){return q.current.useCallback(j,W)},De.useContext=function(j){return q.current.useContext(j)},De.useDebugValue=function(){},De.useDeferredValue=function(j){return q.current.useDeferredValue(j)},De.useEffect=function(j,W){return q.current.useEffect(j,W)},De.useId=function(){return q.current.useId()},De.useImperativeHandle=function(j,W,ue){return q.current.useImperativeHandle(j,W,ue)},De.useInsertionEffect=function(j,W){return q.current.useInsertionEffect(j,W)},De.useLayoutEffect=function(j,W){return q.current.useLayoutEffect(j,W)},De.useMemo=function(j,W){return q.current.useMemo(j,W)},De.useReducer=function(j,W,ue){return q.current.useReducer(j,W,ue)},De.useRef=function(j){return q.current.useRef(j)},De.useState=function(j){return q.current.useState(j)},De.useSyncExternalStore=function(j,W,ue){return q.current.useSyncExternalStore(j,W,ue)},De.useTransition=function(){return q.current.useTransition()},De.version="18.3.1",De}var uA;function Q0(){return uA||(uA=1,dv.exports=Gk()),dv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA;function Xk(){if(dA)return hd;dA=1;var d=Q0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var g,y={},v=null,x=null;p!==void 0&&(v=""+p),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(x=h.ref);for(g in h)n.call(h,g)&&!o.hasOwnProperty(g)&&(y[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:u,key:v,ref:x,props:y,_owner:r.current}}return hd.Fragment=t,hd.jsx=l,hd.jsxs=l,hd}var hA;function qk(){return hA||(hA=1,uv.exports=Xk()),uv.exports}var _=qk(),F=Q0();const m1=am(F),y1=Wk({__proto__:null,default:m1},[F]);var Up={},hv={exports:{}},On={},fv={exports:{}},pv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA;function Yk(){return fA||(fA=1,(function(d){function e(J,ae){var ie=J.length;J.push(ae);e:for(;0<ie;){var j=ie-1>>>1,W=J[j];if(0<r(W,ae))J[j]=ae,J[ie]=W,ie=j;else break e}}function t(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var ae=J[0],ie=J.pop();if(ie!==ae){J[0]=ie;e:for(var j=0,W=J.length,ue=W>>>1;j<ue;){var xe=2*(j+1)-1,Ce=J[xe],_e=xe+1,be=J[_e];if(0>r(Ce,ie))_e<W&&0>r(be,Ce)?(J[j]=be,J[_e]=ie,j=_e):(J[j]=Ce,J[xe]=ie,j=xe);else if(_e<W&&0>r(be,ie))J[j]=be,J[_e]=ie,j=_e;else break e}}return ae}function r(J,ae){var ie=J.sortIndex-ae.sortIndex;return ie!==0?ie:J.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;d.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();d.unstable_now=function(){return l.now()-u}}var h=[],p=[],g=1,y=null,v=3,x=!1,S=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(J){for(var ae=t(p);ae!==null;){if(ae.callback===null)n(p);else if(ae.startTime<=J)n(p),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=t(p)}}function M(J){if(A=!1,L(J),!S)if(t(h)!==null)S=!0,Q(I);else{var ae=t(p);ae!==null&&q(M,ae.startTime-J)}}function I(J,ae){S=!1,A&&(A=!1,P(V),V=-1),x=!0;var ie=v;try{for(L(ae),y=t(h);y!==null&&(!(y.expirationTime>ae)||J&&!ee());){var j=y.callback;if(typeof j=="function"){y.callback=null,v=y.priorityLevel;var W=j(y.expirationTime<=ae);ae=d.unstable_now(),typeof W=="function"?y.callback=W:y===t(h)&&n(h),L(ae)}else n(h);y=t(h)}if(y!==null)var ue=!0;else{var xe=t(p);xe!==null&&q(M,xe.startTime-ae),ue=!1}return ue}finally{y=null,v=ie,x=!1}}var B=!1,O=null,V=-1,G=5,K=-1;function ee(){return!(d.unstable_now()-K<G)}function re(){if(O!==null){var J=d.unstable_now();K=J;var ae=!0;try{ae=O(!0,J)}finally{ae?ye():(B=!1,O=null)}}else B=!1}var ye;if(typeof R=="function")ye=function(){R(re)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Re=oe.port2;oe.port1.onmessage=re,ye=function(){Re.postMessage(null)}}else ye=function(){T(re,0)};function Q(J){O=J,B||(B=!0,ye())}function q(J,ae){V=T(function(){J(d.unstable_now())},ae)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(J){J.callback=null},d.unstable_continueExecution=function(){S||x||(S=!0,Q(I))},d.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<J?Math.floor(1e3/J):5},d.unstable_getCurrentPriorityLevel=function(){return v},d.unstable_getFirstCallbackNode=function(){return t(h)},d.unstable_next=function(J){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var ie=v;v=ae;try{return J()}finally{v=ie}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ie=v;v=J;try{return ae()}finally{v=ie}},d.unstable_scheduleCallback=function(J,ae,ie){var j=d.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?j+ie:j):ie=j,J){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ie+W,J={id:g++,callback:ae,priorityLevel:J,startTime:ie,expirationTime:W,sortIndex:-1},ie>j?(J.sortIndex=ie,e(p,J),t(h)===null&&J===t(p)&&(A?(P(V),V=-1):A=!0,q(M,ie-j))):(J.sortIndex=W,e(h,J),S||x||(S=!0,Q(I))),J},d.unstable_shouldYield=ee,d.unstable_wrapCallback=function(J){var ae=v;return function(){var ie=v;v=ae;try{return J.apply(this,arguments)}finally{v=ie}}}})(pv)),pv}var pA;function Kk(){return pA||(pA=1,fv.exports=Yk()),fv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA;function Qk(){if(gA)return On;gA=1;var d=Q0(),e=Kk();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function o(i,s){l(i,s),l(i+"Capture",s)}function l(i,s){for(r[i]=s,i=0;i<s.length;i++)n.add(s[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(i){return h.call(y,i)?!0:h.call(g,i)?!1:p.test(i)?y[i]=!0:(g[i]=!0,!1)}function x(i,s,c,f){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,s,c,f){if(s===null||typeof s>"u"||x(i,s,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function A(i,s,c,f,m,w,k){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=i,this.type=s,this.sanitizeURL=w,this.removeEmptyString=k}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){T[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];T[s]=new A(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){T[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){T[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){T[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){T[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){T[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){T[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){T[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(P,R);T[s]=new A(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(P,R);T[s]=new A(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(P,R);T[s]=new A(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){T[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),T.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){T[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function L(i,s,c,f){var m=T.hasOwnProperty(s)?T[s]:null;(m!==null?m.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,c,m,f)&&(c=null),f||m===null?v(s)&&(c===null?i.removeAttribute(s):i.setAttribute(s,""+c)):m.mustUseProperty?i[m.propertyName]=c===null?m.type===3?!1:"":c:(s=m.attributeName,f=m.attributeNamespace,c===null?i.removeAttribute(s):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,f?i.setAttributeNS(f,s,c):i.setAttribute(s,c))))}var M=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),B=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),ee=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),J=Symbol.iterator;function ae(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Object.assign,j;function W(i){if(j===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+i}var ue=!1;function xe(i,s){if(!i||ue)return"";ue=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var f=$}Reflect.construct(i,[],s)}else{try{s.call()}catch($){f=$}i.call(s.prototype)}else{try{throw Error()}catch($){f=$}i()}}catch($){if($&&f&&typeof $.stack=="string"){for(var m=$.stack.split(`
`),w=f.stack.split(`
`),k=m.length-1,N=w.length-1;1<=k&&0<=N&&m[k]!==w[N];)N--;for(;1<=k&&0<=N;k--,N--)if(m[k]!==w[N]){if(k!==1||N!==1)do if(k--,N--,0>N||m[k]!==w[N]){var D=`
`+m[k].replace(" at new "," at ");return i.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",i.displayName)),D}while(1<=k&&0<=N);break}}}finally{ue=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?W(i):""}function Ce(i){switch(i.tag){case 5:return W(i.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function _e(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case B:return"Portal";case G:return"Profiler";case V:return"StrictMode";case ye:return"Suspense";case oe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ee:return(i.displayName||"Context")+".Consumer";case K:return(i._context.displayName||"Context")+".Provider";case re:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Re:return s=i.displayName||null,s!==null?s:_e(i.type)||"Memo";case Q:s=i._payload,i=i._init;try{return _e(i(s))}catch{}}return null}function be(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(s);case 8:return s===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Me(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ze(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Oe(i){var s=ze(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,w=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(k){f=""+k,w.call(this,k)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Nn(i){i._valueTracker||(i._valueTracker=Oe(i))}function fi(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),f="";return i&&(f=ze(i)?i.checked?"true":"false":i.value),i=f,i!==c?(s.setValue(i),!0):!1}function Be(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ke(i,s){var c=s.checked;return ie({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function vt(i,s){var c=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;c=Me(s.value!=null?s.value:c),i._wrapperState={initialChecked:f,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function At(i,s){s=s.checked,s!=null&&L(i,"checked",s,!1)}function os(i,s){At(i,s);var c=Me(s.value),f=s.type;if(c!=null)f==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Xo(i,s.type,c):s.hasOwnProperty("defaultValue")&&Xo(i,s.type,Me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function Mr(i,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,c||s===i.value||(i.value=s),i.defaultValue=s}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Xo(i,s,c){(s!=="number"||Be(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var qo=Array.isArray;function Mi(i,s,c,f){if(i=i.options,s){s={};for(var m=0;m<c.length;m++)s["$"+c[m]]=!0;for(c=0;c<i.length;c++)m=s.hasOwnProperty("$"+i[c].value),i[c].selected!==m&&(i[c].selected=m),m&&f&&(i[c].defaultSelected=!0)}else{for(c=""+Me(c),s=null,m=0;m<i.length;m++){if(i[m].value===c){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Tu(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Nf(i,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(t(92));if(qo(c)){if(1<c.length)throw Error(t(93));c=c[0]}s=c}s==null&&(s=""),c=s}i._wrapperState={initialValue:Me(c)}}function Lf(i,s){var c=Me(s.value),f=Me(s.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),s.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),f!=null&&(i.defaultValue=""+f)}function Mf(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function If(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pi(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?If(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ii,Di=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,f,m){MSApp.execUnsafeLocalFunction(function(){return i(s,c,f,m)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Ii=Ii||document.createElement("div"),Ii.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ii.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Fs(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var Pu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X_=["Webkit","ms","Moz","O"];Object.keys(Pu).forEach(function(i){X_.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Pu[s]=Pu[i]})});function Sw(i,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||Pu.hasOwnProperty(i)&&Pu[i]?(""+s).trim():s+"px"}function Ew(i,s){i=i.style;for(var c in s)if(s.hasOwnProperty(c)){var f=c.indexOf("--")===0,m=Sw(c,s[c],f);c==="float"&&(c="cssFloat"),f?i.setProperty(c,m):i[c]=m}}var q_=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xm(i,s){if(s){if(q_[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Am(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sm=null;function Em(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _m=null,Tl=null,Pl=null;function _w(i){if(i=Qu(i)){if(typeof _m!="function")throw Error(t(280));var s=i.stateNode;s&&(s=ip(s),_m(i.stateNode,i.type,s))}}function Cw(i){Tl?Pl?Pl.push(i):Pl=[i]:Tl=i}function kw(){if(Tl){var i=Tl,s=Pl;if(Pl=Tl=null,_w(i),s)for(i=0;i<s.length;i++)_w(s[i])}}function Tw(i,s){return i(s)}function Pw(){}var Cm=!1;function Rw(i,s,c){if(Cm)return i(s,c);Cm=!0;try{return Tw(i,s,c)}finally{Cm=!1,(Tl!==null||Pl!==null)&&(Pw(),kw())}}function Ru(i,s){var c=i.stateNode;if(c===null)return null;var f=ip(c);if(f===null)return null;c=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(t(231,s,typeof c));return c}var km=!1;if(u)try{var Nu={};Object.defineProperty(Nu,"passive",{get:function(){km=!0}}),window.addEventListener("test",Nu,Nu),window.removeEventListener("test",Nu,Nu)}catch{km=!1}function Y_(i,s,c,f,m,w,k,N,D){var $=Array.prototype.slice.call(arguments,3);try{s.apply(c,$)}catch(Y){this.onError(Y)}}var Lu=!1,Df=null,Ff=!1,Tm=null,K_={onError:function(i){Lu=!0,Df=i}};function Q_(i,s,c,f,m,w,k,N,D){Lu=!1,Df=null,Y_.apply(K_,arguments)}function J_(i,s,c,f,m,w,k,N,D){if(Q_.apply(this,arguments),Lu){if(Lu){var $=Df;Lu=!1,Df=null}else throw Error(t(198));Ff||(Ff=!0,Tm=$)}}function Yo(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function Nw(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Lw(i){if(Yo(i)!==i)throw Error(t(188))}function Z_(i){var s=i.alternate;if(!s){if(s=Yo(i),s===null)throw Error(t(188));return s!==i?null:i}for(var c=i,f=s;;){var m=c.return;if(m===null)break;var w=m.alternate;if(w===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===c)return Lw(m),i;if(w===f)return Lw(m),s;w=w.sibling}throw Error(t(188))}if(c.return!==f.return)c=m,f=w;else{for(var k=!1,N=m.child;N;){if(N===c){k=!0,c=m,f=w;break}if(N===f){k=!0,f=m,c=w;break}N=N.sibling}if(!k){for(N=w.child;N;){if(N===c){k=!0,c=w,f=m;break}if(N===f){k=!0,f=w,c=m;break}N=N.sibling}if(!k)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?i:s}function Mw(i){return i=Z_(i),i!==null?Iw(i):null}function Iw(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Iw(i);if(s!==null)return s;i=i.sibling}return null}var Dw=e.unstable_scheduleCallback,Fw=e.unstable_cancelCallback,eC=e.unstable_shouldYield,tC=e.unstable_requestPaint,St=e.unstable_now,nC=e.unstable_getCurrentPriorityLevel,Pm=e.unstable_ImmediatePriority,Ow=e.unstable_UserBlockingPriority,Of=e.unstable_NormalPriority,iC=e.unstable_LowPriority,jw=e.unstable_IdlePriority,jf=null,as=null;function sC(i){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(jf,i,void 0,(i.current.flags&128)===128)}catch{}}var Fi=Math.clz32?Math.clz32:aC,rC=Math.log,oC=Math.LN2;function aC(i){return i>>>=0,i===0?32:31-(rC(i)/oC|0)|0}var zf=64,Bf=4194304;function Mu(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Hf(i,s){var c=i.pendingLanes;if(c===0)return 0;var f=0,m=i.suspendedLanes,w=i.pingedLanes,k=c&268435455;if(k!==0){var N=k&~m;N!==0?f=Mu(N):(w&=k,w!==0&&(f=Mu(w)))}else k=c&~m,k!==0?f=Mu(k):w!==0&&(f=Mu(w));if(f===0)return 0;if(s!==0&&s!==f&&(s&m)===0&&(m=f&-f,w=s&-s,m>=w||m===16&&(w&4194240)!==0))return s;if((f&4)!==0&&(f|=c&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=f;0<s;)c=31-Fi(s),m=1<<c,f|=i[c],s&=~m;return f}function lC(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cC(i,s){for(var c=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,w=i.pendingLanes;0<w;){var k=31-Fi(w),N=1<<k,D=m[k];D===-1?((N&c)===0||(N&f)!==0)&&(m[k]=lC(N,s)):D<=s&&(i.expiredLanes|=N),w&=~N}}function Rm(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function zw(){var i=zf;return zf<<=1,(zf&4194240)===0&&(zf=64),i}function Nm(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function Iu(i,s,c){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Fi(s),i[s]=c}function uC(i,s){var c=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<c;){var m=31-Fi(c),w=1<<m;s[m]=0,f[m]=-1,i[m]=-1,c&=~w}}function Lm(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var f=31-Fi(c),m=1<<f;m&s|i[f]&s&&(i[f]|=s),c&=~m}}var qe=0;function Bw(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Hw,Mm,Uw,$w,Vw,Im=!1,Uf=[],Ir=null,Dr=null,Fr=null,Du=new Map,Fu=new Map,Or=[],dC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ww(i,s){switch(i){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Du.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(s.pointerId)}}function Ou(i,s,c,f,m,w){return i===null||i.nativeEvent!==w?(i={blockedOn:s,domEventName:c,eventSystemFlags:f,nativeEvent:w,targetContainers:[m]},s!==null&&(s=Qu(s),s!==null&&Mm(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function hC(i,s,c,f,m){switch(s){case"focusin":return Ir=Ou(Ir,i,s,c,f,m),!0;case"dragenter":return Dr=Ou(Dr,i,s,c,f,m),!0;case"mouseover":return Fr=Ou(Fr,i,s,c,f,m),!0;case"pointerover":var w=m.pointerId;return Du.set(w,Ou(Du.get(w)||null,i,s,c,f,m)),!0;case"gotpointercapture":return w=m.pointerId,Fu.set(w,Ou(Fu.get(w)||null,i,s,c,f,m)),!0}return!1}function Gw(i){var s=Ko(i.target);if(s!==null){var c=Yo(s);if(c!==null){if(s=c.tag,s===13){if(s=Nw(c),s!==null){i.blockedOn=s,Vw(i.priority,function(){Uw(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function $f(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=Fm(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);Sm=f,c.target.dispatchEvent(f),Sm=null}else return s=Qu(c),s!==null&&Mm(s),i.blockedOn=c,!1;s.shift()}return!0}function Xw(i,s,c){$f(i)&&c.delete(s)}function fC(){Im=!1,Ir!==null&&$f(Ir)&&(Ir=null),Dr!==null&&$f(Dr)&&(Dr=null),Fr!==null&&$f(Fr)&&(Fr=null),Du.forEach(Xw),Fu.forEach(Xw)}function ju(i,s){i.blockedOn===s&&(i.blockedOn=null,Im||(Im=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fC)))}function zu(i){function s(m){return ju(m,i)}if(0<Uf.length){ju(Uf[0],i);for(var c=1;c<Uf.length;c++){var f=Uf[c];f.blockedOn===i&&(f.blockedOn=null)}}for(Ir!==null&&ju(Ir,i),Dr!==null&&ju(Dr,i),Fr!==null&&ju(Fr,i),Du.forEach(s),Fu.forEach(s),c=0;c<Or.length;c++)f=Or[c],f.blockedOn===i&&(f.blockedOn=null);for(;0<Or.length&&(c=Or[0],c.blockedOn===null);)Gw(c),c.blockedOn===null&&Or.shift()}var Rl=M.ReactCurrentBatchConfig,Vf=!0;function pC(i,s,c,f){var m=qe,w=Rl.transition;Rl.transition=null;try{qe=1,Dm(i,s,c,f)}finally{qe=m,Rl.transition=w}}function gC(i,s,c,f){var m=qe,w=Rl.transition;Rl.transition=null;try{qe=4,Dm(i,s,c,f)}finally{qe=m,Rl.transition=w}}function Dm(i,s,c,f){if(Vf){var m=Fm(i,s,c,f);if(m===null)Zm(i,s,f,Wf,c),Ww(i,f);else if(hC(m,i,s,c,f))f.stopPropagation();else if(Ww(i,f),s&4&&-1<dC.indexOf(i)){for(;m!==null;){var w=Qu(m);if(w!==null&&Hw(w),w=Fm(i,s,c,f),w===null&&Zm(i,s,f,Wf,c),w===m)break;m=w}m!==null&&f.stopPropagation()}else Zm(i,s,f,null,c)}}var Wf=null;function Fm(i,s,c,f){if(Wf=null,i=Em(f),i=Ko(i),i!==null)if(s=Yo(i),s===null)i=null;else if(c=s.tag,c===13){if(i=Nw(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Wf=i,null}function qw(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nC()){case Pm:return 1;case Ow:return 4;case Of:case iC:return 16;case jw:return 536870912;default:return 16}default:return 16}}var jr=null,Om=null,Gf=null;function Yw(){if(Gf)return Gf;var i,s=Om,c=s.length,f,m="value"in jr?jr.value:jr.textContent,w=m.length;for(i=0;i<c&&s[i]===m[i];i++);var k=c-i;for(f=1;f<=k&&s[c-f]===m[w-f];f++);return Gf=m.slice(i,1<f?1-f:void 0)}function Xf(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function qf(){return!0}function Kw(){return!1}function Vn(i){function s(c,f,m,w,k){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=w,this.target=k,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(c=i[N],this[N]=c?c(w):w[N]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?qf:Kw,this.isPropagationStopped=Kw,this}return ie(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=qf)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=qf)},persist:function(){},isPersistent:qf}),s}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jm=Vn(Nl),Bu=ie({},Nl,{view:0,detail:0}),mC=Vn(Bu),zm,Bm,Hu,Yf=ie({},Bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Um,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Hu&&(Hu&&i.type==="mousemove"?(zm=i.screenX-Hu.screenX,Bm=i.screenY-Hu.screenY):Bm=zm=0,Hu=i),zm)},movementY:function(i){return"movementY"in i?i.movementY:Bm}}),Qw=Vn(Yf),yC=ie({},Yf,{dataTransfer:0}),vC=Vn(yC),wC=ie({},Bu,{relatedTarget:0}),Hm=Vn(wC),bC=ie({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),xC=Vn(bC),AC=ie({},Nl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),SC=Vn(AC),EC=ie({},Nl,{data:0}),Jw=Vn(EC),_C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TC(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=kC[i])?!!s[i]:!1}function Um(){return TC}var PC=ie({},Bu,{key:function(i){if(i.key){var s=_C[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Xf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?CC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Um,charCode:function(i){return i.type==="keypress"?Xf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),RC=Vn(PC),NC=ie({},Yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zw=Vn(NC),LC=ie({},Bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Um}),MC=Vn(LC),IC=ie({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),DC=Vn(IC),FC=ie({},Yf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),OC=Vn(FC),jC=[9,13,27,32],$m=u&&"CompositionEvent"in window,Uu=null;u&&"documentMode"in document&&(Uu=document.documentMode);var zC=u&&"TextEvent"in window&&!Uu,eb=u&&(!$m||Uu&&8<Uu&&11>=Uu),tb=" ",nb=!1;function ib(i,s){switch(i){case"keyup":return jC.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sb(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ll=!1;function BC(i,s){switch(i){case"compositionend":return sb(s);case"keypress":return s.which!==32?null:(nb=!0,tb);case"textInput":return i=s.data,i===tb&&nb?null:i;default:return null}}function HC(i,s){if(Ll)return i==="compositionend"||!$m&&ib(i,s)?(i=Yw(),Gf=Om=jr=null,Ll=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return eb&&s.locale!=="ko"?null:s.data;default:return null}}var UC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rb(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!UC[i.type]:s==="textarea"}function ob(i,s,c,f){Cw(f),s=ep(s,"onChange"),0<s.length&&(c=new jm("onChange","change",null,c,f),i.push({event:c,listeners:s}))}var $u=null,Vu=null;function $C(i){Eb(i,0)}function Kf(i){var s=Ol(i);if(fi(s))return i}function VC(i,s){if(i==="change")return s}var ab=!1;if(u){var Vm;if(u){var Wm="oninput"in document;if(!Wm){var lb=document.createElement("div");lb.setAttribute("oninput","return;"),Wm=typeof lb.oninput=="function"}Vm=Wm}else Vm=!1;ab=Vm&&(!document.documentMode||9<document.documentMode)}function cb(){$u&&($u.detachEvent("onpropertychange",ub),Vu=$u=null)}function ub(i){if(i.propertyName==="value"&&Kf(Vu)){var s=[];ob(s,Vu,i,Em(i)),Rw($C,s)}}function WC(i,s,c){i==="focusin"?(cb(),$u=s,Vu=c,$u.attachEvent("onpropertychange",ub)):i==="focusout"&&cb()}function GC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Kf(Vu)}function XC(i,s){if(i==="click")return Kf(s)}function qC(i,s){if(i==="input"||i==="change")return Kf(s)}function YC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Oi=typeof Object.is=="function"?Object.is:YC;function Wu(i,s){if(Oi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),f=Object.keys(s);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!h.call(s,m)||!Oi(i[m],s[m]))return!1}return!0}function db(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hb(i,s){var c=db(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=s&&f>=s)return{node:c,offset:s-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=db(c)}}function fb(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?fb(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function pb(){for(var i=window,s=Be();s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=Be(i.document)}return s}function Gm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function KC(i){var s=pb(),c=i.focusedElem,f=i.selectionRange;if(s!==c&&c&&c.ownerDocument&&fb(c.ownerDocument.documentElement,c)){if(f!==null&&Gm(c)){if(s=f.start,i=f.end,i===void 0&&(i=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(i,c.value.length);else if(i=(s=c.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var m=c.textContent.length,w=Math.min(f.start,m);f=f.end===void 0?w:Math.min(f.end,m),!i.extend&&w>f&&(m=f,f=w,w=m),m=hb(c,w);var k=hb(c,f);m&&k&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),i.removeAllRanges(),w>f?(i.addRange(s),i.extend(k.node,k.offset)):(s.setEnd(k.node,k.offset),i.addRange(s)))}}for(s=[],i=c;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)i=s[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var QC=u&&"documentMode"in document&&11>=document.documentMode,Ml=null,Xm=null,Gu=null,qm=!1;function gb(i,s,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;qm||Ml==null||Ml!==Be(f)||(f=Ml,"selectionStart"in f&&Gm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Gu&&Wu(Gu,f)||(Gu=f,f=ep(Xm,"onSelect"),0<f.length&&(s=new jm("onSelect","select",null,s,c),i.push({event:s,listeners:f}),s.target=Ml)))}function Qf(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var Il={animationend:Qf("Animation","AnimationEnd"),animationiteration:Qf("Animation","AnimationIteration"),animationstart:Qf("Animation","AnimationStart"),transitionend:Qf("Transition","TransitionEnd")},Ym={},mb={};u&&(mb=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function Jf(i){if(Ym[i])return Ym[i];if(!Il[i])return i;var s=Il[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in mb)return Ym[i]=s[c];return i}var yb=Jf("animationend"),vb=Jf("animationiteration"),wb=Jf("animationstart"),bb=Jf("transitionend"),xb=new Map,Ab="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(i,s){xb.set(i,s),o(s,[i])}for(var Km=0;Km<Ab.length;Km++){var Qm=Ab[Km],JC=Qm.toLowerCase(),ZC=Qm[0].toUpperCase()+Qm.slice(1);zr(JC,"on"+ZC)}zr(yb,"onAnimationEnd"),zr(vb,"onAnimationIteration"),zr(wb,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(bb,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ek=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xu));function Sb(i,s,c){var f=i.type||"unknown-event";i.currentTarget=c,J_(f,s,void 0,i),i.currentTarget=null}function Eb(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],m=f.event;f=f.listeners;e:{var w=void 0;if(s)for(var k=f.length-1;0<=k;k--){var N=f[k],D=N.instance,$=N.currentTarget;if(N=N.listener,D!==w&&m.isPropagationStopped())break e;Sb(m,N,$),w=D}else for(k=0;k<f.length;k++){if(N=f[k],D=N.instance,$=N.currentTarget,N=N.listener,D!==w&&m.isPropagationStopped())break e;Sb(m,N,$),w=D}}}if(Ff)throw i=Tm,Ff=!1,Tm=null,i}function rt(i,s){var c=s[ry];c===void 0&&(c=s[ry]=new Set);var f=i+"__bubble";c.has(f)||(_b(s,i,2,!1),c.add(f))}function Jm(i,s,c){var f=0;s&&(f|=4),_b(c,i,f,s)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function qu(i){if(!i[Zf]){i[Zf]=!0,n.forEach(function(c){c!=="selectionchange"&&(ek.has(c)||Jm(c,!1,i),Jm(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Zf]||(s[Zf]=!0,Jm("selectionchange",!1,s))}}function _b(i,s,c,f){switch(qw(s)){case 1:var m=pC;break;case 4:m=gC;break;default:m=Dm}c=m.bind(null,s,c,i),m=void 0,!km||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(s,c,{capture:!0,passive:m}):i.addEventListener(s,c,!0):m!==void 0?i.addEventListener(s,c,{passive:m}):i.addEventListener(s,c,!1)}function Zm(i,s,c,f,m){var w=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var N=f.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(k===4)for(k=f.return;k!==null;){var D=k.tag;if((D===3||D===4)&&(D=k.stateNode.containerInfo,D===m||D.nodeType===8&&D.parentNode===m))return;k=k.return}for(;N!==null;){if(k=Ko(N),k===null)return;if(D=k.tag,D===5||D===6){f=w=k;continue e}N=N.parentNode}}f=f.return}Rw(function(){var $=w,Y=Em(c),Z=[];e:{var X=xb.get(i);if(X!==void 0){var le=jm,pe=i;switch(i){case"keypress":if(Xf(c)===0)break e;case"keydown":case"keyup":le=RC;break;case"focusin":pe="focus",le=Hm;break;case"focusout":pe="blur",le=Hm;break;case"beforeblur":case"afterblur":le=Hm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Qw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=vC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=MC;break;case yb:case vb:case wb:le=xC;break;case bb:le=DC;break;case"scroll":le=mC;break;case"wheel":le=OC;break;case"copy":case"cut":case"paste":le=SC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Zw}var ge=(s&4)!==0,Et=!ge&&i==="scroll",H=ge?X!==null?X+"Capture":null:X;ge=[];for(var z=$,U;z!==null;){U=z;var ne=U.stateNode;if(U.tag===5&&ne!==null&&(U=ne,H!==null&&(ne=Ru(z,H),ne!=null&&ge.push(Yu(z,ne,U)))),Et)break;z=z.return}0<ge.length&&(X=new le(X,pe,null,c,Y),Z.push({event:X,listeners:ge}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",X&&c!==Sm&&(pe=c.relatedTarget||c.fromElement)&&(Ko(pe)||pe[Os]))break e;if((le||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,le?(pe=c.relatedTarget||c.toElement,le=$,pe=pe?Ko(pe):null,pe!==null&&(Et=Yo(pe),pe!==Et||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(le=null,pe=$),le!==pe)){if(ge=Qw,ne="onMouseLeave",H="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(ge=Zw,ne="onPointerLeave",H="onPointerEnter",z="pointer"),Et=le==null?X:Ol(le),U=pe==null?X:Ol(pe),X=new ge(ne,z+"leave",le,c,Y),X.target=Et,X.relatedTarget=U,ne=null,Ko(Y)===$&&(ge=new ge(H,z+"enter",pe,c,Y),ge.target=U,ge.relatedTarget=Et,ne=ge),Et=ne,le&&pe)t:{for(ge=le,H=pe,z=0,U=ge;U;U=Dl(U))z++;for(U=0,ne=H;ne;ne=Dl(ne))U++;for(;0<z-U;)ge=Dl(ge),z--;for(;0<U-z;)H=Dl(H),U--;for(;z--;){if(ge===H||H!==null&&ge===H.alternate)break t;ge=Dl(ge),H=Dl(H)}ge=null}else ge=null;le!==null&&Cb(Z,X,le,ge,!1),pe!==null&&Et!==null&&Cb(Z,Et,pe,ge,!0)}}e:{if(X=$?Ol($):window,le=X.nodeName&&X.nodeName.toLowerCase(),le==="select"||le==="input"&&X.type==="file")var me=VC;else if(rb(X))if(ab)me=qC;else{me=GC;var Ae=WC}else(le=X.nodeName)&&le.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(me=XC);if(me&&(me=me(i,$))){ob(Z,me,c,Y);break e}Ae&&Ae(i,X,$),i==="focusout"&&(Ae=X._wrapperState)&&Ae.controlled&&X.type==="number"&&Xo(X,"number",X.value)}switch(Ae=$?Ol($):window,i){case"focusin":(rb(Ae)||Ae.contentEditable==="true")&&(Ml=Ae,Xm=$,Gu=null);break;case"focusout":Gu=Xm=Ml=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,gb(Z,c,Y);break;case"selectionchange":if(QC)break;case"keydown":case"keyup":gb(Z,c,Y)}var Se;if($m)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ll?ib(i,c)&&(ke="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(ke="onCompositionStart");ke&&(eb&&c.locale!=="ko"&&(Ll||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ll&&(Se=Yw()):(jr=Y,Om="value"in jr?jr.value:jr.textContent,Ll=!0)),Ae=ep($,ke),0<Ae.length&&(ke=new Jw(ke,i,null,c,Y),Z.push({event:ke,listeners:Ae}),Se?ke.data=Se:(Se=sb(c),Se!==null&&(ke.data=Se)))),(Se=zC?BC(i,c):HC(i,c))&&($=ep($,"onBeforeInput"),0<$.length&&(Y=new Jw("onBeforeInput","beforeinput",null,c,Y),Z.push({event:Y,listeners:$}),Y.data=Se))}Eb(Z,s)})}function Yu(i,s,c){return{instance:i,listener:s,currentTarget:c}}function ep(i,s){for(var c=s+"Capture",f=[];i!==null;){var m=i,w=m.stateNode;m.tag===5&&w!==null&&(m=w,w=Ru(i,c),w!=null&&f.unshift(Yu(i,w,m)),w=Ru(i,s),w!=null&&f.push(Yu(i,w,m))),i=i.return}return f}function Dl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Cb(i,s,c,f,m){for(var w=s._reactName,k=[];c!==null&&c!==f;){var N=c,D=N.alternate,$=N.stateNode;if(D!==null&&D===f)break;N.tag===5&&$!==null&&(N=$,m?(D=Ru(c,w),D!=null&&k.unshift(Yu(c,D,N))):m||(D=Ru(c,w),D!=null&&k.push(Yu(c,D,N)))),c=c.return}k.length!==0&&i.push({event:s,listeners:k})}var tk=/\r\n?/g,nk=/\u0000|\uFFFD/g;function kb(i){return(typeof i=="string"?i:""+i).replace(tk,`
`).replace(nk,"")}function tp(i,s,c){if(s=kb(s),kb(i)!==s&&c)throw Error(t(425))}function np(){}var ey=null,ty=null;function ny(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var iy=typeof setTimeout=="function"?setTimeout:void 0,ik=typeof clearTimeout=="function"?clearTimeout:void 0,Tb=typeof Promise=="function"?Promise:void 0,sk=typeof queueMicrotask=="function"?queueMicrotask:typeof Tb<"u"?function(i){return Tb.resolve(null).then(i).catch(rk)}:iy;function rk(i){setTimeout(function(){throw i})}function sy(i,s){var c=s,f=0;do{var m=c.nextSibling;if(i.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(f===0){i.removeChild(m),zu(s);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=m}while(c);zu(s)}function Br(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Pb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return i;s--}else c==="/$"&&s++}i=i.previousSibling}return null}var Fl=Math.random().toString(36).slice(2),ls="__reactFiber$"+Fl,Ku="__reactProps$"+Fl,Os="__reactContainer$"+Fl,ry="__reactEvents$"+Fl,ok="__reactListeners$"+Fl,ak="__reactHandles$"+Fl;function Ko(i){var s=i[ls];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Os]||c[ls]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=Pb(i);i!==null;){if(c=i[ls])return c;i=Pb(i)}return s}i=c,c=i.parentNode}return null}function Qu(i){return i=i[ls]||i[Os],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ol(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ip(i){return i[Ku]||null}var oy=[],jl=-1;function Hr(i){return{current:i}}function ot(i){0>jl||(i.current=oy[jl],oy[jl]=null,jl--)}function nt(i,s){jl++,oy[jl]=i.current,i.current=s}var Ur={},an=Hr(Ur),Ln=Hr(!1),Qo=Ur;function zl(i,s){var c=i.type.contextTypes;if(!c)return Ur;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var m={},w;for(w in c)m[w]=s[w];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=m),m}function Mn(i){return i=i.childContextTypes,i!=null}function sp(){ot(Ln),ot(an)}function Rb(i,s,c){if(an.current!==Ur)throw Error(t(168));nt(an,s),nt(Ln,c)}function Nb(i,s,c){var f=i.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var m in f)if(!(m in s))throw Error(t(108,be(i)||"Unknown",m));return ie({},c,f)}function rp(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ur,Qo=an.current,nt(an,i),nt(Ln,Ln.current),!0}function Lb(i,s,c){var f=i.stateNode;if(!f)throw Error(t(169));c?(i=Nb(i,s,Qo),f.__reactInternalMemoizedMergedChildContext=i,ot(Ln),ot(an),nt(an,i)):ot(Ln),nt(Ln,c)}var js=null,op=!1,ay=!1;function Mb(i){js===null?js=[i]:js.push(i)}function lk(i){op=!0,Mb(i)}function $r(){if(!ay&&js!==null){ay=!0;var i=0,s=qe;try{var c=js;for(qe=1;i<c.length;i++){var f=c[i];do f=f(!0);while(f!==null)}js=null,op=!1}catch(m){throw js!==null&&(js=js.slice(i+1)),Dw(Pm,$r),m}finally{qe=s,ay=!1}}return null}var Bl=[],Hl=0,ap=null,lp=0,gi=[],mi=0,Jo=null,zs=1,Bs="";function Zo(i,s){Bl[Hl++]=lp,Bl[Hl++]=ap,ap=i,lp=s}function Ib(i,s,c){gi[mi++]=zs,gi[mi++]=Bs,gi[mi++]=Jo,Jo=i;var f=zs;i=Bs;var m=32-Fi(f)-1;f&=~(1<<m),c+=1;var w=32-Fi(s)+m;if(30<w){var k=m-m%5;w=(f&(1<<k)-1).toString(32),f>>=k,m-=k,zs=1<<32-Fi(s)+m|c<<m|f,Bs=w+i}else zs=1<<w|c<<m|f,Bs=i}function ly(i){i.return!==null&&(Zo(i,1),Ib(i,1,0))}function cy(i){for(;i===ap;)ap=Bl[--Hl],Bl[Hl]=null,lp=Bl[--Hl],Bl[Hl]=null;for(;i===Jo;)Jo=gi[--mi],gi[mi]=null,Bs=gi[--mi],gi[mi]=null,zs=gi[--mi],gi[mi]=null}var Wn=null,Gn=null,lt=!1,ji=null;function Db(i,s){var c=bi(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=i,s=i.deletions,s===null?(i.deletions=[c],i.flags|=16):s.push(c)}function Fb(i,s){switch(i.tag){case 5:var c=i.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Wn=i,Gn=Br(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Wn=i,Gn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=Jo!==null?{id:zs,overflow:Bs}:null,i.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=bi(18,null,null,0),c.stateNode=s,c.return=i,i.child=c,Wn=i,Gn=null,!0):!1;default:return!1}}function uy(i){return(i.mode&1)!==0&&(i.flags&128)===0}function dy(i){if(lt){var s=Gn;if(s){var c=s;if(!Fb(i,s)){if(uy(i))throw Error(t(418));s=Br(c.nextSibling);var f=Wn;s&&Fb(i,s)?Db(f,c):(i.flags=i.flags&-4097|2,lt=!1,Wn=i)}}else{if(uy(i))throw Error(t(418));i.flags=i.flags&-4097|2,lt=!1,Wn=i}}}function Ob(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Wn=i}function cp(i){if(i!==Wn)return!1;if(!lt)return Ob(i),lt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!ny(i.type,i.memoizedProps)),s&&(s=Gn)){if(uy(i))throw jb(),Error(t(418));for(;s;)Db(i,s),s=Br(s.nextSibling)}if(Ob(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(s===0){Gn=Br(i.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}i=i.nextSibling}Gn=null}}else Gn=Wn?Br(i.stateNode.nextSibling):null;return!0}function jb(){for(var i=Gn;i;)i=Br(i.nextSibling)}function Ul(){Gn=Wn=null,lt=!1}function hy(i){ji===null?ji=[i]:ji.push(i)}var ck=M.ReactCurrentBatchConfig;function Ju(i,s,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,i));var m=f,w=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===w?s.ref:(s=function(k){var N=m.refs;k===null?delete N[w]:N[w]=k},s._stringRef=w,s)}if(typeof i!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,i))}return i}function up(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function zb(i){var s=i._init;return s(i._payload)}function Bb(i){function s(H,z){if(i){var U=H.deletions;U===null?(H.deletions=[z],H.flags|=16):U.push(z)}}function c(H,z){if(!i)return null;for(;z!==null;)s(H,z),z=z.sibling;return null}function f(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function m(H,z){return H=Qr(H,z),H.index=0,H.sibling=null,H}function w(H,z,U){return H.index=U,i?(U=H.alternate,U!==null?(U=U.index,U<z?(H.flags|=2,z):U):(H.flags|=2,z)):(H.flags|=1048576,z)}function k(H){return i&&H.alternate===null&&(H.flags|=2),H}function N(H,z,U,ne){return z===null||z.tag!==6?(z=iv(U,H.mode,ne),z.return=H,z):(z=m(z,U),z.return=H,z)}function D(H,z,U,ne){var me=U.type;return me===O?Y(H,z,U.props.children,ne,U.key):z!==null&&(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Q&&zb(me)===z.type)?(ne=m(z,U.props),ne.ref=Ju(H,z,U),ne.return=H,ne):(ne=Ip(U.type,U.key,U.props,null,H.mode,ne),ne.ref=Ju(H,z,U),ne.return=H,ne)}function $(H,z,U,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==U.containerInfo||z.stateNode.implementation!==U.implementation?(z=sv(U,H.mode,ne),z.return=H,z):(z=m(z,U.children||[]),z.return=H,z)}function Y(H,z,U,ne,me){return z===null||z.tag!==7?(z=aa(U,H.mode,ne,me),z.return=H,z):(z=m(z,U),z.return=H,z)}function Z(H,z,U){if(typeof z=="string"&&z!==""||typeof z=="number")return z=iv(""+z,H.mode,U),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return U=Ip(z.type,z.key,z.props,null,H.mode,U),U.ref=Ju(H,null,z),U.return=H,U;case B:return z=sv(z,H.mode,U),z.return=H,z;case Q:var ne=z._init;return Z(H,ne(z._payload),U)}if(qo(z)||ae(z))return z=aa(z,H.mode,U,null),z.return=H,z;up(H,z)}return null}function X(H,z,U,ne){var me=z!==null?z.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return me!==null?null:N(H,z,""+U,ne);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case I:return U.key===me?D(H,z,U,ne):null;case B:return U.key===me?$(H,z,U,ne):null;case Q:return me=U._init,X(H,z,me(U._payload),ne)}if(qo(U)||ae(U))return me!==null?null:Y(H,z,U,ne,null);up(H,U)}return null}function le(H,z,U,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return H=H.get(U)||null,N(z,H,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case I:return H=H.get(ne.key===null?U:ne.key)||null,D(z,H,ne,me);case B:return H=H.get(ne.key===null?U:ne.key)||null,$(z,H,ne,me);case Q:var Ae=ne._init;return le(H,z,U,Ae(ne._payload),me)}if(qo(ne)||ae(ne))return H=H.get(U)||null,Y(z,H,ne,me,null);up(z,ne)}return null}function pe(H,z,U,ne){for(var me=null,Ae=null,Se=z,ke=z=0,Ut=null;Se!==null&&ke<U.length;ke++){Se.index>ke?(Ut=Se,Se=null):Ut=Se.sibling;var We=X(H,Se,U[ke],ne);if(We===null){Se===null&&(Se=Ut);break}i&&Se&&We.alternate===null&&s(H,Se),z=w(We,z,ke),Ae===null?me=We:Ae.sibling=We,Ae=We,Se=Ut}if(ke===U.length)return c(H,Se),lt&&Zo(H,ke),me;if(Se===null){for(;ke<U.length;ke++)Se=Z(H,U[ke],ne),Se!==null&&(z=w(Se,z,ke),Ae===null?me=Se:Ae.sibling=Se,Ae=Se);return lt&&Zo(H,ke),me}for(Se=f(H,Se);ke<U.length;ke++)Ut=le(Se,H,ke,U[ke],ne),Ut!==null&&(i&&Ut.alternate!==null&&Se.delete(Ut.key===null?ke:Ut.key),z=w(Ut,z,ke),Ae===null?me=Ut:Ae.sibling=Ut,Ae=Ut);return i&&Se.forEach(function(Jr){return s(H,Jr)}),lt&&Zo(H,ke),me}function ge(H,z,U,ne){var me=ae(U);if(typeof me!="function")throw Error(t(150));if(U=me.call(U),U==null)throw Error(t(151));for(var Ae=me=null,Se=z,ke=z=0,Ut=null,We=U.next();Se!==null&&!We.done;ke++,We=U.next()){Se.index>ke?(Ut=Se,Se=null):Ut=Se.sibling;var Jr=X(H,Se,We.value,ne);if(Jr===null){Se===null&&(Se=Ut);break}i&&Se&&Jr.alternate===null&&s(H,Se),z=w(Jr,z,ke),Ae===null?me=Jr:Ae.sibling=Jr,Ae=Jr,Se=Ut}if(We.done)return c(H,Se),lt&&Zo(H,ke),me;if(Se===null){for(;!We.done;ke++,We=U.next())We=Z(H,We.value,ne),We!==null&&(z=w(We,z,ke),Ae===null?me=We:Ae.sibling=We,Ae=We);return lt&&Zo(H,ke),me}for(Se=f(H,Se);!We.done;ke++,We=U.next())We=le(Se,H,ke,We.value,ne),We!==null&&(i&&We.alternate!==null&&Se.delete(We.key===null?ke:We.key),z=w(We,z,ke),Ae===null?me=We:Ae.sibling=We,Ae=We);return i&&Se.forEach(function(Uk){return s(H,Uk)}),lt&&Zo(H,ke),me}function Et(H,z,U,ne){if(typeof U=="object"&&U!==null&&U.type===O&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case I:e:{for(var me=U.key,Ae=z;Ae!==null;){if(Ae.key===me){if(me=U.type,me===O){if(Ae.tag===7){c(H,Ae.sibling),z=m(Ae,U.props.children),z.return=H,H=z;break e}}else if(Ae.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Q&&zb(me)===Ae.type){c(H,Ae.sibling),z=m(Ae,U.props),z.ref=Ju(H,Ae,U),z.return=H,H=z;break e}c(H,Ae);break}else s(H,Ae);Ae=Ae.sibling}U.type===O?(z=aa(U.props.children,H.mode,ne,U.key),z.return=H,H=z):(ne=Ip(U.type,U.key,U.props,null,H.mode,ne),ne.ref=Ju(H,z,U),ne.return=H,H=ne)}return k(H);case B:e:{for(Ae=U.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===U.containerInfo&&z.stateNode.implementation===U.implementation){c(H,z.sibling),z=m(z,U.children||[]),z.return=H,H=z;break e}else{c(H,z);break}else s(H,z);z=z.sibling}z=sv(U,H.mode,ne),z.return=H,H=z}return k(H);case Q:return Ae=U._init,Et(H,z,Ae(U._payload),ne)}if(qo(U))return pe(H,z,U,ne);if(ae(U))return ge(H,z,U,ne);up(H,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,z!==null&&z.tag===6?(c(H,z.sibling),z=m(z,U),z.return=H,H=z):(c(H,z),z=iv(U,H.mode,ne),z.return=H,H=z),k(H)):c(H,z)}return Et}var $l=Bb(!0),Hb=Bb(!1),dp=Hr(null),hp=null,Vl=null,fy=null;function py(){fy=Vl=hp=null}function gy(i){var s=dp.current;ot(dp),i._currentValue=s}function my(i,s,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===c)break;i=i.return}}function Wl(i,s){hp=i,fy=Vl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(In=!0),i.firstContext=null)}function yi(i){var s=i._currentValue;if(fy!==i)if(i={context:i,memoizedValue:s,next:null},Vl===null){if(hp===null)throw Error(t(308));Vl=i,hp.dependencies={lanes:0,firstContext:i}}else Vl=Vl.next=i;return s}var ea=null;function yy(i){ea===null?ea=[i]:ea.push(i)}function Ub(i,s,c,f){var m=s.interleaved;return m===null?(c.next=c,yy(s)):(c.next=m.next,m.next=c),s.interleaved=c,Hs(i,f)}function Hs(i,s){i.lanes|=s;var c=i.alternate;for(c!==null&&(c.lanes|=s),c=i,i=i.return;i!==null;)i.childLanes|=s,c=i.alternate,c!==null&&(c.childLanes|=s),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Vr=!1;function vy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $b(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Us(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Wr(i,s,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Ue&2)!==0){var m=f.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),f.pending=s,Hs(i,c)}return m=f.interleaved,m===null?(s.next=s,yy(f)):(s.next=m.next,m.next=s),f.interleaved=s,Hs(i,c)}function fp(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var f=s.lanes;f&=i.pendingLanes,c|=f,s.lanes=c,Lm(i,c)}}function Vb(i,s){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?m=w=k:w=w.next=k,c=c.next}while(c!==null);w===null?m=w=s:w=w.next=s}else m=w=s;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:f.shared,effects:f.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}function pp(i,s,c,f){var m=i.updateQueue;Vr=!1;var w=m.firstBaseUpdate,k=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var D=N,$=D.next;D.next=null,k===null?w=$:k.next=$,k=D;var Y=i.alternate;Y!==null&&(Y=Y.updateQueue,N=Y.lastBaseUpdate,N!==k&&(N===null?Y.firstBaseUpdate=$:N.next=$,Y.lastBaseUpdate=D))}if(w!==null){var Z=m.baseState;k=0,Y=$=D=null,N=w;do{var X=N.lane,le=N.eventTime;if((f&X)===X){Y!==null&&(Y=Y.next={eventTime:le,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var pe=i,ge=N;switch(X=s,le=c,ge.tag){case 1:if(pe=ge.payload,typeof pe=="function"){Z=pe.call(le,Z,X);break e}Z=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ge.payload,X=typeof pe=="function"?pe.call(le,Z,X):pe,X==null)break e;Z=ie({},Z,X);break e;case 2:Vr=!0}}N.callback!==null&&N.lane!==0&&(i.flags|=64,X=m.effects,X===null?m.effects=[N]:X.push(N))}else le={eventTime:le,lane:X,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Y===null?($=Y=le,D=Z):Y=Y.next=le,k|=X;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;X=N,N=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);if(Y===null&&(D=Z),m.baseState=D,m.firstBaseUpdate=$,m.lastBaseUpdate=Y,s=m.shared.interleaved,s!==null){m=s;do k|=m.lane,m=m.next;while(m!==s)}else w===null&&(m.shared.lanes=0);ia|=k,i.lanes=k,i.memoizedState=Z}}function Wb(i,s,c){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var f=i[s],m=f.callback;if(m!==null){if(f.callback=null,f=c,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var Zu={},cs=Hr(Zu),ed=Hr(Zu),td=Hr(Zu);function ta(i){if(i===Zu)throw Error(t(174));return i}function wy(i,s){switch(nt(td,s),nt(ed,i),nt(cs,Zu),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:pi(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=pi(s,i)}ot(cs),nt(cs,s)}function Gl(){ot(cs),ot(ed),ot(td)}function Gb(i){ta(td.current);var s=ta(cs.current),c=pi(s,i.type);s!==c&&(nt(ed,i),nt(cs,c))}function by(i){ed.current===i&&(ot(cs),ot(ed))}var pt=Hr(0);function gp(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var xy=[];function Ay(){for(var i=0;i<xy.length;i++)xy[i]._workInProgressVersionPrimary=null;xy.length=0}var mp=M.ReactCurrentDispatcher,Sy=M.ReactCurrentBatchConfig,na=0,gt=null,It=null,Bt=null,yp=!1,nd=!1,id=0,uk=0;function ln(){throw Error(t(321))}function Ey(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!Oi(i[c],s[c]))return!1;return!0}function _y(i,s,c,f,m,w){if(na=w,gt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,mp.current=i===null||i.memoizedState===null?pk:gk,i=c(f,m),nd){w=0;do{if(nd=!1,id=0,25<=w)throw Error(t(301));w+=1,Bt=It=null,s.updateQueue=null,mp.current=mk,i=c(f,m)}while(nd)}if(mp.current=bp,s=It!==null&&It.next!==null,na=0,Bt=It=gt=null,yp=!1,s)throw Error(t(300));return i}function Cy(){var i=id!==0;return id=0,i}function us(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?gt.memoizedState=Bt=i:Bt=Bt.next=i,Bt}function vi(){if(It===null){var i=gt.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var s=Bt===null?gt.memoizedState:Bt.next;if(s!==null)Bt=s,It=i;else{if(i===null)throw Error(t(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Bt===null?gt.memoizedState=Bt=i:Bt=Bt.next=i}return Bt}function sd(i,s){return typeof s=="function"?s(i):s}function ky(i){var s=vi(),c=s.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var f=It,m=f.baseQueue,w=c.pending;if(w!==null){if(m!==null){var k=m.next;m.next=w.next,w.next=k}f.baseQueue=m=w,c.pending=null}if(m!==null){w=m.next,f=f.baseState;var N=k=null,D=null,$=w;do{var Y=$.lane;if((na&Y)===Y)D!==null&&(D=D.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),f=$.hasEagerState?$.eagerState:i(f,$.action);else{var Z={lane:Y,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};D===null?(N=D=Z,k=f):D=D.next=Z,gt.lanes|=Y,ia|=Y}$=$.next}while($!==null&&$!==w);D===null?k=f:D.next=N,Oi(f,s.memoizedState)||(In=!0),s.memoizedState=f,s.baseState=k,s.baseQueue=D,c.lastRenderedState=f}if(i=c.interleaved,i!==null){m=i;do w=m.lane,gt.lanes|=w,ia|=w,m=m.next;while(m!==i)}else m===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function Ty(i){var s=vi(),c=s.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var f=c.dispatch,m=c.pending,w=s.memoizedState;if(m!==null){c.pending=null;var k=m=m.next;do w=i(w,k.action),k=k.next;while(k!==m);Oi(w,s.memoizedState)||(In=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),c.lastRenderedState=w}return[w,f]}function Xb(){}function qb(i,s){var c=gt,f=vi(),m=s(),w=!Oi(f.memoizedState,m);if(w&&(f.memoizedState=m,In=!0),f=f.queue,Py(Qb.bind(null,c,f,i),[i]),f.getSnapshot!==s||w||Bt!==null&&Bt.memoizedState.tag&1){if(c.flags|=2048,rd(9,Kb.bind(null,c,f,m,s),void 0,null),Ht===null)throw Error(t(349));(na&30)!==0||Yb(c,s,m)}return m}function Yb(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=gt.updateQueue,s===null?(s={lastEffect:null,stores:null},gt.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function Kb(i,s,c,f){s.value=c,s.getSnapshot=f,Jb(s)&&Zb(i)}function Qb(i,s,c){return c(function(){Jb(s)&&Zb(i)})}function Jb(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!Oi(i,c)}catch{return!0}}function Zb(i){var s=Hs(i,1);s!==null&&Ui(s,i,1,-1)}function ex(i){var s=us();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sd,lastRenderedState:i},s.queue=i,i=i.dispatch=fk.bind(null,gt,i),[s.memoizedState,i]}function rd(i,s,c,f){return i={tag:i,create:s,destroy:c,deps:f,next:null},s=gt.updateQueue,s===null?(s={lastEffect:null,stores:null},gt.updateQueue=s,s.lastEffect=i.next=i):(c=s.lastEffect,c===null?s.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,s.lastEffect=i)),i}function tx(){return vi().memoizedState}function vp(i,s,c,f){var m=us();gt.flags|=i,m.memoizedState=rd(1|s,c,void 0,f===void 0?null:f)}function wp(i,s,c,f){var m=vi();f=f===void 0?null:f;var w=void 0;if(It!==null){var k=It.memoizedState;if(w=k.destroy,f!==null&&Ey(f,k.deps)){m.memoizedState=rd(s,c,w,f);return}}gt.flags|=i,m.memoizedState=rd(1|s,c,w,f)}function nx(i,s){return vp(8390656,8,i,s)}function Py(i,s){return wp(2048,8,i,s)}function ix(i,s){return wp(4,2,i,s)}function sx(i,s){return wp(4,4,i,s)}function rx(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function ox(i,s,c){return c=c!=null?c.concat([i]):null,wp(4,4,rx.bind(null,s,i),c)}function Ry(){}function ax(i,s){var c=vi();s=s===void 0?null:s;var f=c.memoizedState;return f!==null&&s!==null&&Ey(s,f[1])?f[0]:(c.memoizedState=[i,s],i)}function lx(i,s){var c=vi();s=s===void 0?null:s;var f=c.memoizedState;return f!==null&&s!==null&&Ey(s,f[1])?f[0]:(i=i(),c.memoizedState=[i,s],i)}function cx(i,s,c){return(na&21)===0?(i.baseState&&(i.baseState=!1,In=!0),i.memoizedState=c):(Oi(c,s)||(c=zw(),gt.lanes|=c,ia|=c,i.baseState=!0),s)}function dk(i,s){var c=qe;qe=c!==0&&4>c?c:4,i(!0);var f=Sy.transition;Sy.transition={};try{i(!1),s()}finally{qe=c,Sy.transition=f}}function ux(){return vi().memoizedState}function hk(i,s,c){var f=Yr(i);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},dx(i))hx(s,c);else if(c=Ub(i,s,c,f),c!==null){var m=wn();Ui(c,i,f,m),fx(c,s,f)}}function fk(i,s,c){var f=Yr(i),m={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(dx(i))hx(s,m);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var k=s.lastRenderedState,N=w(k,c);if(m.hasEagerState=!0,m.eagerState=N,Oi(N,k)){var D=s.interleaved;D===null?(m.next=m,yy(s)):(m.next=D.next,D.next=m),s.interleaved=m;return}}catch{}finally{}c=Ub(i,s,m,f),c!==null&&(m=wn(),Ui(c,i,f,m),fx(c,s,f))}}function dx(i){var s=i.alternate;return i===gt||s!==null&&s===gt}function hx(i,s){nd=yp=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function fx(i,s,c){if((c&4194240)!==0){var f=s.lanes;f&=i.pendingLanes,c|=f,s.lanes=c,Lm(i,c)}}var bp={readContext:yi,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},pk={readContext:yi,useCallback:function(i,s){return us().memoizedState=[i,s===void 0?null:s],i},useContext:yi,useEffect:nx,useImperativeHandle:function(i,s,c){return c=c!=null?c.concat([i]):null,vp(4194308,4,rx.bind(null,s,i),c)},useLayoutEffect:function(i,s){return vp(4194308,4,i,s)},useInsertionEffect:function(i,s){return vp(4,2,i,s)},useMemo:function(i,s){var c=us();return s=s===void 0?null:s,i=i(),c.memoizedState=[i,s],i},useReducer:function(i,s,c){var f=us();return s=c!==void 0?c(s):s,f.memoizedState=f.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},f.queue=i,i=i.dispatch=hk.bind(null,gt,i),[f.memoizedState,i]},useRef:function(i){var s=us();return i={current:i},s.memoizedState=i},useState:ex,useDebugValue:Ry,useDeferredValue:function(i){return us().memoizedState=i},useTransition:function(){var i=ex(!1),s=i[0];return i=dk.bind(null,i[1]),us().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,c){var f=gt,m=us();if(lt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=s(),Ht===null)throw Error(t(349));(na&30)!==0||Yb(f,s,c)}m.memoizedState=c;var w={value:c,getSnapshot:s};return m.queue=w,nx(Qb.bind(null,f,w,i),[i]),f.flags|=2048,rd(9,Kb.bind(null,f,w,c,s),void 0,null),c},useId:function(){var i=us(),s=Ht.identifierPrefix;if(lt){var c=Bs,f=zs;c=(f&~(1<<32-Fi(f)-1)).toString(32)+c,s=":"+s+"R"+c,c=id++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=uk++,s=":"+s+"r"+c.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},gk={readContext:yi,useCallback:ax,useContext:yi,useEffect:Py,useImperativeHandle:ox,useInsertionEffect:ix,useLayoutEffect:sx,useMemo:lx,useReducer:ky,useRef:tx,useState:function(){return ky(sd)},useDebugValue:Ry,useDeferredValue:function(i){var s=vi();return cx(s,It.memoizedState,i)},useTransition:function(){var i=ky(sd)[0],s=vi().memoizedState;return[i,s]},useMutableSource:Xb,useSyncExternalStore:qb,useId:ux,unstable_isNewReconciler:!1},mk={readContext:yi,useCallback:ax,useContext:yi,useEffect:Py,useImperativeHandle:ox,useInsertionEffect:ix,useLayoutEffect:sx,useMemo:lx,useReducer:Ty,useRef:tx,useState:function(){return Ty(sd)},useDebugValue:Ry,useDeferredValue:function(i){var s=vi();return It===null?s.memoizedState=i:cx(s,It.memoizedState,i)},useTransition:function(){var i=Ty(sd)[0],s=vi().memoizedState;return[i,s]},useMutableSource:Xb,useSyncExternalStore:qb,useId:ux,unstable_isNewReconciler:!1};function zi(i,s){if(i&&i.defaultProps){s=ie({},s),i=i.defaultProps;for(var c in i)s[c]===void 0&&(s[c]=i[c]);return s}return s}function Ny(i,s,c,f){s=i.memoizedState,c=c(f,s),c=c==null?s:ie({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var xp={isMounted:function(i){return(i=i._reactInternals)?Yo(i)===i:!1},enqueueSetState:function(i,s,c){i=i._reactInternals;var f=wn(),m=Yr(i),w=Us(f,m);w.payload=s,c!=null&&(w.callback=c),s=Wr(i,w,m),s!==null&&(Ui(s,i,m,f),fp(s,i,m))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var f=wn(),m=Yr(i),w=Us(f,m);w.tag=1,w.payload=s,c!=null&&(w.callback=c),s=Wr(i,w,m),s!==null&&(Ui(s,i,m,f),fp(s,i,m))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=wn(),f=Yr(i),m=Us(c,f);m.tag=2,s!=null&&(m.callback=s),s=Wr(i,m,f),s!==null&&(Ui(s,i,f,c),fp(s,i,f))}};function px(i,s,c,f,m,w,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,w,k):s.prototype&&s.prototype.isPureReactComponent?!Wu(c,f)||!Wu(m,w):!0}function gx(i,s,c){var f=!1,m=Ur,w=s.contextType;return typeof w=="object"&&w!==null?w=yi(w):(m=Mn(s)?Qo:an.current,f=s.contextTypes,w=(f=f!=null)?zl(i,m):Ur),s=new s(c,w),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=xp,i.stateNode=s,s._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=w),s}function mx(i,s,c,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,f),s.state!==i&&xp.enqueueReplaceState(s,s.state,null)}function Ly(i,s,c,f){var m=i.stateNode;m.props=c,m.state=i.memoizedState,m.refs={},vy(i);var w=s.contextType;typeof w=="object"&&w!==null?m.context=yi(w):(w=Mn(s)?Qo:an.current,m.context=zl(i,w)),m.state=i.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(Ny(i,s,w,c),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&xp.enqueueReplaceState(m,m.state,null),pp(i,c,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Xl(i,s){try{var c="",f=s;do c+=Ce(f),f=f.return;while(f);var m=c}catch(w){m=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:s,stack:m,digest:null}}function My(i,s,c){return{value:i,source:null,stack:c??null,digest:s??null}}function Iy(i,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var yk=typeof WeakMap=="function"?WeakMap:Map;function yx(i,s,c){c=Us(-1,c),c.tag=3,c.payload={element:null};var f=s.value;return c.callback=function(){Tp||(Tp=!0,Yy=f),Iy(i,s)},c}function vx(i,s,c){c=Us(-1,c),c.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=s.value;c.payload=function(){return f(m)},c.callback=function(){Iy(i,s)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Iy(i,s),typeof f!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var k=s.stack;this.componentDidCatch(s.value,{componentStack:k!==null?k:""})}),c}function wx(i,s,c){var f=i.pingCache;if(f===null){f=i.pingCache=new yk;var m=new Set;f.set(s,m)}else m=f.get(s),m===void 0&&(m=new Set,f.set(s,m));m.has(c)||(m.add(c),i=Nk.bind(null,i,s,c),s.then(i,i))}function bx(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function xx(i,s,c,f,m){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=Us(-1,1),s.tag=2,Wr(c,s,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var vk=M.ReactCurrentOwner,In=!1;function vn(i,s,c,f){s.child=i===null?Hb(s,null,c,f):$l(s,i.child,c,f)}function Ax(i,s,c,f,m){c=c.render;var w=s.ref;return Wl(s,m),f=_y(i,s,c,f,w,m),c=Cy(),i!==null&&!In?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,$s(i,s,m)):(lt&&c&&ly(s),s.flags|=1,vn(i,s,f,m),s.child)}function Sx(i,s,c,f,m){if(i===null){var w=c.type;return typeof w=="function"&&!nv(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=w,Ex(i,s,w,f,m)):(i=Ip(c.type,null,f,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(w=i.child,(i.lanes&m)===0){var k=w.memoizedProps;if(c=c.compare,c=c!==null?c:Wu,c(k,f)&&i.ref===s.ref)return $s(i,s,m)}return s.flags|=1,i=Qr(w,f),i.ref=s.ref,i.return=s,s.child=i}function Ex(i,s,c,f,m){if(i!==null){var w=i.memoizedProps;if(Wu(w,f)&&i.ref===s.ref)if(In=!1,s.pendingProps=f=w,(i.lanes&m)!==0)(i.flags&131072)!==0&&(In=!0);else return s.lanes=i.lanes,$s(i,s,m)}return Dy(i,s,c,f,m)}function _x(i,s,c){var f=s.pendingProps,m=f.children,w=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Yl,Xn),Xn|=c;else{if((c&1073741824)===0)return i=w!==null?w.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,nt(Yl,Xn),Xn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:c,nt(Yl,Xn),Xn|=f}else w!==null?(f=w.baseLanes|c,s.memoizedState=null):f=c,nt(Yl,Xn),Xn|=f;return vn(i,s,m,c),s.child}function Cx(i,s){var c=s.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function Dy(i,s,c,f,m){var w=Mn(c)?Qo:an.current;return w=zl(s,w),Wl(s,m),c=_y(i,s,c,f,w,m),f=Cy(),i!==null&&!In?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,$s(i,s,m)):(lt&&f&&ly(s),s.flags|=1,vn(i,s,c,m),s.child)}function kx(i,s,c,f,m){if(Mn(c)){var w=!0;rp(s)}else w=!1;if(Wl(s,m),s.stateNode===null)Sp(i,s),gx(s,c,f),Ly(s,c,f,m),f=!0;else if(i===null){var k=s.stateNode,N=s.memoizedProps;k.props=N;var D=k.context,$=c.contextType;typeof $=="object"&&$!==null?$=yi($):($=Mn(c)?Qo:an.current,$=zl(s,$));var Y=c.getDerivedStateFromProps,Z=typeof Y=="function"||typeof k.getSnapshotBeforeUpdate=="function";Z||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(N!==f||D!==$)&&mx(s,k,f,$),Vr=!1;var X=s.memoizedState;k.state=X,pp(s,f,k,m),D=s.memoizedState,N!==f||X!==D||Ln.current||Vr?(typeof Y=="function"&&(Ny(s,c,Y,f),D=s.memoizedState),(N=Vr||px(s,c,N,f,X,D,$))?(Z||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(s.flags|=4194308)):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=D),k.props=f,k.state=D,k.context=$,f=N):(typeof k.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{k=s.stateNode,$b(i,s),N=s.memoizedProps,$=s.type===s.elementType?N:zi(s.type,N),k.props=$,Z=s.pendingProps,X=k.context,D=c.contextType,typeof D=="object"&&D!==null?D=yi(D):(D=Mn(c)?Qo:an.current,D=zl(s,D));var le=c.getDerivedStateFromProps;(Y=typeof le=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(N!==Z||X!==D)&&mx(s,k,f,D),Vr=!1,X=s.memoizedState,k.state=X,pp(s,f,k,m);var pe=s.memoizedState;N!==Z||X!==pe||Ln.current||Vr?(typeof le=="function"&&(Ny(s,c,le,f),pe=s.memoizedState),($=Vr||px(s,c,$,f,X,pe,D)||!1)?(Y||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(f,pe,D),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(f,pe,D)),typeof k.componentDidUpdate=="function"&&(s.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof k.componentDidUpdate!="function"||N===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=pe),k.props=f,k.state=pe,k.context=D,f=$):(typeof k.componentDidUpdate!="function"||N===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),f=!1)}return Fy(i,s,c,f,w,m)}function Fy(i,s,c,f,m,w){Cx(i,s);var k=(s.flags&128)!==0;if(!f&&!k)return m&&Lb(s,c,!1),$s(i,s,w);f=s.stateNode,vk.current=s;var N=k&&typeof c.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,i!==null&&k?(s.child=$l(s,i.child,null,w),s.child=$l(s,null,N,w)):vn(i,s,N,w),s.memoizedState=f.state,m&&Lb(s,c,!0),s.child}function Tx(i){var s=i.stateNode;s.pendingContext?Rb(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Rb(i,s.context,!1),wy(i,s.containerInfo)}function Px(i,s,c,f,m){return Ul(),hy(m),s.flags|=256,vn(i,s,c,f),s.child}var Oy={dehydrated:null,treeContext:null,retryLane:0};function jy(i){return{baseLanes:i,cachePool:null,transitions:null}}function Rx(i,s,c){var f=s.pendingProps,m=pt.current,w=!1,k=(s.flags&128)!==0,N;if((N=k)||(N=i!==null&&i.memoizedState===null?!1:(m&2)!==0),N?(w=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),nt(pt,m&1),i===null)return dy(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(k=f.children,i=f.fallback,w?(f=s.mode,w=s.child,k={mode:"hidden",children:k},(f&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=k):w=Dp(k,f,0,null),i=aa(i,f,c,null),w.return=s,i.return=s,w.sibling=i,s.child=w,s.child.memoizedState=jy(c),s.memoizedState=Oy,i):zy(s,k));if(m=i.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return wk(i,s,k,f,N,m,c);if(w){w=f.fallback,k=s.mode,m=i.child,N=m.sibling;var D={mode:"hidden",children:f.children};return(k&1)===0&&s.child!==m?(f=s.child,f.childLanes=0,f.pendingProps=D,s.deletions=null):(f=Qr(m,D),f.subtreeFlags=m.subtreeFlags&14680064),N!==null?w=Qr(N,w):(w=aa(w,k,c,null),w.flags|=2),w.return=s,f.return=s,f.sibling=w,s.child=f,f=w,w=s.child,k=i.child.memoizedState,k=k===null?jy(c):{baseLanes:k.baseLanes|c,cachePool:null,transitions:k.transitions},w.memoizedState=k,w.childLanes=i.childLanes&~c,s.memoizedState=Oy,f}return w=i.child,i=w.sibling,f=Qr(w,{mode:"visible",children:f.children}),(s.mode&1)===0&&(f.lanes=c),f.return=s,f.sibling=null,i!==null&&(c=s.deletions,c===null?(s.deletions=[i],s.flags|=16):c.push(i)),s.child=f,s.memoizedState=null,f}function zy(i,s){return s=Dp({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Ap(i,s,c,f){return f!==null&&hy(f),$l(s,i.child,null,c),i=zy(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function wk(i,s,c,f,m,w,k){if(c)return s.flags&256?(s.flags&=-257,f=My(Error(t(422))),Ap(i,s,k,f)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(w=f.fallback,m=s.mode,f=Dp({mode:"visible",children:f.children},m,0,null),w=aa(w,m,k,null),w.flags|=2,f.return=s,w.return=s,f.sibling=w,s.child=f,(s.mode&1)!==0&&$l(s,i.child,null,k),s.child.memoizedState=jy(k),s.memoizedState=Oy,w);if((s.mode&1)===0)return Ap(i,s,k,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var N=f.dgst;return f=N,w=Error(t(419)),f=My(w,f,void 0),Ap(i,s,k,f)}if(N=(k&i.childLanes)!==0,In||N){if(f=Ht,f!==null){switch(k&-k){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|k))!==0?0:m,m!==0&&m!==w.retryLane&&(w.retryLane=m,Hs(i,m),Ui(f,i,m,-1))}return tv(),f=My(Error(t(421))),Ap(i,s,k,f)}return m.data==="$?"?(s.flags|=128,s.child=i.child,s=Lk.bind(null,i),m._reactRetry=s,null):(i=w.treeContext,Gn=Br(m.nextSibling),Wn=s,lt=!0,ji=null,i!==null&&(gi[mi++]=zs,gi[mi++]=Bs,gi[mi++]=Jo,zs=i.id,Bs=i.overflow,Jo=s),s=zy(s,f.children),s.flags|=4096,s)}function Nx(i,s,c){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),my(i.return,s,c)}function By(i,s,c,f,m){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=c,w.tailMode=m)}function Lx(i,s,c){var f=s.pendingProps,m=f.revealOrder,w=f.tail;if(vn(i,s,f.children,c),f=pt.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Nx(i,c,s);else if(i.tag===19)Nx(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(nt(pt,f),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(c=s.child,m=null;c!==null;)i=c.alternate,i!==null&&gp(i)===null&&(m=c),c=c.sibling;c=m,c===null?(m=s.child,s.child=null):(m=c.sibling,c.sibling=null),By(s,!1,m,c,w);break;case"backwards":for(c=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&gp(i)===null){s.child=m;break}i=m.sibling,m.sibling=c,c=m,m=i}By(s,!0,c,null,w);break;case"together":By(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Sp(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function $s(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),ia|=s.lanes,(c&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,c=Qr(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=Qr(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function bk(i,s,c){switch(s.tag){case 3:Tx(s),Ul();break;case 5:Gb(s);break;case 1:Mn(s.type)&&rp(s);break;case 4:wy(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,m=s.memoizedProps.value;nt(dp,f._currentValue),f._currentValue=m;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(nt(pt,pt.current&1),s.flags|=128,null):(c&s.child.childLanes)!==0?Rx(i,s,c):(nt(pt,pt.current&1),i=$s(i,s,c),i!==null?i.sibling:null);nt(pt,pt.current&1);break;case 19:if(f=(c&s.childLanes)!==0,(i.flags&128)!==0){if(f)return Lx(i,s,c);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),nt(pt,pt.current),f)break;return null;case 22:case 23:return s.lanes=0,_x(i,s,c)}return $s(i,s,c)}var Mx,Hy,Ix,Dx;Mx=function(i,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Hy=function(){},Ix=function(i,s,c,f){var m=i.memoizedProps;if(m!==f){i=s.stateNode,ta(cs.current);var w=null;switch(c){case"input":m=Ke(i,m),f=Ke(i,f),w=[];break;case"select":m=ie({},m,{value:void 0}),f=ie({},f,{value:void 0}),w=[];break;case"textarea":m=Tu(i,m),f=Tu(i,f),w=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=np)}xm(c,f);var k;c=null;for($ in m)if(!f.hasOwnProperty($)&&m.hasOwnProperty($)&&m[$]!=null)if($==="style"){var N=m[$];for(k in N)N.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(r.hasOwnProperty($)?w||(w=[]):(w=w||[]).push($,null));for($ in f){var D=f[$];if(N=m!=null?m[$]:void 0,f.hasOwnProperty($)&&D!==N&&(D!=null||N!=null))if($==="style")if(N){for(k in N)!N.hasOwnProperty(k)||D&&D.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in D)D.hasOwnProperty(k)&&N[k]!==D[k]&&(c||(c={}),c[k]=D[k])}else c||(w||(w=[]),w.push($,c)),c=D;else $==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,N=N?N.__html:void 0,D!=null&&N!==D&&(w=w||[]).push($,D)):$==="children"?typeof D!="string"&&typeof D!="number"||(w=w||[]).push($,""+D):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(r.hasOwnProperty($)?(D!=null&&$==="onScroll"&&rt("scroll",i),w||N===D||(w=[])):(w=w||[]).push($,D))}c&&(w=w||[]).push("style",c);var $=w;(s.updateQueue=$)&&(s.flags|=4)}},Dx=function(i,s,c,f){c!==f&&(s.flags|=4)};function od(i,s){if(!lt)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function cn(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(s)for(var m=i.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=c,s}function xk(i,s,c){var f=s.pendingProps;switch(cy(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(s),null;case 1:return Mn(s.type)&&sp(),cn(s),null;case 3:return f=s.stateNode,Gl(),ot(Ln),ot(an),Ay(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(cp(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ji!==null&&(Jy(ji),ji=null))),Hy(i,s),cn(s),null;case 5:by(s);var m=ta(td.current);if(c=s.type,i!==null&&s.stateNode!=null)Ix(i,s,c,f,m),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(t(166));return cn(s),null}if(i=ta(cs.current),cp(s)){f=s.stateNode,c=s.type;var w=s.memoizedProps;switch(f[ls]=s,f[Ku]=w,i=(s.mode&1)!==0,c){case"dialog":rt("cancel",f),rt("close",f);break;case"iframe":case"object":case"embed":rt("load",f);break;case"video":case"audio":for(m=0;m<Xu.length;m++)rt(Xu[m],f);break;case"source":rt("error",f);break;case"img":case"image":case"link":rt("error",f),rt("load",f);break;case"details":rt("toggle",f);break;case"input":vt(f,w),rt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},rt("invalid",f);break;case"textarea":Nf(f,w),rt("invalid",f)}xm(c,w),m=null;for(var k in w)if(w.hasOwnProperty(k)){var N=w[k];k==="children"?typeof N=="string"?f.textContent!==N&&(w.suppressHydrationWarning!==!0&&tp(f.textContent,N,i),m=["children",N]):typeof N=="number"&&f.textContent!==""+N&&(w.suppressHydrationWarning!==!0&&tp(f.textContent,N,i),m=["children",""+N]):r.hasOwnProperty(k)&&N!=null&&k==="onScroll"&&rt("scroll",f)}switch(c){case"input":Nn(f),Mr(f,w,!0);break;case"textarea":Nn(f),Mf(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=np)}f=m,s.updateQueue=f,f!==null&&(s.flags|=4)}else{k=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=If(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=k.createElement(c,{is:f.is}):(i=k.createElement(c),c==="select"&&(k=i,f.multiple?k.multiple=!0:f.size&&(k.size=f.size))):i=k.createElementNS(i,c),i[ls]=s,i[Ku]=f,Mx(i,s,!1,!1),s.stateNode=i;e:{switch(k=Am(c,f),c){case"dialog":rt("cancel",i),rt("close",i),m=f;break;case"iframe":case"object":case"embed":rt("load",i),m=f;break;case"video":case"audio":for(m=0;m<Xu.length;m++)rt(Xu[m],i);m=f;break;case"source":rt("error",i),m=f;break;case"img":case"image":case"link":rt("error",i),rt("load",i),m=f;break;case"details":rt("toggle",i),m=f;break;case"input":vt(i,f),m=Ke(i,f),rt("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=ie({},f,{value:void 0}),rt("invalid",i);break;case"textarea":Nf(i,f),m=Tu(i,f),rt("invalid",i);break;default:m=f}xm(c,m),N=m;for(w in N)if(N.hasOwnProperty(w)){var D=N[w];w==="style"?Ew(i,D):w==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Di(i,D)):w==="children"?typeof D=="string"?(c!=="textarea"||D!=="")&&Fs(i,D):typeof D=="number"&&Fs(i,""+D):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(r.hasOwnProperty(w)?D!=null&&w==="onScroll"&&rt("scroll",i):D!=null&&L(i,w,D,k))}switch(c){case"input":Nn(i),Mr(i,f,!1);break;case"textarea":Nn(i),Mf(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Me(f.value));break;case"select":i.multiple=!!f.multiple,w=f.value,w!=null?Mi(i,!!f.multiple,w,!1):f.defaultValue!=null&&Mi(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=np)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return cn(s),null;case 6:if(i&&s.stateNode!=null)Dx(i,s,i.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(t(166));if(c=ta(td.current),ta(cs.current),cp(s)){if(f=s.stateNode,c=s.memoizedProps,f[ls]=s,(w=f.nodeValue!==c)&&(i=Wn,i!==null))switch(i.tag){case 3:tp(f.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&tp(f.nodeValue,c,(i.mode&1)!==0)}w&&(s.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[ls]=s,s.stateNode=f}return cn(s),null;case 13:if(ot(pt),f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(lt&&Gn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)jb(),Ul(),s.flags|=98560,w=!1;else if(w=cp(s),f!==null&&f.dehydrated!==null){if(i===null){if(!w)throw Error(t(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[ls]=s}else Ul(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;cn(s),w=!1}else ji!==null&&(Jy(ji),ji=null),w=!0;if(!w)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=c,s):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(pt.current&1)!==0?Dt===0&&(Dt=3):tv())),s.updateQueue!==null&&(s.flags|=4),cn(s),null);case 4:return Gl(),Hy(i,s),i===null&&qu(s.stateNode.containerInfo),cn(s),null;case 10:return gy(s.type._context),cn(s),null;case 17:return Mn(s.type)&&sp(),cn(s),null;case 19:if(ot(pt),w=s.memoizedState,w===null)return cn(s),null;if(f=(s.flags&128)!==0,k=w.rendering,k===null)if(f)od(w,!1);else{if(Dt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(k=gp(i),k!==null){for(s.flags|=128,od(w,!1),f=k.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=c,c=s.child;c!==null;)w=c,i=f,w.flags&=14680066,k=w.alternate,k===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=k.childLanes,w.lanes=k.lanes,w.child=k.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=k.memoizedProps,w.memoizedState=k.memoizedState,w.updateQueue=k.updateQueue,w.type=k.type,i=k.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return nt(pt,pt.current&1|2),s.child}i=i.sibling}w.tail!==null&&St()>Kl&&(s.flags|=128,f=!0,od(w,!1),s.lanes=4194304)}else{if(!f)if(i=gp(k),i!==null){if(s.flags|=128,f=!0,c=i.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),od(w,!0),w.tail===null&&w.tailMode==="hidden"&&!k.alternate&&!lt)return cn(s),null}else 2*St()-w.renderingStartTime>Kl&&c!==1073741824&&(s.flags|=128,f=!0,od(w,!1),s.lanes=4194304);w.isBackwards?(k.sibling=s.child,s.child=k):(c=w.last,c!==null?c.sibling=k:s.child=k,w.last=k)}return w.tail!==null?(s=w.tail,w.rendering=s,w.tail=s.sibling,w.renderingStartTime=St(),s.sibling=null,c=pt.current,nt(pt,f?c&1|2:c&1),s):(cn(s),null);case 22:case 23:return ev(),f=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(s.flags|=8192),f&&(s.mode&1)!==0?(Xn&1073741824)!==0&&(cn(s),s.subtreeFlags&6&&(s.flags|=8192)):cn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Ak(i,s){switch(cy(s),s.tag){case 1:return Mn(s.type)&&sp(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Gl(),ot(Ln),ot(an),Ay(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return by(s),null;case 13:if(ot(pt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Ul()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ot(pt),null;case 4:return Gl(),null;case 10:return gy(s.type._context),null;case 22:case 23:return ev(),null;case 24:return null;default:return null}}var Ep=!1,un=!1,Sk=typeof WeakSet=="function"?WeakSet:Set,he=null;function ql(i,s){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){wt(i,s,f)}else c.current=null}function Uy(i,s,c){try{c()}catch(f){wt(i,s,f)}}var Fx=!1;function Ek(i,s){if(ey=Vf,i=pb(),Gm(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var k=0,N=-1,D=-1,$=0,Y=0,Z=i,X=null;t:for(;;){for(var le;Z!==c||m!==0&&Z.nodeType!==3||(N=k+m),Z!==w||f!==0&&Z.nodeType!==3||(D=k+f),Z.nodeType===3&&(k+=Z.nodeValue.length),(le=Z.firstChild)!==null;)X=Z,Z=le;for(;;){if(Z===i)break t;if(X===c&&++$===m&&(N=k),X===w&&++Y===f&&(D=k),(le=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=le}c=N===-1||D===-1?null:{start:N,end:D}}else c=null}c=c||{start:0,end:0}}else c=null;for(ty={focusedElem:i,selectionRange:c},Vf=!1,he=s;he!==null;)if(s=he,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,he=i;else for(;he!==null;){s=he;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ge=pe.memoizedProps,Et=pe.memoizedState,H=s.stateNode,z=H.getSnapshotBeforeUpdate(s.elementType===s.type?ge:zi(s.type,ge),Et);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){wt(s,s.return,ne)}if(i=s.sibling,i!==null){i.return=s.return,he=i;break}he=s.return}return pe=Fx,Fx=!1,pe}function ad(i,s,c){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var w=m.destroy;m.destroy=void 0,w!==void 0&&Uy(s,c,w)}m=m.next}while(m!==f)}}function _p(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&i)===i){var f=c.create;c.destroy=f()}c=c.next}while(c!==s)}}function $y(i){var s=i.ref;if(s!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof s=="function"?s(i):s.current=i}}function Ox(i){var s=i.alternate;s!==null&&(i.alternate=null,Ox(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[ls],delete s[Ku],delete s[ry],delete s[ok],delete s[ak])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function jx(i){return i.tag===5||i.tag===3||i.tag===4}function zx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||jx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vy(i,s,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(i,s):c.insertBefore(i,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(i,c)):(s=c,s.appendChild(i)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=np));else if(f!==4&&(i=i.child,i!==null))for(Vy(i,s,c),i=i.sibling;i!==null;)Vy(i,s,c),i=i.sibling}function Wy(i,s,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(Wy(i,s,c),i=i.sibling;i!==null;)Wy(i,s,c),i=i.sibling}var Qt=null,Bi=!1;function Gr(i,s,c){for(c=c.child;c!==null;)Bx(i,s,c),c=c.sibling}function Bx(i,s,c){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(jf,c)}catch{}switch(c.tag){case 5:un||ql(c,s);case 6:var f=Qt,m=Bi;Qt=null,Gr(i,s,c),Qt=f,Bi=m,Qt!==null&&(Bi?(i=Qt,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Qt.removeChild(c.stateNode));break;case 18:Qt!==null&&(Bi?(i=Qt,c=c.stateNode,i.nodeType===8?sy(i.parentNode,c):i.nodeType===1&&sy(i,c),zu(i)):sy(Qt,c.stateNode));break;case 4:f=Qt,m=Bi,Qt=c.stateNode.containerInfo,Bi=!0,Gr(i,s,c),Qt=f,Bi=m;break;case 0:case 11:case 14:case 15:if(!un&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var w=m,k=w.destroy;w=w.tag,k!==void 0&&((w&2)!==0||(w&4)!==0)&&Uy(c,s,k),m=m.next}while(m!==f)}Gr(i,s,c);break;case 1:if(!un&&(ql(c,s),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(N){wt(c,s,N)}Gr(i,s,c);break;case 21:Gr(i,s,c);break;case 22:c.mode&1?(un=(f=un)||c.memoizedState!==null,Gr(i,s,c),un=f):Gr(i,s,c);break;default:Gr(i,s,c)}}function Hx(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new Sk),s.forEach(function(f){var m=Mk.bind(null,i,f);c.has(f)||(c.add(f),f.then(m,m))})}}function Hi(i,s){var c=s.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];try{var w=i,k=s,N=k;e:for(;N!==null;){switch(N.tag){case 5:Qt=N.stateNode,Bi=!1;break e;case 3:Qt=N.stateNode.containerInfo,Bi=!0;break e;case 4:Qt=N.stateNode.containerInfo,Bi=!0;break e}N=N.return}if(Qt===null)throw Error(t(160));Bx(w,k,m),Qt=null,Bi=!1;var D=m.alternate;D!==null&&(D.return=null),m.return=null}catch($){wt(m,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ux(s,i),s=s.sibling}function Ux(i,s){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Hi(s,i),ds(i),f&4){try{ad(3,i,i.return),_p(3,i)}catch(ge){wt(i,i.return,ge)}try{ad(5,i,i.return)}catch(ge){wt(i,i.return,ge)}}break;case 1:Hi(s,i),ds(i),f&512&&c!==null&&ql(c,c.return);break;case 5:if(Hi(s,i),ds(i),f&512&&c!==null&&ql(c,c.return),i.flags&32){var m=i.stateNode;try{Fs(m,"")}catch(ge){wt(i,i.return,ge)}}if(f&4&&(m=i.stateNode,m!=null)){var w=i.memoizedProps,k=c!==null?c.memoizedProps:w,N=i.type,D=i.updateQueue;if(i.updateQueue=null,D!==null)try{N==="input"&&w.type==="radio"&&w.name!=null&&At(m,w),Am(N,k);var $=Am(N,w);for(k=0;k<D.length;k+=2){var Y=D[k],Z=D[k+1];Y==="style"?Ew(m,Z):Y==="dangerouslySetInnerHTML"?Di(m,Z):Y==="children"?Fs(m,Z):L(m,Y,Z,$)}switch(N){case"input":os(m,w);break;case"textarea":Lf(m,w);break;case"select":var X=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!w.multiple;var le=w.value;le!=null?Mi(m,!!w.multiple,le,!1):X!==!!w.multiple&&(w.defaultValue!=null?Mi(m,!!w.multiple,w.defaultValue,!0):Mi(m,!!w.multiple,w.multiple?[]:"",!1))}m[Ku]=w}catch(ge){wt(i,i.return,ge)}}break;case 6:if(Hi(s,i),ds(i),f&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,w=i.memoizedProps;try{m.nodeValue=w}catch(ge){wt(i,i.return,ge)}}break;case 3:if(Hi(s,i),ds(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{zu(s.containerInfo)}catch(ge){wt(i,i.return,ge)}break;case 4:Hi(s,i),ds(i);break;case 13:Hi(s,i),ds(i),m=i.child,m.flags&8192&&(w=m.memoizedState!==null,m.stateNode.isHidden=w,!w||m.alternate!==null&&m.alternate.memoizedState!==null||(qy=St())),f&4&&Hx(i);break;case 22:if(Y=c!==null&&c.memoizedState!==null,i.mode&1?(un=($=un)||Y,Hi(s,i),un=$):Hi(s,i),ds(i),f&8192){if($=i.memoizedState!==null,(i.stateNode.isHidden=$)&&!Y&&(i.mode&1)!==0)for(he=i,Y=i.child;Y!==null;){for(Z=he=Y;he!==null;){switch(X=he,le=X.child,X.tag){case 0:case 11:case 14:case 15:ad(4,X,X.return);break;case 1:ql(X,X.return);var pe=X.stateNode;if(typeof pe.componentWillUnmount=="function"){f=X,c=X.return;try{s=f,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(ge){wt(f,c,ge)}}break;case 5:ql(X,X.return);break;case 22:if(X.memoizedState!==null){Wx(Z);continue}}le!==null?(le.return=X,he=le):Wx(Z)}Y=Y.sibling}e:for(Y=null,Z=i;;){if(Z.tag===5){if(Y===null){Y=Z;try{m=Z.stateNode,$?(w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(N=Z.stateNode,D=Z.memoizedProps.style,k=D!=null&&D.hasOwnProperty("display")?D.display:null,N.style.display=Sw("display",k))}catch(ge){wt(i,i.return,ge)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(ge){wt(i,i.return,ge)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===i)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===i)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===i)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Hi(s,i),ds(i),f&4&&Hx(i);break;case 21:break;default:Hi(s,i),ds(i)}}function ds(i){var s=i.flags;if(s&2){try{e:{for(var c=i.return;c!==null;){if(jx(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(Fs(m,""),f.flags&=-33);var w=zx(i);Wy(i,w,m);break;case 3:case 4:var k=f.stateNode.containerInfo,N=zx(i);Vy(i,N,k);break;default:throw Error(t(161))}}catch(D){wt(i,i.return,D)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function _k(i,s,c){he=i,$x(i)}function $x(i,s,c){for(var f=(i.mode&1)!==0;he!==null;){var m=he,w=m.child;if(m.tag===22&&f){var k=m.memoizedState!==null||Ep;if(!k){var N=m.alternate,D=N!==null&&N.memoizedState!==null||un;N=Ep;var $=un;if(Ep=k,(un=D)&&!$)for(he=m;he!==null;)k=he,D=k.child,k.tag===22&&k.memoizedState!==null?Gx(m):D!==null?(D.return=k,he=D):Gx(m);for(;w!==null;)he=w,$x(w),w=w.sibling;he=m,Ep=N,un=$}Vx(i)}else(m.subtreeFlags&8772)!==0&&w!==null?(w.return=m,he=w):Vx(i)}}function Vx(i){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var c=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:un||_p(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!un)if(c===null)f.componentDidMount();else{var m=s.elementType===s.type?c.memoizedProps:zi(s.type,c.memoizedProps);f.componentDidUpdate(m,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=s.updateQueue;w!==null&&Wb(s,w,f);break;case 3:var k=s.updateQueue;if(k!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}Wb(s,k,c)}break;case 5:var N=s.stateNode;if(c===null&&s.flags&4){c=N;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&c.focus();break;case"img":D.src&&(c.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var Y=$.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&zu(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}un||s.flags&512&&$y(s)}catch(X){wt(s,s.return,X)}}if(s===i){he=null;break}if(c=s.sibling,c!==null){c.return=s.return,he=c;break}he=s.return}}function Wx(i){for(;he!==null;){var s=he;if(s===i){he=null;break}var c=s.sibling;if(c!==null){c.return=s.return,he=c;break}he=s.return}}function Gx(i){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{_p(4,s)}catch(D){wt(s,c,D)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var m=s.return;try{f.componentDidMount()}catch(D){wt(s,m,D)}}var w=s.return;try{$y(s)}catch(D){wt(s,w,D)}break;case 5:var k=s.return;try{$y(s)}catch(D){wt(s,k,D)}}}catch(D){wt(s,s.return,D)}if(s===i){he=null;break}var N=s.sibling;if(N!==null){N.return=s.return,he=N;break}he=s.return}}var Ck=Math.ceil,Cp=M.ReactCurrentDispatcher,Gy=M.ReactCurrentOwner,wi=M.ReactCurrentBatchConfig,Ue=0,Ht=null,Rt=null,Jt=0,Xn=0,Yl=Hr(0),Dt=0,ld=null,ia=0,kp=0,Xy=0,cd=null,Dn=null,qy=0,Kl=1/0,Vs=null,Tp=!1,Yy=null,Xr=null,Pp=!1,qr=null,Rp=0,ud=0,Ky=null,Np=-1,Lp=0;function wn(){return(Ue&6)!==0?St():Np!==-1?Np:Np=St()}function Yr(i){return(i.mode&1)===0?1:(Ue&2)!==0&&Jt!==0?Jt&-Jt:ck.transition!==null?(Lp===0&&(Lp=zw()),Lp):(i=qe,i!==0||(i=window.event,i=i===void 0?16:qw(i.type)),i)}function Ui(i,s,c,f){if(50<ud)throw ud=0,Ky=null,Error(t(185));Iu(i,c,f),((Ue&2)===0||i!==Ht)&&(i===Ht&&((Ue&2)===0&&(kp|=c),Dt===4&&Kr(i,Jt)),Fn(i,f),c===1&&Ue===0&&(s.mode&1)===0&&(Kl=St()+500,op&&$r()))}function Fn(i,s){var c=i.callbackNode;cC(i,s);var f=Hf(i,i===Ht?Jt:0);if(f===0)c!==null&&Fw(c),i.callbackNode=null,i.callbackPriority=0;else if(s=f&-f,i.callbackPriority!==s){if(c!=null&&Fw(c),s===1)i.tag===0?lk(qx.bind(null,i)):Mb(qx.bind(null,i)),sk(function(){(Ue&6)===0&&$r()}),c=null;else{switch(Bw(f)){case 1:c=Pm;break;case 4:c=Ow;break;case 16:c=Of;break;case 536870912:c=jw;break;default:c=Of}c=nA(c,Xx.bind(null,i))}i.callbackPriority=s,i.callbackNode=c}}function Xx(i,s){if(Np=-1,Lp=0,(Ue&6)!==0)throw Error(t(327));var c=i.callbackNode;if(Ql()&&i.callbackNode!==c)return null;var f=Hf(i,i===Ht?Jt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||s)s=Mp(i,f);else{s=f;var m=Ue;Ue|=2;var w=Kx();(Ht!==i||Jt!==s)&&(Vs=null,Kl=St()+500,ra(i,s));do try{Pk();break}catch(N){Yx(i,N)}while(!0);py(),Cp.current=w,Ue=m,Rt!==null?s=0:(Ht=null,Jt=0,s=Dt)}if(s!==0){if(s===2&&(m=Rm(i),m!==0&&(f=m,s=Qy(i,m))),s===1)throw c=ld,ra(i,0),Kr(i,f),Fn(i,St()),c;if(s===6)Kr(i,f);else{if(m=i.current.alternate,(f&30)===0&&!kk(m)&&(s=Mp(i,f),s===2&&(w=Rm(i),w!==0&&(f=w,s=Qy(i,w))),s===1))throw c=ld,ra(i,0),Kr(i,f),Fn(i,St()),c;switch(i.finishedWork=m,i.finishedLanes=f,s){case 0:case 1:throw Error(t(345));case 2:oa(i,Dn,Vs);break;case 3:if(Kr(i,f),(f&130023424)===f&&(s=qy+500-St(),10<s)){if(Hf(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){wn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=iy(oa.bind(null,i,Dn,Vs),s);break}oa(i,Dn,Vs);break;case 4:if(Kr(i,f),(f&4194240)===f)break;for(s=i.eventTimes,m=-1;0<f;){var k=31-Fi(f);w=1<<k,k=s[k],k>m&&(m=k),f&=~w}if(f=m,f=St()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Ck(f/1960))-f,10<f){i.timeoutHandle=iy(oa.bind(null,i,Dn,Vs),f);break}oa(i,Dn,Vs);break;case 5:oa(i,Dn,Vs);break;default:throw Error(t(329))}}}return Fn(i,St()),i.callbackNode===c?Xx.bind(null,i):null}function Qy(i,s){var c=cd;return i.current.memoizedState.isDehydrated&&(ra(i,s).flags|=256),i=Mp(i,s),i!==2&&(s=Dn,Dn=c,s!==null&&Jy(s)),i}function Jy(i){Dn===null?Dn=i:Dn.push.apply(Dn,i)}function kk(i){for(var s=i;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var m=c[f],w=m.getSnapshot;m=m.value;try{if(!Oi(w(),m))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Kr(i,s){for(s&=~Xy,s&=~kp,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var c=31-Fi(s),f=1<<c;i[c]=-1,s&=~f}}function qx(i){if((Ue&6)!==0)throw Error(t(327));Ql();var s=Hf(i,0);if((s&1)===0)return Fn(i,St()),null;var c=Mp(i,s);if(i.tag!==0&&c===2){var f=Rm(i);f!==0&&(s=f,c=Qy(i,f))}if(c===1)throw c=ld,ra(i,0),Kr(i,s),Fn(i,St()),c;if(c===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,oa(i,Dn,Vs),Fn(i,St()),null}function Zy(i,s){var c=Ue;Ue|=1;try{return i(s)}finally{Ue=c,Ue===0&&(Kl=St()+500,op&&$r())}}function sa(i){qr!==null&&qr.tag===0&&(Ue&6)===0&&Ql();var s=Ue;Ue|=1;var c=wi.transition,f=qe;try{if(wi.transition=null,qe=1,i)return i()}finally{qe=f,wi.transition=c,Ue=s,(Ue&6)===0&&$r()}}function ev(){Xn=Yl.current,ot(Yl)}function ra(i,s){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,ik(c)),Rt!==null)for(c=Rt.return;c!==null;){var f=c;switch(cy(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&sp();break;case 3:Gl(),ot(Ln),ot(an),Ay();break;case 5:by(f);break;case 4:Gl();break;case 13:ot(pt);break;case 19:ot(pt);break;case 10:gy(f.type._context);break;case 22:case 23:ev()}c=c.return}if(Ht=i,Rt=i=Qr(i.current,null),Jt=Xn=s,Dt=0,ld=null,Xy=kp=ia=0,Dn=cd=null,ea!==null){for(s=0;s<ea.length;s++)if(c=ea[s],f=c.interleaved,f!==null){c.interleaved=null;var m=f.next,w=c.pending;if(w!==null){var k=w.next;w.next=m,f.next=k}c.pending=f}ea=null}return i}function Yx(i,s){do{var c=Rt;try{if(py(),mp.current=bp,yp){for(var f=gt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}yp=!1}if(na=0,Bt=It=gt=null,nd=!1,id=0,Gy.current=null,c===null||c.return===null){Dt=1,ld=s,Rt=null;break}e:{var w=i,k=c.return,N=c,D=s;if(s=Jt,N.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=D,Y=N,Z=Y.tag;if((Y.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var le=bx(k);if(le!==null){le.flags&=-257,xx(le,k,N,w,s),le.mode&1&&wx(w,$,s),s=le,D=$;var pe=s.updateQueue;if(pe===null){var ge=new Set;ge.add(D),s.updateQueue=ge}else pe.add(D);break e}else{if((s&1)===0){wx(w,$,s),tv();break e}D=Error(t(426))}}else if(lt&&N.mode&1){var Et=bx(k);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),xx(Et,k,N,w,s),hy(Xl(D,N));break e}}w=D=Xl(D,N),Dt!==4&&(Dt=2),cd===null?cd=[w]:cd.push(w),w=k;do{switch(w.tag){case 3:w.flags|=65536,s&=-s,w.lanes|=s;var H=yx(w,D,s);Vb(w,H);break e;case 1:N=D;var z=w.type,U=w.stateNode;if((w.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Xr===null||!Xr.has(U)))){w.flags|=65536,s&=-s,w.lanes|=s;var ne=vx(w,N,s);Vb(w,ne);break e}}w=w.return}while(w!==null)}Jx(c)}catch(me){s=me,Rt===c&&c!==null&&(Rt=c=c.return);continue}break}while(!0)}function Kx(){var i=Cp.current;return Cp.current=bp,i===null?bp:i}function tv(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ht===null||(ia&268435455)===0&&(kp&268435455)===0||Kr(Ht,Jt)}function Mp(i,s){var c=Ue;Ue|=2;var f=Kx();(Ht!==i||Jt!==s)&&(Vs=null,ra(i,s));do try{Tk();break}catch(m){Yx(i,m)}while(!0);if(py(),Ue=c,Cp.current=f,Rt!==null)throw Error(t(261));return Ht=null,Jt=0,Dt}function Tk(){for(;Rt!==null;)Qx(Rt)}function Pk(){for(;Rt!==null&&!eC();)Qx(Rt)}function Qx(i){var s=tA(i.alternate,i,Xn);i.memoizedProps=i.pendingProps,s===null?Jx(i):Rt=s,Gy.current=null}function Jx(i){var s=i;do{var c=s.alternate;if(i=s.return,(s.flags&32768)===0){if(c=xk(c,s,Xn),c!==null){Rt=c;return}}else{if(c=Ak(c,s),c!==null){c.flags&=32767,Rt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Dt=6,Rt=null;return}}if(s=s.sibling,s!==null){Rt=s;return}Rt=s=i}while(s!==null);Dt===0&&(Dt=5)}function oa(i,s,c){var f=qe,m=wi.transition;try{wi.transition=null,qe=1,Rk(i,s,c,f)}finally{wi.transition=m,qe=f}return null}function Rk(i,s,c,f){do Ql();while(qr!==null);if((Ue&6)!==0)throw Error(t(327));c=i.finishedWork;var m=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var w=c.lanes|c.childLanes;if(uC(i,w),i===Ht&&(Rt=Ht=null,Jt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Pp||(Pp=!0,nA(Of,function(){return Ql(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=wi.transition,wi.transition=null;var k=qe;qe=1;var N=Ue;Ue|=4,Gy.current=null,Ek(i,c),Ux(c,i),KC(ty),Vf=!!ey,ty=ey=null,i.current=c,_k(c),tC(),Ue=N,qe=k,wi.transition=w}else i.current=c;if(Pp&&(Pp=!1,qr=i,Rp=m),w=i.pendingLanes,w===0&&(Xr=null),sC(c.stateNode),Fn(i,St()),s!==null)for(f=i.onRecoverableError,c=0;c<s.length;c++)m=s[c],f(m.value,{componentStack:m.stack,digest:m.digest});if(Tp)throw Tp=!1,i=Yy,Yy=null,i;return(Rp&1)!==0&&i.tag!==0&&Ql(),w=i.pendingLanes,(w&1)!==0?i===Ky?ud++:(ud=0,Ky=i):ud=0,$r(),null}function Ql(){if(qr!==null){var i=Bw(Rp),s=wi.transition,c=qe;try{if(wi.transition=null,qe=16>i?16:i,qr===null)var f=!1;else{if(i=qr,qr=null,Rp=0,(Ue&6)!==0)throw Error(t(331));var m=Ue;for(Ue|=4,he=i.current;he!==null;){var w=he,k=w.child;if((he.flags&16)!==0){var N=w.deletions;if(N!==null){for(var D=0;D<N.length;D++){var $=N[D];for(he=$;he!==null;){var Y=he;switch(Y.tag){case 0:case 11:case 15:ad(8,Y,w)}var Z=Y.child;if(Z!==null)Z.return=Y,he=Z;else for(;he!==null;){Y=he;var X=Y.sibling,le=Y.return;if(Ox(Y),Y===$){he=null;break}if(X!==null){X.return=le,he=X;break}he=le}}}var pe=w.alternate;if(pe!==null){var ge=pe.child;if(ge!==null){pe.child=null;do{var Et=ge.sibling;ge.sibling=null,ge=Et}while(ge!==null)}}he=w}}if((w.subtreeFlags&2064)!==0&&k!==null)k.return=w,he=k;else e:for(;he!==null;){if(w=he,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ad(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,he=H;break e}he=w.return}}var z=i.current;for(he=z;he!==null;){k=he;var U=k.child;if((k.subtreeFlags&2064)!==0&&U!==null)U.return=k,he=U;else e:for(k=z;he!==null;){if(N=he,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:_p(9,N)}}catch(me){wt(N,N.return,me)}if(N===k){he=null;break e}var ne=N.sibling;if(ne!==null){ne.return=N.return,he=ne;break e}he=N.return}}if(Ue=m,$r(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(jf,i)}catch{}f=!0}return f}finally{qe=c,wi.transition=s}}return!1}function Zx(i,s,c){s=Xl(c,s),s=yx(i,s,1),i=Wr(i,s,1),s=wn(),i!==null&&(Iu(i,1,s),Fn(i,s))}function wt(i,s,c){if(i.tag===3)Zx(i,i,c);else for(;s!==null;){if(s.tag===3){Zx(s,i,c);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xr===null||!Xr.has(f))){i=Xl(c,i),i=vx(s,i,1),s=Wr(s,i,1),i=wn(),s!==null&&(Iu(s,1,i),Fn(s,i));break}}s=s.return}}function Nk(i,s,c){var f=i.pingCache;f!==null&&f.delete(s),s=wn(),i.pingedLanes|=i.suspendedLanes&c,Ht===i&&(Jt&c)===c&&(Dt===4||Dt===3&&(Jt&130023424)===Jt&&500>St()-qy?ra(i,0):Xy|=c),Fn(i,s)}function eA(i,s){s===0&&((i.mode&1)===0?s=1:(s=Bf,Bf<<=1,(Bf&130023424)===0&&(Bf=4194304)));var c=wn();i=Hs(i,s),i!==null&&(Iu(i,s,c),Fn(i,c))}function Lk(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),eA(i,c)}function Mk(i,s){var c=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(s),eA(i,c)}var tA;tA=function(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps||Ln.current)In=!0;else{if((i.lanes&c)===0&&(s.flags&128)===0)return In=!1,bk(i,s,c);In=(i.flags&131072)!==0}else In=!1,lt&&(s.flags&1048576)!==0&&Ib(s,lp,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;Sp(i,s),i=s.pendingProps;var m=zl(s,an.current);Wl(s,c),m=_y(null,s,f,i,m,c);var w=Cy();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Mn(f)?(w=!0,rp(s)):w=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,vy(s),m.updater=xp,s.stateNode=m,m._reactInternals=s,Ly(s,f,i,c),s=Fy(null,s,f,!0,w,c)):(s.tag=0,lt&&w&&ly(s),vn(null,s,m,c),s=s.child),s;case 16:f=s.elementType;e:{switch(Sp(i,s),i=s.pendingProps,m=f._init,f=m(f._payload),s.type=f,m=s.tag=Dk(f),i=zi(f,i),m){case 0:s=Dy(null,s,f,i,c);break e;case 1:s=kx(null,s,f,i,c);break e;case 11:s=Ax(null,s,f,i,c);break e;case 14:s=Sx(null,s,f,zi(f.type,i),c);break e}throw Error(t(306,f,""))}return s;case 0:return f=s.type,m=s.pendingProps,m=s.elementType===f?m:zi(f,m),Dy(i,s,f,m,c);case 1:return f=s.type,m=s.pendingProps,m=s.elementType===f?m:zi(f,m),kx(i,s,f,m,c);case 3:e:{if(Tx(s),i===null)throw Error(t(387));f=s.pendingProps,w=s.memoizedState,m=w.element,$b(i,s),pp(s,f,null,c);var k=s.memoizedState;if(f=k.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){m=Xl(Error(t(423)),s),s=Px(i,s,f,c,m);break e}else if(f!==m){m=Xl(Error(t(424)),s),s=Px(i,s,f,c,m);break e}else for(Gn=Br(s.stateNode.containerInfo.firstChild),Wn=s,lt=!0,ji=null,c=Hb(s,null,f,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ul(),f===m){s=$s(i,s,c);break e}vn(i,s,f,c)}s=s.child}return s;case 5:return Gb(s),i===null&&dy(s),f=s.type,m=s.pendingProps,w=i!==null?i.memoizedProps:null,k=m.children,ny(f,m)?k=null:w!==null&&ny(f,w)&&(s.flags|=32),Cx(i,s),vn(i,s,k,c),s.child;case 6:return i===null&&dy(s),null;case 13:return Rx(i,s,c);case 4:return wy(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=$l(s,null,f,c):vn(i,s,f,c),s.child;case 11:return f=s.type,m=s.pendingProps,m=s.elementType===f?m:zi(f,m),Ax(i,s,f,m,c);case 7:return vn(i,s,s.pendingProps,c),s.child;case 8:return vn(i,s,s.pendingProps.children,c),s.child;case 12:return vn(i,s,s.pendingProps.children,c),s.child;case 10:e:{if(f=s.type._context,m=s.pendingProps,w=s.memoizedProps,k=m.value,nt(dp,f._currentValue),f._currentValue=k,w!==null)if(Oi(w.value,k)){if(w.children===m.children&&!Ln.current){s=$s(i,s,c);break e}}else for(w=s.child,w!==null&&(w.return=s);w!==null;){var N=w.dependencies;if(N!==null){k=w.child;for(var D=N.firstContext;D!==null;){if(D.context===f){if(w.tag===1){D=Us(-1,c&-c),D.tag=2;var $=w.updateQueue;if($!==null){$=$.shared;var Y=$.pending;Y===null?D.next=D:(D.next=Y.next,Y.next=D),$.pending=D}}w.lanes|=c,D=w.alternate,D!==null&&(D.lanes|=c),my(w.return,c,s),N.lanes|=c;break}D=D.next}}else if(w.tag===10)k=w.type===s.type?null:w.child;else if(w.tag===18){if(k=w.return,k===null)throw Error(t(341));k.lanes|=c,N=k.alternate,N!==null&&(N.lanes|=c),my(k,c,s),k=w.sibling}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===s){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}vn(i,s,m.children,c),s=s.child}return s;case 9:return m=s.type,f=s.pendingProps.children,Wl(s,c),m=yi(m),f=f(m),s.flags|=1,vn(i,s,f,c),s.child;case 14:return f=s.type,m=zi(f,s.pendingProps),m=zi(f.type,m),Sx(i,s,f,m,c);case 15:return Ex(i,s,s.type,s.pendingProps,c);case 17:return f=s.type,m=s.pendingProps,m=s.elementType===f?m:zi(f,m),Sp(i,s),s.tag=1,Mn(f)?(i=!0,rp(s)):i=!1,Wl(s,c),gx(s,f,m),Ly(s,f,m,c),Fy(null,s,f,!0,i,c);case 19:return Lx(i,s,c);case 22:return _x(i,s,c)}throw Error(t(156,s.tag))};function nA(i,s){return Dw(i,s)}function Ik(i,s,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(i,s,c,f){return new Ik(i,s,c,f)}function nv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Dk(i){if(typeof i=="function")return nv(i)?1:0;if(i!=null){if(i=i.$$typeof,i===re)return 11;if(i===Re)return 14}return 2}function Qr(i,s){var c=i.alternate;return c===null?(c=bi(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Ip(i,s,c,f,m,w){var k=2;if(f=i,typeof i=="function")nv(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case O:return aa(c.children,m,w,s);case V:k=8,m|=8;break;case G:return i=bi(12,c,s,m|2),i.elementType=G,i.lanes=w,i;case ye:return i=bi(13,c,s,m),i.elementType=ye,i.lanes=w,i;case oe:return i=bi(19,c,s,m),i.elementType=oe,i.lanes=w,i;case q:return Dp(c,m,w,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:k=10;break e;case ee:k=9;break e;case re:k=11;break e;case Re:k=14;break e;case Q:k=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=bi(k,c,s,m),s.elementType=i,s.type=f,s.lanes=w,s}function aa(i,s,c,f){return i=bi(7,i,f,s),i.lanes=c,i}function Dp(i,s,c,f){return i=bi(22,i,f,s),i.elementType=q,i.lanes=c,i.stateNode={isHidden:!1},i}function iv(i,s,c){return i=bi(6,i,null,s),i.lanes=c,i}function sv(i,s,c){return s=bi(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Fk(i,s,c,f,m){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nm(0),this.expirationTimes=Nm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nm(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function rv(i,s,c,f,m,w,k,N,D){return i=new Fk(i,s,c,N,D),s===1?(s=1,w===!0&&(s|=8)):s=0,w=bi(3,null,null,s),i.current=w,w.stateNode=i,w.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},vy(w),i}function Ok(i,s,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:f==null?null:""+f,children:i,containerInfo:s,implementation:c}}function iA(i){if(!i)return Ur;i=i._reactInternals;e:{if(Yo(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Mn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var c=i.type;if(Mn(c))return Nb(i,c,s)}return s}function sA(i,s,c,f,m,w,k,N,D){return i=rv(c,f,!0,i,m,w,k,N,D),i.context=iA(null),c=i.current,f=wn(),m=Yr(c),w=Us(f,m),w.callback=s??null,Wr(c,w,m),i.current.lanes=m,Iu(i,m,f),Fn(i,f),i}function Fp(i,s,c,f){var m=s.current,w=wn(),k=Yr(m);return c=iA(c),s.context===null?s.context=c:s.pendingContext=c,s=Us(w,k),s.payload={element:i},f=f===void 0?null:f,f!==null&&(s.callback=f),i=Wr(m,s,k),i!==null&&(Ui(i,m,k,w),fp(i,m,k)),k}function Op(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function rA(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function ov(i,s){rA(i,s),(i=i.alternate)&&rA(i,s)}function jk(){return null}var oA=typeof reportError=="function"?reportError:function(i){console.error(i)};function av(i){this._internalRoot=i}jp.prototype.render=av.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Fp(i,s,null,null)},jp.prototype.unmount=av.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;sa(function(){Fp(null,i,null,null)}),s[Os]=null}};function jp(i){this._internalRoot=i}jp.prototype.unstable_scheduleHydration=function(i){if(i){var s=$w();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Or.length&&s!==0&&s<Or[c].priority;c++);Or.splice(c,0,i),c===0&&Gw(i)}};function lv(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function zp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function aA(){}function zk(i,s,c,f,m){if(m){if(typeof f=="function"){var w=f;f=function(){var $=Op(k);w.call($)}}var k=sA(s,f,i,0,null,!1,!1,"",aA);return i._reactRootContainer=k,i[Os]=k.current,qu(i.nodeType===8?i.parentNode:i),sa(),k}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var N=f;f=function(){var $=Op(D);N.call($)}}var D=rv(i,0,!1,null,null,!1,!1,"",aA);return i._reactRootContainer=D,i[Os]=D.current,qu(i.nodeType===8?i.parentNode:i),sa(function(){Fp(s,D,c,f)}),D}function Bp(i,s,c,f,m){var w=c._reactRootContainer;if(w){var k=w;if(typeof m=="function"){var N=m;m=function(){var D=Op(k);N.call(D)}}Fp(s,k,i,m)}else k=zk(c,s,i,m,f);return Op(k)}Hw=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var c=Mu(s.pendingLanes);c!==0&&(Lm(s,c|1),Fn(s,St()),(Ue&6)===0&&(Kl=St()+500,$r()))}break;case 13:sa(function(){var f=Hs(i,1);if(f!==null){var m=wn();Ui(f,i,1,m)}}),ov(i,1)}},Mm=function(i){if(i.tag===13){var s=Hs(i,134217728);if(s!==null){var c=wn();Ui(s,i,134217728,c)}ov(i,134217728)}},Uw=function(i){if(i.tag===13){var s=Yr(i),c=Hs(i,s);if(c!==null){var f=wn();Ui(c,i,s,f)}ov(i,s)}},$w=function(){return qe},Vw=function(i,s){var c=qe;try{return qe=i,s()}finally{qe=c}},_m=function(i,s,c){switch(s){case"input":if(os(i,c),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var f=c[s];if(f!==i&&f.form===i.form){var m=ip(f);if(!m)throw Error(t(90));fi(f),os(f,m)}}}break;case"textarea":Lf(i,c);break;case"select":s=c.value,s!=null&&Mi(i,!!c.multiple,s,!1)}},Tw=Zy,Pw=sa;var Bk={usingClientEntryPoint:!1,Events:[Qu,Ol,ip,Cw,kw,Zy]},dd={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hk={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Mw(i),i===null?null:i.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||jk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hp.isDisabled&&Hp.supportsFiber)try{jf=Hp.inject(Hk),as=Hp}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bk,On.createPortal=function(i,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lv(s))throw Error(t(200));return Ok(i,s,null,c)},On.createRoot=function(i,s){if(!lv(i))throw Error(t(299));var c=!1,f="",m=oA;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=rv(i,1,!1,null,null,c,!1,f,m),i[Os]=s.current,qu(i.nodeType===8?i.parentNode:i),new av(s)},On.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Mw(s),i=i===null?null:i.stateNode,i},On.flushSync=function(i){return sa(i)},On.hydrate=function(i,s,c){if(!zp(s))throw Error(t(200));return Bp(null,i,s,!0,c)},On.hydrateRoot=function(i,s,c){if(!lv(i))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,m=!1,w="",k=oA;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),s=sA(s,null,i,1,c??null,m,!1,w,k),i[Os]=s.current,qu(i),f)for(i=0;i<f.length;i++)c=f[i],m=c._getVersion,m=m(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,m]:s.mutableSourceEagerHydrationData.push(c,m);return new jp(s)},On.render=function(i,s,c){if(!zp(s))throw Error(t(200));return Bp(null,i,s,!1,c)},On.unmountComponentAtNode=function(i){if(!zp(i))throw Error(t(40));return i._reactRootContainer?(sa(function(){Bp(null,null,i,!1,function(){i._reactRootContainer=null,i[Os]=null})}),!0):!1},On.unstable_batchedUpdates=Zy,On.unstable_renderSubtreeIntoContainer=function(i,s,c,f){if(!zp(c))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Bp(i,s,c,!1,f)},On.version="18.3.1-next-f1338f8080-20240426",On}var mA;function v1(){if(mA)return hv.exports;mA=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(e){console.error(e)}}return d(),hv.exports=Qk(),hv.exports}var yA;function Jk(){if(yA)return Up;yA=1;var d=v1();return Up.createRoot=d.createRoot,Up.hydrateRoot=d.hydrateRoot,Up}var Zk=Jk();const eT=am(Zk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=d=>d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nT=d=>d.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),vA=d=>{const e=nT(d);return e.charAt(0).toUpperCase()+e.slice(1)},w1=(...d)=>d.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=F.forwardRef(({color:d="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:o,iconNode:l,...u},h)=>F.createElement("svg",{ref:h,...iT,width:e,height:e,stroke:d,strokeWidth:n?Number(t)*24/Number(e):t,className:w1("lucide",r),...u},[...l.map(([p,g])=>F.createElement(p,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(d,e)=>{const t=F.forwardRef(({className:n,...r},o)=>F.createElement(sT,{ref:o,iconNode:e,className:w1(`lucide-${tT(vA(d))}`,`lucide-${d}`,n),...r}));return t.displayName=vA(d),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],oT=ft("arrow-up",rT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],lT=ft("award",aT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],b1=ft("book-open",cT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],dT=ft("chart-column",uT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],fT=ft("code",hT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],gT=ft("coffee",pT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],wA=ft("download",mT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vT=ft("eye",yT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bT=ft("file-text",wT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],x1=ft("github",xT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],A1=ft("globe",AT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],S1=ft("heart",ST);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],_T=ft("layers",ET);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],E1=ft("lightbulb",CT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],_1=ft("linkedin",kT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],C1=ft("mail",TT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],RT=ft("menu",PT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],LT=ft("mouse-pointer",NT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],k1=ft("palette",MT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],DT=ft("smartphone",IT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],T1=ft("target",FT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],P1=ft("users",OT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],R1=ft("x",jT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],BT=ft("zap",zT);function bA(d,e){if(typeof d=="function")return d(e);d!=null&&(d.current=e)}function N1(...d){return e=>{let t=!1;const n=d.map(r=>{const o=bA(r,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let r=0;r<n.length;r++){const o=n[r];typeof o=="function"?o():bA(d[r],null)}}}}function _l(...d){return F.useCallback(N1(...d),d)}function J0(d){const e=UT(d),t=F.forwardRef((n,r)=>{const{children:o,...l}=n,u=F.Children.toArray(o),h=u.find(VT);if(h){const p=h.props.children,g=u.map(y=>y===h?F.Children.count(p)>1?F.Children.only(null):F.isValidElement(p)?p.props.children:null:y);return _.jsx(e,{...l,ref:r,children:F.isValidElement(p)?F.cloneElement(p,void 0,g):null})}return _.jsx(e,{...l,ref:r,children:o})});return t.displayName=`${d}.Slot`,t}var HT=J0("Slot");function UT(d){const e=F.forwardRef((t,n)=>{const{children:r,...o}=t;if(F.isValidElement(r)){const l=GT(r),u=WT(o,r.props);return r.type!==F.Fragment&&(u.ref=n?N1(n,l):l),F.cloneElement(r,u)}return F.Children.count(r)>1?F.Children.only(null):null});return e.displayName=`${d}.SlotClone`,e}var $T=Symbol("radix.slottable");function VT(d){return F.isValidElement(d)&&typeof d.type=="function"&&"__radixId"in d.type&&d.type.__radixId===$T}function WT(d,e){const t={...e};for(const n in e){const r=d[n],o=e[n];/^on[A-Z]/.test(n)?r&&o?t[n]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[n]=r):n==="style"?t[n]={...r,...o}:n==="className"&&(t[n]=[r,o].filter(Boolean).join(" "))}return{...d,...t}}function GT(d){var n,r;let e=(n=Object.getOwnPropertyDescriptor(d.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?d.ref:(e=(r=Object.getOwnPropertyDescriptor(d,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?d.props.ref:d.props.ref||d.ref)}function L1(d){var e,t,n="";if(typeof d=="string"||typeof d=="number")n+=d;else if(typeof d=="object")if(Array.isArray(d)){var r=d.length;for(e=0;e<r;e++)d[e]&&(t=L1(d[e]))&&(n&&(n+=" "),n+=t)}else for(t in d)d[t]&&(n&&(n+=" "),n+=t);return n}function Eu(){for(var d,e,t=0,n="",r=arguments.length;t<r;t++)(d=arguments[t])&&(e=L1(d))&&(n&&(n+=" "),n+=e);return n}const xA=d=>typeof d=="boolean"?`${d}`:d===0?"0":d,AA=Eu,XT=(d,e)=>t=>{var n;if((e==null?void 0:e.variants)==null)return AA(d,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:o}=e,l=Object.keys(r).map(p=>{const g=t==null?void 0:t[p],y=o==null?void 0:o[p];if(g===null)return null;const v=xA(g)||xA(y);return r[p][v]}),u=t&&Object.entries(t).reduce((p,g)=>{let[y,v]=g;return v===void 0||(p[y]=v),p},{}),h=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((p,g)=>{let{class:y,className:v,...x}=g;return Object.entries(x).every(S=>{let[A,T]=S;return Array.isArray(T)?T.includes({...o,...u}[A]):{...o,...u}[A]===T})?[...p,y,v]:p},[]);return AA(d,l,h,t==null?void 0:t.class,t==null?void 0:t.className)},Z0="-",qT=d=>{const e=KT(d),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=d;return{getClassGroupId:l=>{const u=l.split(Z0);return u[0]===""&&u.length!==1&&u.shift(),M1(u,e)||YT(l)},getConflictingClassGroupIds:(l,u)=>{const h=t[l]||[];return u&&n[l]?[...h,...n[l]]:h}}},M1=(d,e)=>{var l;if(d.length===0)return e.classGroupId;const t=d[0],n=e.nextPart.get(t),r=n?M1(d.slice(1),n):void 0;if(r)return r;if(e.validators.length===0)return;const o=d.join(Z0);return(l=e.validators.find(({validator:u})=>u(o)))==null?void 0:l.classGroupId},SA=/^\[(.+)\]$/,YT=d=>{if(SA.test(d)){const e=SA.exec(d)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},KT=d=>{const{theme:e,prefix:t}=d,n={nextPart:new Map,validators:[]};return JT(Object.entries(d.classGroups),t).forEach(([o,l])=>{Mv(l,n,o,e)}),n},Mv=(d,e,t,n)=>{d.forEach(r=>{if(typeof r=="string"){const o=r===""?e:EA(e,r);o.classGroupId=t;return}if(typeof r=="function"){if(QT(r)){Mv(r(n),e,t,n);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([o,l])=>{Mv(l,EA(e,o),t,n)})})},EA=(d,e)=>{let t=d;return e.split(Z0).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},QT=d=>d.isThemeGetter,JT=(d,e)=>e?d.map(([t,n])=>{const r=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,u])=>[e+l,u])):o);return[t,r]}):d,ZT=d=>{if(d<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const r=(o,l)=>{t.set(o,l),e++,e>d&&(e=0,n=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return r(o,l),l},set(o,l){t.has(o)?t.set(o,l):r(o,l)}}},I1="!",eP=d=>{const{separator:e,experimentalParseClassName:t}=d,n=e.length===1,r=e[0],o=e.length,l=u=>{const h=[];let p=0,g=0,y;for(let T=0;T<u.length;T++){let P=u[T];if(p===0){if(P===r&&(n||u.slice(T,T+o)===e)){h.push(u.slice(g,T)),g=T+o;continue}if(P==="/"){y=T;continue}}P==="["?p++:P==="]"&&p--}const v=h.length===0?u:u.substring(g),x=v.startsWith(I1),S=x?v.substring(1):v,A=y&&y>g?y-g:void 0;return{modifiers:h,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:A}};return t?u=>t({className:u,parseClassName:l}):l},tP=d=>{if(d.length<=1)return d;const e=[];let t=[];return d.forEach(n=>{n[0]==="["?(e.push(...t.sort(),n),t=[]):t.push(n)}),e.push(...t.sort()),e},nP=d=>({cache:ZT(d.cacheSize),parseClassName:eP(d),...qT(d)}),iP=/\s+/,sP=(d,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:r}=e,o=[],l=d.trim().split(iP);let u="";for(let h=l.length-1;h>=0;h-=1){const p=l[h],{modifiers:g,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:x}=t(p);let S=!!x,A=n(S?v.substring(0,x):v);if(!A){if(!S){u=p+(u.length>0?" "+u:u);continue}if(A=n(v),!A){u=p+(u.length>0?" "+u:u);continue}S=!1}const T=tP(g).join(":"),P=y?T+I1:T,R=P+A;if(o.includes(R))continue;o.push(R);const L=r(A,S);for(let M=0;M<L.length;++M){const I=L[M];o.push(P+I)}u=p+(u.length>0?" "+u:u)}return u};function rP(){let d=0,e,t,n="";for(;d<arguments.length;)(e=arguments[d++])&&(t=D1(e))&&(n&&(n+=" "),n+=t);return n}const D1=d=>{if(typeof d=="string")return d;let e,t="";for(let n=0;n<d.length;n++)d[n]&&(e=D1(d[n]))&&(t&&(t+=" "),t+=e);return t};function oP(d,...e){let t,n,r,o=l;function l(h){const p=e.reduce((g,y)=>y(g),d());return t=nP(p),n=t.cache.get,r=t.cache.set,o=u,u(h)}function u(h){const p=n(h);if(p)return p;const g=sP(h,t);return r(h,g),g}return function(){return o(rP.apply(null,arguments))}}const at=d=>{const e=t=>t[d]||[];return e.isThemeGetter=!0,e},F1=/^\[(?:([a-z-]+):)?(.+)\]$/i,aP=/^\d+\/\d+$/,lP=new Set(["px","full","screen"]),cP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ws=d=>dc(d)||lP.has(d)||aP.test(d),Zr=d=>_u(d,"length",xP),dc=d=>!!d&&!Number.isNaN(Number(d)),gv=d=>_u(d,"number",dc),fd=d=>!!d&&Number.isInteger(Number(d)),pP=d=>d.endsWith("%")&&dc(d.slice(0,-1)),Le=d=>F1.test(d),eo=d=>cP.test(d),gP=new Set(["length","size","percentage"]),mP=d=>_u(d,gP,O1),yP=d=>_u(d,"position",O1),vP=new Set(["image","url"]),wP=d=>_u(d,vP,SP),bP=d=>_u(d,"",AP),pd=()=>!0,_u=(d,e,t)=>{const n=F1.exec(d);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):t(n[2]):!1},xP=d=>uP.test(d)&&!dP.test(d),O1=()=>!1,AP=d=>hP.test(d),SP=d=>fP.test(d),EP=()=>{const d=at("colors"),e=at("spacing"),t=at("blur"),n=at("brightness"),r=at("borderColor"),o=at("borderRadius"),l=at("borderSpacing"),u=at("borderWidth"),h=at("contrast"),p=at("grayscale"),g=at("hueRotate"),y=at("invert"),v=at("gap"),x=at("gradientColorStops"),S=at("gradientColorStopPositions"),A=at("inset"),T=at("margin"),P=at("opacity"),R=at("padding"),L=at("saturate"),M=at("scale"),I=at("sepia"),B=at("skew"),O=at("space"),V=at("translate"),G=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",Le,e],re=()=>[Le,e],ye=()=>["",Ws,Zr],oe=()=>["auto",dc,Le],Re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Le],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>[dc,Le];return{cacheSize:500,separator:":",theme:{colors:[pd],spacing:[Ws,Zr],blur:["none","",eo,Le],brightness:j(),borderColor:[d],borderRadius:["none","","full",eo,Le],borderSpacing:re(),borderWidth:ye(),contrast:j(),grayscale:ae(),hueRotate:j(),invert:ae(),gap:re(),gradientColorStops:[d],gradientColorStopPositions:[pP,Zr],inset:ee(),margin:ee(),opacity:j(),padding:re(),saturate:j(),scale:j(),sepia:ae(),skew:j(),space:re(),translate:re()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[eo]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Re(),Le]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[A]}],"inset-x":[{"inset-x":[A]}],"inset-y":[{"inset-y":[A]}],start:[{start:[A]}],end:[{end:[A]}],top:[{top:[A]}],right:[{right:[A]}],bottom:[{bottom:[A]}],left:[{left:[A]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fd,Le]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",fd,Le]}],"grid-cols":[{"grid-cols":[pd]}],"col-start-end":[{col:["auto",{span:["full",fd,Le]},Le]}],"col-start":[{"col-start":oe()}],"col-end":[{"col-end":oe()}],"grid-rows":[{"grid-rows":[pd]}],"row-start-end":[{row:["auto",{span:[fd,Le]},Le]}],"row-start":[{"row-start":oe()}],"row-end":[{"row-end":oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[eo]},eo]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",eo,Zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gv]}],"font-family":[{font:[pd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",dc,gv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ws,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[d]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[d]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ws,Zr]}],"underline-offset":[{"underline-offset":["auto",Ws,Le]}],"text-decoration-color":[{decoration:[d]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:re()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Re(),yP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wP]}],"bg-color":[{bg:[d]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:Q()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Ws,Le]}],"outline-w":[{outline:[Ws,Zr]}],"outline-color":[{outline:[d]}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[d]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[Ws,Zr]}],"ring-offset-color":[{"ring-offset":[d]}],shadow:[{shadow:["","inner","none",eo,bP]}],"shadow-color":[{shadow:[pd]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[n]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",eo,Le]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[L]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[fd,Le]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",d]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[d]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":re()}],"scroll-mx":[{"scroll-mx":re()}],"scroll-my":[{"scroll-my":re()}],"scroll-ms":[{"scroll-ms":re()}],"scroll-me":[{"scroll-me":re()}],"scroll-mt":[{"scroll-mt":re()}],"scroll-mr":[{"scroll-mr":re()}],"scroll-mb":[{"scroll-mb":re()}],"scroll-ml":[{"scroll-ml":re()}],"scroll-p":[{"scroll-p":re()}],"scroll-px":[{"scroll-px":re()}],"scroll-py":[{"scroll-py":re()}],"scroll-ps":[{"scroll-ps":re()}],"scroll-pe":[{"scroll-pe":re()}],"scroll-pt":[{"scroll-pt":re()}],"scroll-pr":[{"scroll-pr":re()}],"scroll-pb":[{"scroll-pb":re()}],"scroll-pl":[{"scroll-pl":re()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[d,"none"]}],"stroke-w":[{stroke:[Ws,Zr,gv]}],stroke:[{stroke:[d,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_P=oP(EP);function Cu(...d){return _P(Eu(d))}const CP=XT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-300 focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"glass-button-primary",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"glass-button text-foreground",secondary:"glass-button-accent",ghost:"glass-button text-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),kn=F.forwardRef(({className:d,variant:e,size:t,asChild:n=!1,...r},o)=>{const l=n?HT:"button";return _.jsx(l,{className:Cu(CP({variant:e,size:t,className:d})),ref:o,...r})});kn.displayName="Button";function kP(){const[d,e]=F.useState(!1);F.useEffect(()=>{d&&document.querySelectorAll(".animate-on-load").forEach(o=>{o.classList.remove("animate-on-load")})},[d]);const t=[{name:"Home",href:"#home"},{name:"UX Case Studies",href:"#ux-studies"},{name:"Technical Writing",href:"#tech-writing"},{name:"Design Gallery",href:"#design-gallery"},{name:"About",href:"#about"},{name:"Contact",href:"#contact"}],n=(r,o)=>{r.preventDefault();const l=o.replace("#",""),u=document.getElementById(l);if(u){const g=u.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:g,behavior:"smooth"})}};return _.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b",role:"banner",children:_.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"flex justify-between items-center py-4",children:[_.jsx("div",{className:"flex items-center",children:_.jsxs("a",{href:"#home",onClick:r=>n(r,"#home"),className:"flex items-center focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-lg transition-all-smooth","aria-label":"Lillian Turner - Home",children:[_.jsx("div",{className:"w-10 h-10 glass-logo rounded-lg flex items-center justify-center mr-3",children:_.jsx("span",{className:"text-primary font-bold","aria-hidden":"true",children:"LT"})}),_.jsx("span",{className:"text-xl font-semibold",children:"Lillian Turner"})]})}),_.jsxs("nav",{className:"hidden md:flex items-center space-x-2",role:"navigation","aria-label":"Main navigation",children:[t.map(r=>_.jsxs("a",{href:r.href,onClick:o=>n(o,r.href),className:"relative text-foreground/70 hover:text-foreground transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-lg px-4 py-2 group",children:[_.jsx("span",{className:"relative z-10",children:r.name}),_.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-primary scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]},r.name)),_.jsxs(kn,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground transition-all duration-200 ml-4","aria-label":"Download Resume PDF",children:[_.jsx(wA,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Resume"]})]}),_.jsx("div",{className:"md:hidden",children:_.jsx(kn,{variant:"ghost",size:"sm",onClick:()=>e(!d),"aria-expanded":d,"aria-controls":"mobile-menu","aria-label":d?"Close menu":"Open menu",className:"hover:bg-primary/10 transition-colors duration-200",children:_.jsxs("div",{className:"relative w-5 h-5",children:[_.jsx(RT,{className:`w-5 h-5 absolute transition-all duration-200 ${d?"opacity-0 rotate-90":"opacity-100 rotate-0"}`,"aria-hidden":"true"}),_.jsx(R1,{className:`w-5 h-5 absolute transition-all duration-200 ${d?"opacity-100 rotate-0":"opacity-0 -rotate-90"}`,"aria-hidden":"true"})]})})})]}),d&&_.jsx("div",{className:"md:hidden py-4 border-t",id:"mobile-menu",children:_.jsxs("nav",{className:"flex flex-col space-y-1",role:"navigation","aria-label":"Mobile navigation",children:[t.map(r=>_.jsx("a",{href:r.href,className:"text-foreground/70 hover:text-foreground hover:bg-primary/5 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-lg px-4 py-3",onClick:o=>{n(o,r.href),e(!1)},children:r.name},r.name)),_.jsxs(kn,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground transition-all duration-200 self-start mt-4","aria-label":"Download Resume PDF",children:[_.jsx(wA,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Resume"]})]})})]})})}function TP(){return _.jsx("section",{id:"home",className:"min-h-screen flex items-center pt-4 pb-16 lg:pt-8 lg:pb-20",role:"main","aria-labelledby":"hero-heading",children:_.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[_.jsxs("div",{className:"space-y-8 lg:space-y-10 lg:pt-0",children:[_.jsxs("div",{className:"space-y-5 lg:space-y-6",children:[_.jsx("p",{className:"subheading text-primary text-lg mb-3","aria-label":"Introduction",children:"Lillian Turner"}),_.jsxs("h1",{id:"hero-heading",className:"text-4xl md:text-5xl lg:text-6xl leading-tight font-bold",children:["UX Designer &",_.jsx("span",{className:"block text-primary text-3xl md:text-4xl lg:text-5xl mt-2 lg:mt-3",children:"Technical Communicator"})]}),_.jsx("p",{className:"text-lg lg:text-xl text-muted-foreground max-w-2xl leading-relaxed",children:"I craft user-centered digital experiences and clear, compelling technical content that bridges the gap between complex technology and human understanding."})]}),_.jsx("div",{className:"glass-card-accent p-6 lg:p-7 rounded-xl border-l-4 border-l-accent",children:_.jsx("p",{className:"text-lg lg:text-xl italic font-light leading-relaxed",children:`"Design is not just what it looks like and feels like. Design is how it works. And how it's communicated defines how it's understood."`})}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 lg:gap-5",children:[_.jsx(kn,{size:"lg",className:"text-lg px-8 py-3 bg-primary hover:bg-primary/90 text-primary-foreground btn-animate hover-glow",onClick:()=>{const d=document.getElementById("ux-studies");d==null||d.scrollIntoView({behavior:"smooth"})},children:"View My Work"}),_.jsx(kn,{size:"lg",className:"text-lg px-8 py-3 bg-primary hover:bg-primary/90 text-primary-foreground btn-animate hover-glow",onClick:()=>{const d=document.getElementById("contact");d==null||d.scrollIntoView({behavior:"smooth"})},children:"Get In Touch"})]}),_.jsxs("div",{className:"flex space-x-4 lg:space-x-5",role:"list","aria-label":"Social media links",children:[_.jsx(kn,{variant:"ghost",size:"lg",className:"w-12 h-12 lg:w-14 lg:h-14 glass-social-icon hover-scale-sm transition-all-smooth","aria-label":"LinkedIn profile",role:"listitem",children:_.jsx(_1,{className:"w-5 h-5 lg:w-6 lg:h-6 text-primary","aria-hidden":"true"})}),_.jsx(kn,{variant:"ghost",size:"lg",className:"w-12 h-12 lg:w-14 lg:h-14 glass-social-icon hover-scale-sm transition-all-smooth","aria-label":"GitHub profile",role:"listitem",children:_.jsx(x1,{className:"w-5 h-5 lg:w-6 lg:h-6 text-primary","aria-hidden":"true"})}),_.jsx(kn,{variant:"ghost",size:"lg",className:"w-12 h-12 lg:w-14 lg:h-14 glass-social-icon hover-scale-sm transition-all-smooth","aria-label":"Email contact",role:"listitem",children:_.jsx(C1,{className:"w-5 h-5 lg:w-6 lg:h-6 text-primary","aria-hidden":"true"})})]})]}),_.jsx("div",{className:"relative flex justify-center items-center",role:"img","aria-label":"Lillian Turner's professional brand logo",children:_.jsx("div",{className:"aspect-square rounded-2xl lg:rounded-3xl flex items-center justify-center shadow-lg",style:{backgroundColor:"#F3F4F6"},children:_.jsx("div",{className:"w-52 h-52 lg:w-60 lg:h-60 rounded-full flex items-center justify-center shadow-md",style:{backgroundColor:"#065F46"},children:_.jsx("span",{className:"text-6xl lg:text-7xl font-bold text-white","aria-hidden":"true",children:"LT"})})})})]})})})}function Ho(d,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(d==null||d(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function PP(d,e){const t=F.createContext(e),n=o=>{const{children:l,...u}=o,h=F.useMemo(()=>u,Object.values(u));return _.jsx(t.Provider,{value:h,children:l})};n.displayName=d+"Provider";function r(o){const l=F.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${d}\``)}return[n,r]}function RP(d,e=[]){let t=[];function n(o,l){const u=F.createContext(l),h=t.length;t=[...t,l];const p=y=>{var P;const{scope:v,children:x,...S}=y,A=((P=v==null?void 0:v[d])==null?void 0:P[h])||u,T=F.useMemo(()=>S,Object.values(S));return _.jsx(A.Provider,{value:T,children:x})};p.displayName=o+"Provider";function g(y,v){var A;const x=((A=v==null?void 0:v[d])==null?void 0:A[h])||u,S=F.useContext(x);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${o}\``)}return[p,g]}const r=()=>{const o=t.map(l=>F.createContext(l));return function(u){const h=(u==null?void 0:u[d])||o;return F.useMemo(()=>({[`__scope${d}`]:{...u,[d]:h}}),[u,h])}};return r.scopeName=d,[n,NP(r,...e)]}function NP(...d){const e=d[0];if(d.length===1)return e;const t=()=>{const n=d.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(o){const l=n.reduce((u,{useScope:h,scopeName:p})=>{const y=h(o)[`__scope${p}`];return{...u,...y}},{});return F.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var zd=globalThis!=null&&globalThis.document?F.useLayoutEffect:()=>{},LP=y1[" useId ".trim().toString()]||(()=>{}),MP=0;function mv(d){const[e,t]=F.useState(LP());return zd(()=>{t(n=>n??String(MP++))},[d]),d||(e?`radix-${e}`:"")}var IP=y1[" useInsertionEffect ".trim().toString()]||zd;function DP({prop:d,defaultProp:e,onChange:t=()=>{},caller:n}){const[r,o,l]=FP({defaultProp:e,onChange:t}),u=d!==void 0,h=u?d:r;{const g=F.useRef(d!==void 0);F.useEffect(()=>{const y=g.current;y!==u&&console.warn(`${n} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,n])}const p=F.useCallback(g=>{var y;if(u){const v=OP(g)?g(d):g;v!==d&&((y=l.current)==null||y.call(l,v))}else o(g)},[u,d,o,l]);return[h,p]}function FP({defaultProp:d,onChange:e}){const[t,n]=F.useState(d),r=F.useRef(t),o=F.useRef(e);return IP(()=>{o.current=e},[e]),F.useEffect(()=>{var l;r.current!==t&&((l=o.current)==null||l.call(o,t),r.current=t)},[t,r]),[t,n,o]}function OP(d){return typeof d=="function"}var j1=v1();const jP=am(j1);var zP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lr=zP.reduce((d,e)=>{const t=J0(`Primitive.${e}`),n=F.forwardRef((r,o)=>{const{asChild:l,...u}=r,h=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(h,{...u,ref:o})});return n.displayName=`Primitive.${e}`,{...d,[e]:n}},{});function BP(d,e){d&&j1.flushSync(()=>d.dispatchEvent(e))}function Bd(d){const e=F.useRef(d);return F.useEffect(()=>{e.current=d}),F.useMemo(()=>(...t)=>{var n;return(n=e.current)==null?void 0:n.call(e,...t)},[])}function HP(d,e=globalThis==null?void 0:globalThis.document){const t=Bd(d);F.useEffect(()=>{const n=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var UP="DismissableLayer",Iv="dismissableLayer.update",$P="dismissableLayer.pointerDownOutside",VP="dismissableLayer.focusOutside",_A,z1=F.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),B1=F.forwardRef((d,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...h}=d,p=F.useContext(z1),[g,y]=F.useState(null),v=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=F.useState({}),S=_l(e,O=>y(O)),A=Array.from(p.layers),[T]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),P=A.indexOf(T),R=g?A.indexOf(g):-1,L=p.layersWithOutsidePointerEventsDisabled.size>0,M=R>=P,I=XP(O=>{const V=O.target,G=[...p.branches].some(K=>K.contains(V));!M||G||(r==null||r(O),l==null||l(O),O.defaultPrevented||u==null||u())},v),B=qP(O=>{const V=O.target;[...p.branches].some(K=>K.contains(V))||(o==null||o(O),l==null||l(O),O.defaultPrevented||u==null||u())},v);return HP(O=>{R===p.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},v),F.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(_A=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),CA(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=_A)}},[g,v,t,p]),F.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),CA())},[g,p]),F.useEffect(()=>{const O=()=>x({});return document.addEventListener(Iv,O),()=>document.removeEventListener(Iv,O)},[]),_.jsx(Lr.div,{...h,ref:S,style:{pointerEvents:L?M?"auto":"none":void 0,...d.style},onFocusCapture:Ho(d.onFocusCapture,B.onFocusCapture),onBlurCapture:Ho(d.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Ho(d.onPointerDownCapture,I.onPointerDownCapture)})});B1.displayName=UP;var WP="DismissableLayerBranch",GP=F.forwardRef((d,e)=>{const t=F.useContext(z1),n=F.useRef(null),r=_l(e,n);return F.useEffect(()=>{const o=n.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),_.jsx(Lr.div,{...d,ref:r})});GP.displayName=WP;function XP(d,e=globalThis==null?void 0:globalThis.document){const t=Bd(d),n=F.useRef(!1),r=F.useRef(()=>{});return F.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let h=function(){H1($P,t,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=h,e.addEventListener("click",r.current,{once:!0})):h()}else e.removeEventListener("click",r.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function qP(d,e=globalThis==null?void 0:globalThis.document){const t=Bd(d),n=F.useRef(!1);return F.useEffect(()=>{const r=o=>{o.target&&!n.current&&H1(VP,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function CA(){const d=new CustomEvent(Iv);document.dispatchEvent(d)}function H1(d,e,t,{discrete:n}){const r=t.originalEvent.target,o=new CustomEvent(d,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(d,e,{once:!0}),n?BP(r,o):r.dispatchEvent(o)}var yv="focusScope.autoFocusOnMount",vv="focusScope.autoFocusOnUnmount",kA={bubbles:!1,cancelable:!0},YP="FocusScope",U1=F.forwardRef((d,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:o,...l}=d,[u,h]=F.useState(null),p=Bd(r),g=Bd(o),y=F.useRef(null),v=_l(e,A=>h(A)),x=F.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;F.useEffect(()=>{if(n){let A=function(L){if(x.paused||!u)return;const M=L.target;u.contains(M)?y.current=M:to(y.current,{select:!0})},T=function(L){if(x.paused||!u)return;const M=L.relatedTarget;M!==null&&(u.contains(M)||to(y.current,{select:!0}))},P=function(L){if(document.activeElement===document.body)for(const I of L)I.removedNodes.length>0&&to(u)};document.addEventListener("focusin",A),document.addEventListener("focusout",T);const R=new MutationObserver(P);return u&&R.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",T),R.disconnect()}}},[n,u,x.paused]),F.useEffect(()=>{if(u){PA.add(x);const A=document.activeElement;if(!u.contains(A)){const P=new CustomEvent(yv,kA);u.addEventListener(yv,p),u.dispatchEvent(P),P.defaultPrevented||(KP(tR($1(u)),{select:!0}),document.activeElement===A&&to(u))}return()=>{u.removeEventListener(yv,p),setTimeout(()=>{const P=new CustomEvent(vv,kA);u.addEventListener(vv,g),u.dispatchEvent(P),P.defaultPrevented||to(A??document.body,{select:!0}),u.removeEventListener(vv,g),PA.remove(x)},0)}}},[u,p,g,x]);const S=F.useCallback(A=>{if(!t&&!n||x.paused)return;const T=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,P=document.activeElement;if(T&&P){const R=A.currentTarget,[L,M]=QP(R);L&&M?!A.shiftKey&&P===M?(A.preventDefault(),t&&to(L,{select:!0})):A.shiftKey&&P===L&&(A.preventDefault(),t&&to(M,{select:!0})):P===R&&A.preventDefault()}},[t,n,x.paused]);return _.jsx(Lr.div,{tabIndex:-1,...l,ref:v,onKeyDown:S})});U1.displayName=YP;function KP(d,{select:e=!1}={}){const t=document.activeElement;for(const n of d)if(to(n,{select:e}),document.activeElement!==t)return}function QP(d){const e=$1(d),t=TA(e,d),n=TA(e.reverse(),d);return[t,n]}function $1(d){const e=[],t=document.createTreeWalker(d,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function TA(d,e){for(const t of d)if(!JP(t,{upTo:e}))return t}function JP(d,{upTo:e}){if(getComputedStyle(d).visibility==="hidden")return!0;for(;d;){if(e!==void 0&&d===e)return!1;if(getComputedStyle(d).display==="none")return!0;d=d.parentElement}return!1}function ZP(d){return d instanceof HTMLInputElement&&"select"in d}function to(d,{select:e=!1}={}){if(d&&d.focus){const t=document.activeElement;d.focus({preventScroll:!0}),d!==t&&ZP(d)&&e&&d.select()}}var PA=eR();function eR(){let d=[];return{add(e){const t=d[0];e!==t&&(t==null||t.pause()),d=RA(d,e),d.unshift(e)},remove(e){var t;d=RA(d,e),(t=d[0])==null||t.resume()}}}function RA(d,e){const t=[...d],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function tR(d){return d.filter(e=>e.tagName!=="A")}var nR="Portal",V1=F.forwardRef((d,e)=>{var u;const{container:t,...n}=d,[r,o]=F.useState(!1);zd(()=>o(!0),[]);const l=t||r&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?jP.createPortal(_.jsx(Lr.div,{...n,ref:e}),l):null});V1.displayName=nR;function iR(d,e){return F.useReducer((t,n)=>e[t][n]??t,d)}var lm=d=>{const{present:e,children:t}=d,n=sR(e),r=typeof t=="function"?t({present:n.isPresent}):F.Children.only(t),o=_l(n.ref,rR(r));return typeof t=="function"||n.isPresent?F.cloneElement(r,{ref:o}):null};lm.displayName="Presence";function sR(d){const[e,t]=F.useState(),n=F.useRef(null),r=F.useRef(d),o=F.useRef("none"),l=d?"mounted":"unmounted",[u,h]=iR(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return F.useEffect(()=>{const p=$p(n.current);o.current=u==="mounted"?p:"none"},[u]),zd(()=>{const p=n.current,g=r.current;if(g!==d){const v=o.current,x=$p(p);d?h("MOUNT"):x==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(g&&v!==x?"ANIMATION_OUT":"UNMOUNT"),r.current=d}},[d,h]),zd(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,y=x=>{const A=$p(n.current).includes(CSS.escape(x.animationName));if(x.target===e&&A&&(h("ANIMATION_END"),!r.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},v=x=>{x.target===e&&(o.current=$p(n.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:F.useCallback(p=>{n.current=p?getComputedStyle(p):null,t(p)},[])}}function $p(d){return(d==null?void 0:d.animationName)||"none"}function rR(d){var n,r;let e=(n=Object.getOwnPropertyDescriptor(d.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?d.ref:(e=(r=Object.getOwnPropertyDescriptor(d,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?d.props.ref:d.props.ref||d.ref)}var wv=0;function oR(){F.useEffect(()=>{const d=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",d[0]??NA()),document.body.insertAdjacentElement("beforeend",d[1]??NA()),wv++,()=>{wv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),wv--}},[])}function NA(){const d=document.createElement("span");return d.setAttribute("data-radix-focus-guard",""),d.tabIndex=0,d.style.outline="none",d.style.opacity="0",d.style.position="fixed",d.style.pointerEvents="none",d}var Ls=function(){return Ls=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ls.apply(this,arguments)};function W1(d,e){var t={};for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&e.indexOf(n)<0&&(t[n]=d[n]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(d);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(d,n[r])&&(t[n[r]]=d[n[r]]);return t}function aR(d,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return d.concat(o||Array.prototype.slice.call(e))}var tg="right-scroll-bar-position",ng="width-before-scroll-bar",lR="with-scroll-bars-hidden",cR="--removed-body-scroll-bar-size";function bv(d,e){return typeof d=="function"?d(e):d&&(d.current=e),d}function uR(d,e){var t=F.useState(function(){return{value:d,callback:e,facade:{get current(){return t.value},set current(n){var r=t.value;r!==n&&(t.value=n,t.callback(n,r))}}}})[0];return t.callback=e,t.facade}var dR=typeof window<"u"?F.useLayoutEffect:F.useEffect,LA=new WeakMap;function hR(d,e){var t=uR(null,function(n){return d.forEach(function(r){return bv(r,n)})});return dR(function(){var n=LA.get(t);if(n){var r=new Set(n),o=new Set(d),l=t.current;r.forEach(function(u){o.has(u)||bv(u,null)}),o.forEach(function(u){r.has(u)||bv(u,l)})}LA.set(t,d)},[d]),t}function fR(d){return d}function pR(d,e){e===void 0&&(e=fR);var t=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:d},useMedium:function(o){var l=e(o,n);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(n=!0;t.length;){var l=t;t=[],l.forEach(o)}t={push:function(u){return o(u)},filter:function(){return t}}},assignMedium:function(o){n=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(o),l=t}var h=function(){var g=l;l=[],g.forEach(o)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),t}}}};return r}function gR(d){d===void 0&&(d={});var e=pR(null);return e.options=Ls({async:!0,ssr:!1},d),e}var G1=function(d){var e=d.sideCar,t=W1(d,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return F.createElement(n,Ls({},t))};G1.isSideCarExport=!0;function mR(d,e){return d.useMedium(e),G1}var X1=gR(),xv=function(){},cm=F.forwardRef(function(d,e){var t=F.useRef(null),n=F.useState({onScrollCapture:xv,onWheelCapture:xv,onTouchMoveCapture:xv}),r=n[0],o=n[1],l=d.forwardProps,u=d.children,h=d.className,p=d.removeScrollBar,g=d.enabled,y=d.shards,v=d.sideCar,x=d.noRelative,S=d.noIsolation,A=d.inert,T=d.allowPinchZoom,P=d.as,R=P===void 0?"div":P,L=d.gapMode,M=W1(d,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=v,B=hR([t,e]),O=Ls(Ls({},M),r);return F.createElement(F.Fragment,null,g&&F.createElement(I,{sideCar:X1,removeScrollBar:p,shards:y,noRelative:x,noIsolation:S,inert:A,setCallbacks:o,allowPinchZoom:!!T,lockRef:t,gapMode:L}),l?F.cloneElement(F.Children.only(u),Ls(Ls({},O),{ref:B})):F.createElement(R,Ls({},O,{className:h,ref:B}),u))});cm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cm.classNames={fullWidth:ng,zeroRight:tg};var yR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vR(){if(!document)return null;var d=document.createElement("style");d.type="text/css";var e=yR();return e&&d.setAttribute("nonce",e),d}function wR(d,e){d.styleSheet?d.styleSheet.cssText=e:d.appendChild(document.createTextNode(e))}function bR(d){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(d)}var xR=function(){var d=0,e=null;return{add:function(t){d==0&&(e=vR())&&(wR(e,t),bR(e)),d++},remove:function(){d--,!d&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AR=function(){var d=xR();return function(e,t){F.useEffect(function(){return d.add(e),function(){d.remove()}},[e&&t])}},q1=function(){var d=AR(),e=function(t){var n=t.styles,r=t.dynamic;return d(n,r),null};return e},SR={left:0,top:0,right:0,gap:0},Av=function(d){return parseInt(d||"",10)||0},ER=function(d){var e=window.getComputedStyle(document.body),t=e[d==="padding"?"paddingLeft":"marginLeft"],n=e[d==="padding"?"paddingTop":"marginTop"],r=e[d==="padding"?"paddingRight":"marginRight"];return[Av(t),Av(n),Av(r)]},_R=function(d){if(d===void 0&&(d="margin"),typeof window>"u")return SR;var e=ER(d),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},CR=q1(),hc="data-scroll-locked",kR=function(d,e,t,n){var r=d.left,o=d.top,l=d.right,u=d.gap;return t===void 0&&(t="margin"),`
  .`.concat(lR,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(hc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tg,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(ng,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(tg," .").concat(tg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ng," .").concat(ng,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(hc,`] {
    `).concat(cR,": ").concat(u,`px;
  }
`)},MA=function(){var d=parseInt(document.body.getAttribute(hc)||"0",10);return isFinite(d)?d:0},TR=function(){F.useEffect(function(){return document.body.setAttribute(hc,(MA()+1).toString()),function(){var d=MA()-1;d<=0?document.body.removeAttribute(hc):document.body.setAttribute(hc,d.toString())}},[])},PR=function(d){var e=d.noRelative,t=d.noImportant,n=d.gapMode,r=n===void 0?"margin":n;TR();var o=F.useMemo(function(){return _R(r)},[r]);return F.createElement(CR,{styles:kR(o,!e,r,t?"":"!important")})},Dv=!1;if(typeof window<"u")try{var Vp=Object.defineProperty({},"passive",{get:function(){return Dv=!0,!0}});window.addEventListener("test",Vp,Vp),window.removeEventListener("test",Vp,Vp)}catch{Dv=!1}var Jl=Dv?{passive:!1}:!1,RR=function(d){return d.tagName==="TEXTAREA"},Y1=function(d,e){if(!(d instanceof Element))return!1;var t=window.getComputedStyle(d);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!RR(d)&&t[e]==="visible")},NR=function(d){return Y1(d,"overflowY")},LR=function(d){return Y1(d,"overflowX")},IA=function(d,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=K1(d,n);if(r){var o=Q1(d,n),l=o[1],u=o[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},MR=function(d){var e=d.scrollTop,t=d.scrollHeight,n=d.clientHeight;return[e,t,n]},IR=function(d){var e=d.scrollLeft,t=d.scrollWidth,n=d.clientWidth;return[e,t,n]},K1=function(d,e){return d==="v"?NR(e):LR(e)},Q1=function(d,e){return d==="v"?MR(e):IR(e)},DR=function(d,e){return d==="h"&&e==="rtl"?-1:1},FR=function(d,e,t,n,r){var o=DR(d,window.getComputedStyle(e).direction),l=o*n,u=t.target,h=e.contains(u),p=!1,g=l>0,y=0,v=0;do{if(!u)break;var x=Q1(d,u),S=x[0],A=x[1],T=x[2],P=A-T-o*S;(S||P)&&K1(d,u)&&(y+=P,v+=S);var R=u.parentNode;u=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(g&&Math.abs(y)<1||!g&&Math.abs(v)<1)&&(p=!0),p},Wp=function(d){return"changedTouches"in d?[d.changedTouches[0].clientX,d.changedTouches[0].clientY]:[0,0]},DA=function(d){return[d.deltaX,d.deltaY]},FA=function(d){return d&&"current"in d?d.current:d},OR=function(d,e){return d[0]===e[0]&&d[1]===e[1]},jR=function(d){return`
  .block-interactivity-`.concat(d,` {pointer-events: none;}
  .allow-interactivity-`).concat(d,` {pointer-events: all;}
`)},zR=0,Zl=[];function BR(d){var e=F.useRef([]),t=F.useRef([0,0]),n=F.useRef(),r=F.useState(zR++)[0],o=F.useState(q1)[0],l=F.useRef(d);F.useEffect(function(){l.current=d},[d]),F.useEffect(function(){if(d.inert){document.body.classList.add("block-interactivity-".concat(r));var A=aR([d.lockRef.current],(d.shards||[]).map(FA),!0).filter(Boolean);return A.forEach(function(T){return T.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),A.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(r))})}}},[d.inert,d.lockRef.current,d.shards]);var u=F.useCallback(function(A,T){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!l.current.allowPinchZoom;var P=Wp(A),R=t.current,L="deltaX"in A?A.deltaX:R[0]-P[0],M="deltaY"in A?A.deltaY:R[1]-P[1],I,B=A.target,O=Math.abs(L)>Math.abs(M)?"h":"v";if("touches"in A&&O==="h"&&B.type==="range")return!1;var V=IA(O,B);if(!V)return!0;if(V?I=O:(I=O==="v"?"h":"v",V=IA(O,B)),!V)return!1;if(!n.current&&"changedTouches"in A&&(L||M)&&(n.current=I),!I)return!0;var G=n.current||I;return FR(G,T,A,G==="h"?L:M)},[]),h=F.useCallback(function(A){var T=A;if(!(!Zl.length||Zl[Zl.length-1]!==o)){var P="deltaY"in T?DA(T):Wp(T),R=e.current.filter(function(I){return I.name===T.type&&(I.target===T.target||T.target===I.shadowParent)&&OR(I.delta,P)})[0];if(R&&R.should){T.cancelable&&T.preventDefault();return}if(!R){var L=(l.current.shards||[]).map(FA).filter(Boolean).filter(function(I){return I.contains(T.target)}),M=L.length>0?u(T,L[0]):!l.current.noIsolation;M&&T.cancelable&&T.preventDefault()}}},[]),p=F.useCallback(function(A,T,P,R){var L={name:A,delta:T,target:P,should:R,shadowParent:HR(P)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(M){return M!==L})},1)},[]),g=F.useCallback(function(A){t.current=Wp(A),n.current=void 0},[]),y=F.useCallback(function(A){p(A.type,DA(A),A.target,u(A,d.lockRef.current))},[]),v=F.useCallback(function(A){p(A.type,Wp(A),A.target,u(A,d.lockRef.current))},[]);F.useEffect(function(){return Zl.push(o),d.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",h,Jl),document.addEventListener("touchmove",h,Jl),document.addEventListener("touchstart",g,Jl),function(){Zl=Zl.filter(function(A){return A!==o}),document.removeEventListener("wheel",h,Jl),document.removeEventListener("touchmove",h,Jl),document.removeEventListener("touchstart",g,Jl)}},[]);var x=d.removeScrollBar,S=d.inert;return F.createElement(F.Fragment,null,S?F.createElement(o,{styles:jR(r)}):null,x?F.createElement(PR,{noRelative:d.noRelative,gapMode:d.gapMode}):null)}function HR(d){for(var e=null;d!==null;)d instanceof ShadowRoot&&(e=d.host,d=d.host),d=d.parentNode;return e}const UR=mR(X1,BR);var J1=F.forwardRef(function(d,e){return F.createElement(cm,Ls({},d,{ref:e,sideCar:UR}))});J1.classNames=cm.classNames;var $R=function(d){if(typeof document>"u")return null;var e=Array.isArray(d)?d[0]:d;return e.ownerDocument.body},ec=new WeakMap,Gp=new WeakMap,Xp={},Sv=0,Z1=function(d){return d&&(d.host||Z1(d.parentNode))},VR=function(d,e){return e.map(function(t){if(d.contains(t))return t;var n=Z1(t);return n&&d.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",d,". Doing nothing"),null)}).filter(function(t){return!!t})},WR=function(d,e,t,n){var r=VR(e,Array.isArray(d)?d:[d]);Xp[t]||(Xp[t]=new WeakMap);var o=Xp[t],l=[],u=new Set,h=new Set(r),p=function(y){!y||u.has(y)||(u.add(y),p(y.parentNode))};r.forEach(p);var g=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(v){if(u.has(v))g(v);else try{var x=v.getAttribute(n),S=x!==null&&x!=="false",A=(ec.get(v)||0)+1,T=(o.get(v)||0)+1;ec.set(v,A),o.set(v,T),l.push(v),A===1&&S&&Gp.set(v,!0),T===1&&v.setAttribute(t,"true"),S||v.setAttribute(n,"true")}catch(P){console.error("aria-hidden: cannot operate on ",v,P)}})};return g(e),u.clear(),Sv++,function(){l.forEach(function(y){var v=ec.get(y)-1,x=o.get(y)-1;ec.set(y,v),o.set(y,x),v||(Gp.has(y)||y.removeAttribute(n),Gp.delete(y)),x||y.removeAttribute(t)}),Sv--,Sv||(ec=new WeakMap,ec=new WeakMap,Gp=new WeakMap,Xp={})}},GR=function(d,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(d)?d:[d]),r=$R(d);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live], script"))),WR(n,r,t,"aria-hidden")):function(){return null}},um="Dialog",[eS]=RP(um),[XR,rs]=eS(um),tS=d=>{const{__scopeDialog:e,children:t,open:n,defaultOpen:r,onOpenChange:o,modal:l=!0}=d,u=F.useRef(null),h=F.useRef(null),[p,g]=DP({prop:n,defaultProp:r??!1,onChange:o,caller:um});return _.jsx(XR,{scope:e,triggerRef:u,contentRef:h,contentId:mv(),titleId:mv(),descriptionId:mv(),open:p,onOpenChange:g,onOpenToggle:F.useCallback(()=>g(y=>!y),[g]),modal:l,children:t})};tS.displayName=um;var nS="DialogTrigger",qR=F.forwardRef((d,e)=>{const{__scopeDialog:t,...n}=d,r=rs(nS,t),o=_l(e,r.triggerRef);return _.jsx(Lr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":nw(r.open),...n,ref:o,onClick:Ho(d.onClick,r.onOpenToggle)})});qR.displayName=nS;var ew="DialogPortal",[YR,iS]=eS(ew,{forceMount:void 0}),sS=d=>{const{__scopeDialog:e,forceMount:t,children:n,container:r}=d,o=rs(ew,e);return _.jsx(YR,{scope:e,forceMount:t,children:F.Children.map(n,l=>_.jsx(lm,{present:t||o.open,children:_.jsx(V1,{asChild:!0,container:r,children:l})}))})};sS.displayName=ew;var Mg="DialogOverlay",rS=F.forwardRef((d,e)=>{const t=iS(Mg,d.__scopeDialog),{forceMount:n=t.forceMount,...r}=d,o=rs(Mg,d.__scopeDialog);return o.modal?_.jsx(lm,{present:n||o.open,children:_.jsx(QR,{...r,ref:e})}):null});rS.displayName=Mg;var KR=J0("DialogOverlay.RemoveScroll"),QR=F.forwardRef((d,e)=>{const{__scopeDialog:t,...n}=d,r=rs(Mg,t);return _.jsx(J1,{as:KR,allowPinchZoom:!0,shards:[r.contentRef],children:_.jsx(Lr.div,{"data-state":nw(r.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Al="DialogContent",oS=F.forwardRef((d,e)=>{const t=iS(Al,d.__scopeDialog),{forceMount:n=t.forceMount,...r}=d,o=rs(Al,d.__scopeDialog);return _.jsx(lm,{present:n||o.open,children:o.modal?_.jsx(JR,{...r,ref:e}):_.jsx(ZR,{...r,ref:e})})});oS.displayName=Al;var JR=F.forwardRef((d,e)=>{const t=rs(Al,d.__scopeDialog),n=F.useRef(null),r=_l(e,t.contentRef,n);return F.useEffect(()=>{const o=n.current;if(o)return GR(o)},[]),_.jsx(aS,{...d,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ho(d.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ho(d.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:Ho(d.onFocusOutside,o=>o.preventDefault())})}),ZR=F.forwardRef((d,e)=>{const t=rs(Al,d.__scopeDialog),n=F.useRef(!1),r=F.useRef(!1);return _.jsx(aS,{...d,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=d.onCloseAutoFocus)==null||l.call(d,o),o.defaultPrevented||(n.current||(u=t.triggerRef.current)==null||u.focus(),o.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:o=>{var h,p;(h=d.onInteractOutside)==null||h.call(d,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=o.target;((p=t.triggerRef.current)==null?void 0:p.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}})}),aS=F.forwardRef((d,e)=>{const{__scopeDialog:t,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:o,...l}=d,u=rs(Al,t),h=F.useRef(null),p=_l(e,h);return oR(),_.jsxs(_.Fragment,{children:[_.jsx(U1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:o,children:_.jsx(B1,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":nw(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),_.jsxs(_.Fragment,{children:[_.jsx(eN,{titleId:u.titleId}),_.jsx(nN,{contentRef:h,descriptionId:u.descriptionId})]})]})}),tw="DialogTitle",lS=F.forwardRef((d,e)=>{const{__scopeDialog:t,...n}=d,r=rs(tw,t);return _.jsx(Lr.h2,{id:r.titleId,...n,ref:e})});lS.displayName=tw;var cS="DialogDescription",uS=F.forwardRef((d,e)=>{const{__scopeDialog:t,...n}=d,r=rs(cS,t);return _.jsx(Lr.p,{id:r.descriptionId,...n,ref:e})});uS.displayName=cS;var dS="DialogClose",hS=F.forwardRef((d,e)=>{const{__scopeDialog:t,...n}=d,r=rs(dS,t);return _.jsx(Lr.button,{type:"button",...n,ref:e,onClick:Ho(d.onClick,()=>r.onOpenChange(!1))})});hS.displayName=dS;function nw(d){return d?"open":"closed"}var fS="DialogTitleWarning",[$L,pS]=PP(fS,{contentName:Al,titleName:tw,docsSlug:"dialog"}),eN=({titleId:d})=>{const e=pS(fS),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return F.useEffect(()=>{d&&(document.getElementById(d)||console.error(t))},[t,d]),null},tN="DialogDescriptionWarning",nN=({contentRef:d,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pS(tN).contentName}}.`;return F.useEffect(()=>{var o;const r=(o=d.current)==null?void 0:o.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(n))},[n,d,e]),null},iN=tS,sN=sS,gS=rS,mS=oS,yS=lS,vS=uS,rN=hS;const oN=iN,aN=sN,wS=F.forwardRef(({className:d,...e},t)=>_.jsx(gS,{ref:t,className:Cu("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",d),...e}));wS.displayName=gS.displayName;const bS=F.forwardRef(({className:d,children:e,...t},n)=>_.jsxs(aN,{children:[_.jsx(wS,{}),_.jsxs(mS,{ref:n,className:Cu("fixed left-[50%] top-[10%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-0 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl max-h-[80vh] overflow-y-auto",d),...t,children:[e,_.jsxs(rN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[_.jsx(R1,{className:"h-4 w-4"}),_.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bS.displayName=mS.displayName;const xS=({className:d,...e})=>_.jsx("div",{className:Cu("flex flex-col space-y-1.5 text-center sm:text-left",d),...e});xS.displayName="DialogHeader";const AS=F.forwardRef(({className:d,...e},t)=>_.jsx(yS,{ref:t,className:Cu("text-lg font-semibold leading-none tracking-tight",d),...e}));AS.displayName=yS.displayName;const SS=F.forwardRef(({className:d,...e},t)=>_.jsx(vS,{ref:t,className:Cu("text-sm text-muted-foreground",d),...e}));SS.displayName=vS.displayName;const Cn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Fv=[.001,0,0,.001,0,0],Ev=1.35,ci={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ms={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ES="pdfjs_internal_editor_",Te={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},He={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},_S={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},dn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},jd={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},_t={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},tc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Sf={ERRORS:0,WARNINGS:1,INFOS:5},Hd={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},qp={moveTo:0,lineTo:1,curveTo:2,closePath:3},CS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let dm=Sf.WARNINGS;function lN(d){Number.isInteger(d)&&(dm=d)}function cN(){return dm}function hm(d){dm>=Sf.INFOS&&console.log(`Info: ${d}`)}function Pe(d){dm>=Sf.WARNINGS&&console.log(`Warning: ${d}`)}function Ze(d){throw new Error(d)}function Lt(d,e){d||Ze(e)}function uN(d){switch(d==null?void 0:d.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function iw(d,e=null,t=null){if(!d)return null;if(t&&typeof d=="string"){if(t.addDefaultProtocol&&d.startsWith("www.")){const r=d.match(/\./g);(r==null?void 0:r.length)>=2&&(d=`http://${d}`)}if(t.tryConvertEncoding)try{d=gN(d)}catch{}}const n=e?URL.parse(d,e):URL.parse(d);return uN(n)?n:null}function sw(d,e,t=!1){const n=URL.parse(d);return n?(n.hash=e,n.href):t&&iw(d,"http://example.com")?d.split("#",1)[0]+`${e?`#${e}`:""}`:""}function je(d,e,t,n=!1){return Object.defineProperty(d,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Cl=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class OA extends Cl{constructor(e,t){super(e,"PasswordException"),this.code=t}}class _v extends Cl{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Ig extends Cl{constructor(e){super(e,"InvalidPDFException")}}class Ud extends Cl{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class dN extends Cl{constructor(e){super(e,"FormatError")}}class Pr extends Cl{constructor(e){super(e,"AbortException")}}function kS(d){(typeof d!="object"||(d==null?void 0:d.length)===void 0)&&Ze("Invalid argument for bytesToString");const e=d.length,t=8192;if(e<t)return String.fromCharCode.apply(null,d);const n=[];for(let r=0;r<e;r+=t){const o=Math.min(r+t,e),l=d.subarray(r,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function Ef(d){typeof d!="string"&&Ze("Invalid argument for stringToBytes");const e=d.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=d.charCodeAt(n)&255;return t}function hN(d){return String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,d&255)}function fN(){const d=new Uint8Array(4);return d[0]=1,new Uint32Array(d.buffer,0,1)[0]===1}function pN(){try{return new Function(""),!0}catch{return!1}}class Kt{static get isLittleEndian(){return je(this,"isLittleEndian",fN())}static get isEvalSupported(){return je(this,"isEvalSupported",pN())}static get isOffscreenCanvasSupported(){return je(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return je(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return je(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return je(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Cv=Array.from(Array(256).keys(),d=>d.toString(16).padStart(2,"0"));var kr,ig,Ov;class we{static makeHexColor(e,t,n){return`#${Cv[e]}${Cv[t]}${Cv[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,n=0){const r=e[n],o=e[n+1];e[n]=r*t[0]+o*t[2]+t[4],e[n+1]=r*t[1]+o*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const r=t[0],o=t[1],l=t[2],u=t[3],h=t[4],p=t[5];for(let g=0;g<6;g+=2){const y=e[n+g],v=e[n+g+1];e[n+g]=y*r+v*l+h,e[n+g+1]=y*o+v*u+p}}static applyInverseTransform(e,t){const n=e[0],r=e[1],o=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/o,e[1]=(-n*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/o}static axialAlignedBoundingBox(e,t,n){const r=t[0],o=t[1],l=t[2],u=t[3],h=t[4],p=t[5],g=e[0],y=e[1],v=e[2],x=e[3];let S=r*g+h,A=S,T=r*v+h,P=T,R=u*y+p,L=R,M=u*x+p,I=M;if(o!==0||l!==0){const B=o*g,O=o*v,V=l*y,G=l*x;S+=V,P+=V,T+=G,A+=G,R+=B,I+=B,M+=O,L+=O}n[0]=Math.min(n[0],S,T,A,P),n[1]=Math.min(n[1],R,M,L,I),n[2]=Math.max(n[2],S,T,A,P),n[3]=Math.max(n[3],R,M,L,I)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],r=e[1],o=e[2],l=e[3],u=n**2+r**2,h=n*o+r*l,p=o**2+l**2,g=(u+p)/2,y=Math.sqrt(g**2-(u*p-h**2));t[0]=Math.sqrt(g+y||1),t[1]=Math.sqrt(g-y||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>l?null:[n,o,r,l]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,r,o){o[0]=Math.min(o[0],e,n),o[1]=Math.min(o[1],t,r),o[2]=Math.max(o[2],e,n),o[3]=Math.max(o[3],t,r)}static bezierBoundingBox(e,t,n,r,o,l,u,h,p){p[0]=Math.min(p[0],e,u),p[1]=Math.min(p[1],t,h),p[2]=Math.max(p[2],e,u),p[3]=Math.max(p[3],t,h),C(this,kr,Ov).call(this,e,n,o,u,t,r,l,h,3*(-e+3*(n-o)+u),6*(e-2*n+o),3*(n-e),p),C(this,kr,Ov).call(this,e,n,o,u,t,r,l,h,3*(-t+3*(r-l)+h),6*(t-2*r+l),3*(r-t),p)}}kr=new WeakSet,ig=function(e,t,n,r,o,l,u,h,p,g){if(p<=0||p>=1)return;const y=1-p,v=p*p,x=v*p,S=y*(y*(y*e+3*p*t)+3*v*n)+x*r,A=y*(y*(y*o+3*p*l)+3*v*u)+x*h;g[0]=Math.min(g[0],S),g[1]=Math.min(g[1],A),g[2]=Math.max(g[2],S),g[3]=Math.max(g[3],A)},Ov=function(e,t,n,r,o,l,u,h,p,g,y,v){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&C(this,kr,ig).call(this,e,t,n,r,o,l,u,h,-y/g,v);return}const x=g**2-4*y*p;if(x<0)return;const S=Math.sqrt(x),A=2*p;C(this,kr,ig).call(this,e,t,n,r,o,l,u,h,(-g+S)/A,v),C(this,kr,ig).call(this,e,t,n,r,o,l,u,h,(-g-S)/A,v)},E(we,kr);function gN(d){return decodeURIComponent(escape(d))}let kv=null,jA=null;function TS(d){return kv||(kv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,jA=new Map([["ﬅ","ſt"]])),d.replaceAll(kv,(e,t,n)=>t?t.normalize("NFKC"):jA.get(n))}function rw(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const d=new Uint8Array(32);return crypto.getRandomValues(d),kS(d)}const ow="pdfjs_internal_id_";function mN(d,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,r,...o]=t;if(!d(n)&&!Number.isInteger(n)||!e(r))return!1;const l=o.length;let u=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const h of o)if(!(typeof h=="number"||u&&h===null))return!1;return!0}function mn(d,e,t){return Math.min(Math.max(d,e),t)}function PS(d){return Uint8Array.prototype.toBase64?d.toBase64():btoa(kS(d))}function yN(d){return Uint8Array.fromBase64?Uint8Array.fromBase64(d):Ef(atob(d))}typeof Promise.try!="function"&&(Promise.try=function(d,...e){return new Promise(t=>{t(d(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(d){return d.reduce((e,t)=>e+t,0)});const Gs="http://www.w3.org/2000/svg",ha=class ha{};te(ha,"CSS",96),te(ha,"PDF",72),te(ha,"PDF_TO_CSS_UNITS",ha.CSS/ha.PDF);let Rr=ha;async function ku(d,e="text"){if(wd(d,document.baseURI)){const t=await fetch(d);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",d,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class _f{constructor({viewBox:e,userUnit:t,scale:n,rotation:r,offsetX:o=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=r,this.offsetX=o,this.offsetY=l,n*=t;const h=(e[2]+e[0])/2,p=(e[3]+e[1])/2;let g,y,v,x;switch(r%=360,r<0&&(r+=360),r){case 180:g=-1,y=0,v=0,x=1;break;case 90:g=0,y=1,v=1,x=0;break;case 270:g=0,y=-1,v=-1,x=0;break;case 0:g=1,y=0,v=0,x=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,x=-x);let S,A,T,P;g===0?(S=Math.abs(p-e[1])*n+o,A=Math.abs(h-e[0])*n+l,T=(e[3]-e[1])*n,P=(e[2]-e[0])*n):(S=Math.abs(h-e[0])*n+o,A=Math.abs(p-e[1])*n+l,T=(e[2]-e[0])*n,P=(e[3]-e[1])*n),this.transform=[g*n,y*n,v*n,x*n,S-g*n*h-v*n*p,A-y*n*h-x*n*p],this.width=T,this.height=P}get rawDims(){const e=this.viewBox;return je(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new _f({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}convertToViewportPoint(e,t){const n=[e,t];return we.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];we.applyTransform(t,this.transform);const n=[e[2],e[3]];return we.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return we.applyInverseTransform(n,this.transform),n}}class fm extends Cl{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Cf(d){const e=d.length;let t=0;for(;t<e&&d[t].trim()==="";)t++;return d.substring(t,t+5).toLowerCase()==="data:"}function pm(d){return typeof d=="string"&&/\.pdf$/i.test(d)}function RS(d){return[d]=d.split(/[#?]/,1),d.substring(d.lastIndexOf("/")+1)}function NS(d,e="document.pdf"){if(typeof d!="string")return e;if(Cf(d))return Pe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(d);if(!n)return e;const r=u=>{try{let h=decodeURIComponent(u);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:u):h}catch{return u}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return r(l);if(n.searchParams.size>0){const u=Array.from(n.searchParams.values()).reverse();for(const p of u)if(o.test(p))return r(p);const h=Array.from(n.searchParams.keys()).reverse();for(const p of h)if(o.test(p))return r(p)}if(n.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(h)return r(h[0])}return e}class zA{constructor(){te(this,"started",Object.create(null));te(this,"times",[])}time(e){e in this.started&&Pe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Pe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-r}ms
`);return e.join("")}}function wd(d,e){const t=e?URL.parse(d,e):URL.parse(d);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Li(d){d.preventDefault()}function Tt(d){d.preventDefault(),d.stopPropagation()}function vN(d){console.log("Deprecated API usage: "+d)}var qd;class gm{static toDateObject(e){if(!e||typeof e!="string")return null;a(this,qd)||b(this,qd,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=a(this,qd).exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(t[5],10);u=u>=0&&u<=59?u:0;let h=parseInt(t[6],10);h=h>=0&&h<=59?h:0;const p=t[7]||"Z";let g=parseInt(t[8],10);g=g>=0&&g<=23?g:0;let y=parseInt(t[9],10)||0;return y=y>=0&&y<=59?y:0,p==="-"?(l+=g,u+=y):p==="+"&&(l-=g,u-=y),new Date(Date.UTC(n,r,o,l,u,h))}}qd=new WeakMap,E(gm,qd);function LS(d,{scale:e=1,rotation:t=0}){const{width:n,height:r}=d.attributes.style,o=[0,0,parseInt(n),parseInt(r)];return new _f({viewBox:o,userUnit:1,scale:e,rotation:t})}function aw(d){if(d.startsWith("#")){const e=parseInt(d.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return d.startsWith("rgb(")?d.slice(4,-1).split(",").map(e=>parseInt(e)):d.startsWith("rgba(")?d.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Pe(`Not a valid color format: "${d}"`),[0,0,0])}function wN(d){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of d.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;d.set(t,aw(n))}e.remove()}function yt(d){const{a:e,b:t,c:n,d:r,e:o,f:l}=d.getTransform();return[e,t,n,r,o,l]}function hs(d){const{a:e,b:t,c:n,d:r,e:o,f:l}=d.getTransform().invertSelf();return[e,t,n,r,o,l]}function Uo(d,e,t=!1,n=!0){if(e instanceof _f){const{pageWidth:r,pageHeight:o}=e.rawDims,{style:l}=d,u=Kt.isCSSRoundSupported,h=`var(--total-scale-factor) * ${r}px`,p=`var(--total-scale-factor) * ${o}px`,g=u?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,y=u?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!t||e.rotation%180===0?(l.width=g,l.height=y):(l.width=y,l.height=g)}n&&d.setAttribute("data-main-rotation",e.rotation)}class is{constructor(){const{pixelRatio:e}=is;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,r,o=-1){let l=1/0,u=1/0,h=1/0;n=is.capPixels(n,o),n>0&&(l=Math.sqrt(n/(e*t))),r!==-1&&(u=r/e,h=r/t);const p=Math.min(l,u,h);return this.sx>p||this.sy>p?(this.sx=p,this.sy=p,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const Dg=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var io,pa,Ai,so,Yd,mc,Kd,Ug,MS,Tn,IS,DS,bd,sg;const Ys=class Ys{constructor(e){E(this,Tn);E(this,io,null);E(this,pa,null);E(this,Ai);E(this,so,null);E(this,Yd,null);E(this,mc,null);b(this,Ai,e),a(Ys,Kd)||b(Ys,Kd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=b(this,io,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=a(this,Ai)._uiManager._signal;e.addEventListener("contextmenu",Li,{signal:t}),e.addEventListener("pointerdown",C(Ys,Ug,MS),{signal:t});const n=b(this,so,document.createElement("div"));n.className="buttons",e.append(n);const r=a(this,Ai).toolbarPosition;if(r){const{style:o}=e,l=a(this,Ai)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return a(this,io)}hide(){var e;a(this,io).classList.add("hidden"),(e=a(this,pa))==null||e.hideDropdown()}show(){var e;a(this,io).classList.remove("hidden"),(e=a(this,Yd))==null||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=a(this,Ai),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",a(Ys,Kd)[e]),C(this,Tn,bd).call(this,n),n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),a(this,so).append(n)}async addAltText(e){const t=await e.render();C(this,Tn,bd).call(this,t),a(this,so).append(t,a(this,Tn,sg)),b(this,Yd,e)}addColorPicker(e){b(this,pa,e);const t=e.renderButton();C(this,Tn,bd).call(this,t),a(this,so).append(t,a(this,Tn,sg))}async addEditSignatureButton(e){const t=b(this,mc,await e.renderEditButton(a(this,Ai)));C(this,Tn,bd).call(this,t),a(this,so).append(t,a(this,Tn,sg))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){a(this,mc)&&(a(this,mc).title=e)}remove(){var e;a(this,io).remove(),(e=a(this,pa))==null||e.destroy(),b(this,pa,null)}};io=new WeakMap,pa=new WeakMap,Ai=new WeakMap,so=new WeakMap,Yd=new WeakMap,mc=new WeakMap,Kd=new WeakMap,Ug=new WeakSet,MS=function(e){e.stopPropagation()},Tn=new WeakSet,IS=function(e){a(this,Ai)._focusEventsAllowed=!1,Tt(e)},DS=function(e){a(this,Ai)._focusEventsAllowed=!0,Tt(e)},bd=function(e){const t=a(this,Ai)._uiManager._signal;e.addEventListener("focusin",C(this,Tn,IS).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",C(this,Tn,DS).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Li,{signal:t})},sg=function(){const e=document.createElement("div");return e.className="divider",e},E(Ys,Ug),E(Ys,Kd,null);let jv=Ys;var Qd,ga,ma,Vo,FS,OS,jS;class bN{constructor(e){E(this,Vo);E(this,Qd,null);E(this,ga,null);E(this,ma);b(this,ma,e)}show(e,t,n){const[r,o]=C(this,Vo,OS).call(this,t,n),{style:l}=a(this,ga)||b(this,ga,C(this,Vo,FS).call(this));e.append(a(this,ga)),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){a(this,ga).remove()}}Qd=new WeakMap,ga=new WeakMap,ma=new WeakMap,Vo=new WeakSet,FS=function(){const e=b(this,ga,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Li,{signal:a(this,ma)._signal});const t=b(this,Qd,document.createElement("div"));return t.className="buttons",e.append(t),C(this,Vo,jS).call(this),e},OS=function(e,t){let n=0,r=0;for(const o of e){const l=o.y+o.height;if(l<n)continue;const u=o.x+(t?o.width:0);if(l>n){r=u,n=l;continue}t?u>r&&(r=u):u<r&&(r=u)}return[t?1-r:r,n]},jS=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=a(this,ma)._signal;e.addEventListener("contextmenu",Li,{signal:n}),e.addEventListener("click",()=>{a(this,ma).highlightSelection("floating_button")},{signal:n}),a(this,Qd).append(e)};function zS(d,e,t){for(const n of t)e.addEventListener(n,d[n].bind(d))}var $g;class xN{constructor(){E(this,$g,0)}get id(){return`${ES}${bn(this,$g)._++}`}}$g=new WeakMap;var yc,Jd,fn,vc,rg;const ww=class ww{constructor(){E(this,vc);E(this,yc,rw());E(this,Jd,0);E(this,fn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const o=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return je(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:o}=e;return C(this,vc,rg).call(this,`${t}_${n}_${r}_${o}`,e)}async getFromUrl(e){return C(this,vc,rg).call(this,e,e)}async getFromBlob(e,t){const n=await t;return C(this,vc,rg).call(this,e,n)}async getFromId(e){a(this,fn)||b(this,fn,new Map);const t=a(this,fn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){a(this,fn)||b(this,fn,new Map);let n=a(this,fn).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${a(this,yc)}_${bn(this,Jd)._++}`,refCounter:1,isSvg:!1},a(this,fn).set(e,n),a(this,fn).set(n.id,n),n}getSvgUrl(e){const t=a(this,fn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;a(this,fn)||b(this,fn,new Map);const t=a(this,fn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=o.convertToBlob()}(r=n.close)==null||r.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${a(this,yc)}_`)}};yc=new WeakMap,Jd=new WeakMap,fn=new WeakMap,vc=new WeakSet,rg=async function(e,t){a(this,fn)||b(this,fn,new Map);let n=a(this,fn).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${a(this,yc)}_${bn(this,Jd)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(n.url=t,r=await ku(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const o=ww._isSVGFittingCanvas,l=new FileReader,u=new Image,h=new Promise((p,g)=>{u.onload=()=>{n.bitmap=u,n.isSvg=!0,p()},l.onload=async()=>{const y=n.svgUrl=l.result;u.src=await o?`${y}#svgView(preserveAspectRatio(none))`:y},u.onerror=l.onerror=g});l.readAsDataURL(r),await h}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){Pe(r),n=null}return a(this,fn).set(e,n),n&&a(this,fn).set(n.id,n),n};let zv=ww;var Ct,ro,Zd,mt;class AN{constructor(e=128){E(this,Ct,[]);E(this,ro,!1);E(this,Zd);E(this,mt,-1);b(this,Zd,e)}add({cmd:e,undo:t,post:n,mustExec:r,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(r&&e(),a(this,ro))return;const h={cmd:e,undo:t,post:n,type:o};if(a(this,mt)===-1){a(this,Ct).length>0&&(a(this,Ct).length=0),b(this,mt,0),a(this,Ct).push(h);return}if(l&&a(this,Ct)[a(this,mt)].type===o){u&&(h.undo=a(this,Ct)[a(this,mt)].undo),a(this,Ct)[a(this,mt)]=h;return}const p=a(this,mt)+1;p===a(this,Zd)?a(this,Ct).splice(0,1):(b(this,mt,p),p<a(this,Ct).length&&a(this,Ct).splice(p)),a(this,Ct).push(h)}undo(){if(a(this,mt)===-1)return;b(this,ro,!0);const{undo:e,post:t}=a(this,Ct)[a(this,mt)];e(),t==null||t(),b(this,ro,!1),b(this,mt,a(this,mt)-1)}redo(){if(a(this,mt)<a(this,Ct).length-1){b(this,mt,a(this,mt)+1),b(this,ro,!0);const{cmd:e,post:t}=a(this,Ct)[a(this,mt)];e(),t==null||t(),b(this,ro,!1)}}hasSomethingToUndo(){return a(this,mt)!==-1}hasSomethingToRedo(){return a(this,mt)<a(this,Ct).length-1}cleanType(e){if(a(this,mt)!==-1){for(let t=a(this,mt);t>=0;t--)if(a(this,Ct)[t].type!==e){a(this,Ct).splice(t+1,a(this,mt)-t),b(this,mt,t);return}a(this,Ct).length=0,b(this,mt,-1)}}destroy(){b(this,Ct,null)}}Ct=new WeakMap,ro=new WeakMap,Zd=new WeakMap,mt=new WeakMap;var Vg,BS;class kf{constructor(e){E(this,Vg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Kt.platform;for(const[n,r,o={}]of e)for(const l of n){const u=l.startsWith("mac+");t&&u?(this.callbacks.set(l.slice(4),{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1))):!t&&!u&&(this.callbacks.set(l,{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(C(this,Vg,BS).call(this,t));if(!n)return;const{callback:r,options:{bubbles:o=!1,args:l=[],checker:u=null}}=n;u&&!u(e,t)||(r.bind(e,...l,t)(),o||Tt(t))}}Vg=new WeakSet,BS=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Wg=class Wg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return wN(e),je(this,"_colors",e)}convert(e){const t=aw(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((o,l)=>o===t[l]))return Wg._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?we.makeHexColor(...t):e}};te(Wg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Bv=Wg;var wc,Yn,Ot,Zt,bc,Qs,xc,Si,oo,ao,Ac,ya,gs,Vi,va,eh,th,Sc,nh,ms,lo,Ec,co,ys,Gg,uo,ih,ho,wa,ba,fo,sh,$t,Ye,Js,po,xa,rh,oh,go,vs,Zs,ah,lh,Ei,se,og,Hv,HS,US,ag,$S,VS,WS,Uv,GS,$v,Vv,XS,xn,Xs,qS,YS,Wv,KS,xd,Gv;const cc=class cc{constructor(e,t,n,r,o,l,u,h,p,g,y,v,x,S,A){E(this,se);E(this,wc,new AbortController);E(this,Yn,null);E(this,Ot,new Map);E(this,Zt,new Map);E(this,bc,null);E(this,Qs,null);E(this,xc,null);E(this,Si,new AN);E(this,oo,null);E(this,ao,null);E(this,Ac,0);E(this,ya,new Set);E(this,gs,null);E(this,Vi,null);E(this,va,new Set);te(this,"_editorUndoBar",null);E(this,eh,!1);E(this,th,!1);E(this,Sc,!1);E(this,nh,null);E(this,ms,null);E(this,lo,null);E(this,Ec,null);E(this,co,!1);E(this,ys,null);E(this,Gg,new xN);E(this,uo,!1);E(this,ih,!1);E(this,ho,null);E(this,wa,null);E(this,ba,null);E(this,fo,null);E(this,sh,null);E(this,$t,Te.NONE);E(this,Ye,new Set);E(this,Js,null);E(this,po,null);E(this,xa,null);E(this,rh,null);E(this,oh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});E(this,go,[0,0]);E(this,vs,null);E(this,Zs,null);E(this,ah,null);E(this,lh,null);E(this,Ei,null);const T=this._signal=a(this,wc).signal;b(this,Zs,e),b(this,ah,t),b(this,lh,n),b(this,bc,r),b(this,po,o),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:T}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:T}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:T}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:T}),l._on("setpreference",this.onSetPreference.bind(this),{signal:T}),l._on("switchannotationeditorparams",P=>this.updateParams(P.type,P.value),{signal:T}),C(this,se,$S).call(this),C(this,se,XS).call(this),C(this,se,Uv).call(this),b(this,Qs,u.annotationStorage),b(this,nh,u.filterFactory),b(this,xa,h),b(this,Ec,p||null),b(this,eh,g),b(this,th,y),b(this,Sc,v),b(this,sh,x||null),this.viewParameters={realScale:Rr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=S||null,this._supportsPinchToZoom=A!==!1}static get _keyboardManager(){const e=cc.prototype,t=l=>a(l,Zs).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:h}=u;return h!=="text"&&h!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return je(this,"_keyboardManager",new kf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&a(l,Zs).contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&a(l,Zs).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,n,r,o,l,u,h;(e=a(this,Ei))==null||e.resolve(),b(this,Ei,null),(t=a(this,wc))==null||t.abort(),b(this,wc,null),this._signal=null;for(const p of a(this,Zt).values())p.destroy();a(this,Zt).clear(),a(this,Ot).clear(),a(this,va).clear(),(n=a(this,fo))==null||n.clear(),b(this,Yn,null),a(this,Ye).clear(),a(this,Si).destroy(),(r=a(this,bc))==null||r.destroy(),(o=a(this,po))==null||o.destroy(),(l=a(this,ys))==null||l.hide(),b(this,ys,null),(u=a(this,ba))==null||u.destroy(),b(this,ba,null),a(this,ms)&&(clearTimeout(a(this,ms)),b(this,ms,null)),a(this,vs)&&(clearTimeout(a(this,vs)),b(this,vs,null)),(h=this._editorUndoBar)==null||h.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return a(this,sh)}get useNewAltTextFlow(){return a(this,th)}get useNewAltTextWhenAddingImage(){return a(this,Sc)}get hcmFilter(){return je(this,"hcmFilter",a(this,xa)?a(this,nh).addHCMFilter(a(this,xa).foreground,a(this,xa).background):"none")}get direction(){return je(this,"direction",getComputedStyle(a(this,Zs)).direction)}get highlightColors(){return je(this,"highlightColors",a(this,Ec)?new Map(a(this,Ec).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return je(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),b(this,ao,e)}setMainHighlightColorPicker(e){b(this,ba,e)}editAltText(e,t=!1){var n;(n=a(this,bc))==null||n.editAltText(this,e,t)}getSignature(e){var t;(t=a(this,po))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return a(this,po)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":b(this,Sc,t);break}}onPageChanging({pageNumber:e}){b(this,Ac,e-1)}focusMainContainer(){a(this,Zs).focus()}findParent(e,t){for(const n of a(this,Zt).values()){const{x:r,y:o,width:l,height:u}=n.div.getBoundingClientRect();if(e>=r&&e<=r+l&&t>=o&&t<=o+u)return n}return null}disableUserSelect(e=!1){a(this,ah).classList.toggle("noUserSelect",e)}addShouldRescale(e){a(this,va).add(e)}removeShouldRescale(e){a(this,va).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Rr.PDF_TO_CSS_UNITS;for(const n of a(this,va))n.onScaleChanging();(t=a(this,ao))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l}=t,u=t.toString(),p=C(this,se,og).call(this,t).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;t.empty();const y=C(this,se,Hv).call(this,p),v=a(this,$t)===Te.NONE,x=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:g,anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l,text:u}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Te.HIGHLIGHT,x);return}x()}addToAnnotationStorage(e){!e.isEmpty()&&a(this,Qs)&&!a(this,Qs).has(e.id)&&a(this,Qs).setValue(e.id,e)}a11yAlert(e,t=null){const n=a(this,lh);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,a(this,co)&&(b(this,co,!1),C(this,se,ag).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of a(this,Ye))if(t.div.contains(e)){b(this,wa,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!a(this,wa))return;const[e,t]=a(this,wa);b(this,wa,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){C(this,se,Uv).call(this),C(this,se,$v).call(this)}removeEditListeners(){C(this,se,GS).call(this),C(this,se,Vv).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of a(this,Vi))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of a(this,Vi))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=a(this,Yn))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of a(this,Ye)){const o=r.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const l of a(this,Vi))if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Pe(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const h of n){const p=await r.deserialize(h);if(!p)return;o.push(p)}const l=()=>{for(const h of o)C(this,se,Wv).call(this,h);C(this,se,Gv).call(this,o)},u=()=>{for(const h of o)h.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(o){Pe(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),a(this,$t)!==Te.NONE&&!this.isEditorHandlingKeyboard&&cc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,a(this,co)&&(b(this,co,!1),C(this,se,ag).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(C(this,se,VS).call(this),C(this,se,$v).call(this),C(this,se,xn).call(this,{isEditing:a(this,$t)!==Te.NONE,isEmpty:C(this,se,xd).call(this),hasSomethingToUndo:a(this,Si).hasSomethingToUndo(),hasSomethingToRedo:a(this,Si).hasSomethingToRedo(),hasSelectedEditor:!1})):(C(this,se,WS).call(this),C(this,se,Vv).call(this),C(this,se,xn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!a(this,Vi)){b(this,Vi,e);for(const t of a(this,Vi))C(this,se,Xs).call(this,t.defaultPropertiesToUpdate)}}getId(){return a(this,Gg).id}get currentLayer(){return a(this,Zt).get(a(this,Ac))}getLayer(e){return a(this,Zt).get(e)}get currentPageIndex(){return a(this,Ac)}addLayer(e){a(this,Zt).set(e.pageIndex,e),a(this,uo)?e.enable():e.disable()}removeLayer(e){a(this,Zt).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,r=!1){var o,l,u;if(a(this,$t)!==e&&!(a(this,Ei)&&(await a(this,Ei).promise,!a(this,Ei)))){if(b(this,Ei,Promise.withResolvers()),(o=a(this,ao))==null||o.commitOrRemove(),b(this,$t,e),e===Te.NONE){this.setEditingState(!1),C(this,se,YS).call(this),(l=this._editorUndoBar)==null||l.hide(),a(this,Ei).resolve();return}e===Te.SIGNATURE&&await((u=a(this,po))==null?void 0:u.loadSignatures()),this.setEditingState(!0),await C(this,se,qS).call(this),this.unselectAll();for(const h of a(this,Zt).values())h.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),a(this,Ei).resolve();return}for(const h of a(this,Ot).values())h.annotationElementId===t||h.id===t?(this.setSelected(h),r&&h.enterInEditMode()):h.unselect();a(this,Ei).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==a(this,$t)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){var n;if(a(this,Vi)){switch(e){case He.CREATE:this.currentLayer.addNewEditor(t);return;case He.HIGHLIGHT_DEFAULT_COLOR:(n=a(this,ba))==null||n.updateColor(t);break;case He.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(a(this,rh)||b(this,rh,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of a(this,Ye))r.updateParams(e,t);for(const r of a(this,Vi))r.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var o;for(const l of a(this,Ot).values())l.editorType===e&&l.show(t);(((o=a(this,rh))==null?void 0:o.get(He.HIGHLIGHT_SHOW_ALL))??!0)!==t&&C(this,se,Xs).call(this,[[He.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(a(this,ih)!==e){b(this,ih,e);for(const t of a(this,Zt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of a(this,Ot).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return a(this,Ot).get(e)}addEditor(e){a(this,Ot).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(a(this,ms)&&clearTimeout(a(this,ms)),b(this,ms,setTimeout(()=>{this.focusMainContainer(),b(this,ms,null)},0))),a(this,Ot).delete(e.id),e.annotationElementId&&((t=a(this,fo))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!a(this,ya).has(e.annotationElementId))&&((n=a(this,Qs))==null||n.remove(e.id))}addDeletedAnnotationElement(e){a(this,ya).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return a(this,ya).has(e)}removeDeletedAnnotationElement(e){a(this,ya).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){a(this,Yn)!==e&&(b(this,Yn,e),e&&C(this,se,Xs).call(this,e.propertiesToUpdate))}updateUI(e){a(this,se,KS)===e&&C(this,se,Xs).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){C(this,se,Xs).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(a(this,Ye).has(e)){a(this,Ye).delete(e),e.unselect(),C(this,se,xn).call(this,{hasSelectedEditor:this.hasSelection});return}a(this,Ye).add(e),e.select(),C(this,se,Xs).call(this,e.propertiesToUpdate),C(this,se,xn).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=a(this,ao))==null||t.commitOrRemove();for(const n of a(this,Ye))n!==e&&n.unselect();a(this,Ye).clear(),a(this,Ye).add(e),e.select(),C(this,se,Xs).call(this,e.propertiesToUpdate),C(this,se,xn).call(this,{hasSelectedEditor:!0})}isSelected(e){return a(this,Ye).has(e)}get firstSelectedEditor(){return a(this,Ye).values().next().value}unselect(e){e.unselect(),a(this,Ye).delete(e),C(this,se,xn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return a(this,Ye).size!==0}get isEnterHandled(){return a(this,Ye).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;a(this,Si).undo(),C(this,se,xn).call(this,{hasSomethingToUndo:a(this,Si).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:C(this,se,xd).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){a(this,Si).redo(),C(this,se,xn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:a(this,Si).hasSomethingToRedo(),isEmpty:C(this,se,xd).call(this)})}addCommands(e){a(this,Si).add(e),C(this,se,xn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:C(this,se,xd).call(this)})}cleanUndoStack(e){a(this,Si).cleanType(e)}delete(){var o;this.commitOrRemove();const e=(o=this.currentLayer)==null?void 0:o.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...a(this,Ye)],n=()=>{var l;(l=this._editorUndoBar)==null||l.show(r,t.length===1?t[0].editorType:t.length);for(const u of t)u.remove()},r=()=>{for(const l of t)C(this,se,Wv).call(this,l)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=a(this,Yn))==null||e.commitOrRemove()}hasSomethingToControl(){return a(this,Yn)||this.hasSelection}selectAll(){for(const e of a(this,Ye))e.commit();C(this,se,Gv).call(this,a(this,Ot).values())}unselectAll(){var e;if(!(a(this,Yn)&&(a(this,Yn).commitOrRemove(),a(this,$t)!==Te.NONE))&&!((e=a(this,ao))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of a(this,Ye))t.unselect();a(this,Ye).clear(),C(this,se,xn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;a(this,go)[0]+=e,a(this,go)[1]+=t;const[r,o]=a(this,go),l=[...a(this,Ye)],u=1e3;a(this,vs)&&clearTimeout(a(this,vs)),b(this,vs,setTimeout(()=>{b(this,vs,null),a(this,go)[0]=a(this,go)[1]=0,this.addCommands({cmd:()=>{for(const h of l)a(this,Ot).has(h.id)&&(h.translateInPage(r,o),h.translationDone())},undo:()=>{for(const h of l)a(this,Ot).has(h.id)&&(h.translateInPage(-r,-o),h.translationDone())},mustExec:!1})},u));for(const h of l)h.translateInPage(e,t),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,gs,new Map);for(const e of a(this,Ye))a(this,gs).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!a(this,gs))return!1;this.disableUserSelect(!1);const e=a(this,gs);b(this,gs,null);let t=!1;for(const[{x:r,y:o,pageIndex:l},u]of e)u.newX=r,u.newY=o,u.newPageIndex=l,t||(t=r!==u.savedX||o!==u.savedY||l!==u.savedPageIndex);if(!t)return!1;const n=(r,o,l,u)=>{if(a(this,Ot).has(r.id)){const h=a(this,Zt).get(u);h?r._setParentAndPosition(h,o,l):(r.pageIndex=u,r.x=o,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:l,newPageIndex:u}]of e)n(r,o,l,u)},undo:()=>{for(const[r,{savedX:o,savedY:l,savedPageIndex:u}]of e)n(r,o,l,u)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(a(this,gs))for(const n of a(this,gs).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||a(this,Ye).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return a(this,Yn)===e}getActive(){return a(this,Yn)}getMode(){return a(this,$t)}get imageManager(){return je(this,"imageManager",new zv)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let p=0,g=t.rangeCount;p<g;p++)if(!e.contains(t.getRangeAt(p).commonAncestorContainer))return null;const{x:n,y:r,width:o,height:l}=e.getBoundingClientRect();let u;switch(e.getAttribute("data-main-rotation")){case"90":u=(p,g,y,v)=>({x:(g-r)/l,y:1-(p+y-n)/o,width:v/l,height:y/o});break;case"180":u=(p,g,y,v)=>({x:1-(p+y-n)/o,y:1-(g+v-r)/l,width:y/o,height:v/l});break;case"270":u=(p,g,y,v)=>({x:1-(g+v-r)/l,y:(p-n)/o,width:v/l,height:y/o});break;default:u=(p,g,y,v)=>({x:(p-n)/o,y:(g-r)/l,width:y/o,height:v/l});break}const h=[];for(let p=0,g=t.rangeCount;p<g;p++){const y=t.getRangeAt(p);if(!y.collapsed)for(const{x:v,y:x,width:S,height:A}of y.getClientRects())S===0||A===0||h.push(u(v,x,S,A))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:e,id:t}){(a(this,xc)||b(this,xc,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=a(this,xc))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=a(this,xc))==null?void 0:r.get(e.data.id);if(!t)return;const n=a(this,Qs).getRawValue(t);n&&(a(this,$t)===Te.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var o;const r=(o=a(this,fo))==null?void 0:o.get(e);r&&(r.setCanvas(t,n),a(this,fo).delete(e))}addMissingCanvas(e,t){(a(this,fo)||b(this,fo,new Map)).set(e,t)}};wc=new WeakMap,Yn=new WeakMap,Ot=new WeakMap,Zt=new WeakMap,bc=new WeakMap,Qs=new WeakMap,xc=new WeakMap,Si=new WeakMap,oo=new WeakMap,ao=new WeakMap,Ac=new WeakMap,ya=new WeakMap,gs=new WeakMap,Vi=new WeakMap,va=new WeakMap,eh=new WeakMap,th=new WeakMap,Sc=new WeakMap,nh=new WeakMap,ms=new WeakMap,lo=new WeakMap,Ec=new WeakMap,co=new WeakMap,ys=new WeakMap,Gg=new WeakMap,uo=new WeakMap,ih=new WeakMap,ho=new WeakMap,wa=new WeakMap,ba=new WeakMap,fo=new WeakMap,sh=new WeakMap,$t=new WeakMap,Ye=new WeakMap,Js=new WeakMap,po=new WeakMap,xa=new WeakMap,rh=new WeakMap,oh=new WeakMap,go=new WeakMap,vs=new WeakMap,Zs=new WeakMap,ah=new WeakMap,lh=new WeakMap,Ei=new WeakMap,se=new WeakSet,og=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Hv=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of a(this,Zt).values())if(n.hasTextLayer(e))return n;return null},HS=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=C(this,se,og).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(a(this,ys)||b(this,ys,new bN(this)),a(this,ys).show(n,r,this.direction==="ltr"))},US=function(){var o,l,u;const e=document.getSelection();if(!e||e.isCollapsed){a(this,Js)&&((o=a(this,ys))==null||o.hide(),b(this,Js,null),C(this,se,xn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===a(this,Js))return;const r=C(this,se,og).call(this,e).closest(".textLayer");if(!r){a(this,Js)&&((l=a(this,ys))==null||l.hide(),b(this,Js,null),C(this,se,xn).call(this,{hasSelectedText:!1}));return}if((u=a(this,ys))==null||u.hide(),b(this,Js,t),C(this,se,xn).call(this,{hasSelectedText:!0}),!(a(this,$t)!==Te.HIGHLIGHT&&a(this,$t)!==Te.NONE)&&(a(this,$t)===Te.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,co,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=a(this,$t)===Te.HIGHLIGHT?C(this,se,Hv).call(this,r):null;h==null||h.toggleDrawing();const p=new AbortController,g=this.combinedSignal(p),y=v=>{v.type==="pointerup"&&v.button!==0||(p.abort(),h==null||h.toggleDrawing(!0),v.type==="pointerup"&&C(this,se,ag).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:g}),window.addEventListener("blur",y,{signal:g})}},ag=function(e=""){a(this,$t)===Te.HIGHLIGHT?this.highlightSelection(e):a(this,eh)&&C(this,se,HS).call(this)},$S=function(){document.addEventListener("selectionchange",C(this,se,US).bind(this),{signal:this._signal})},VS=function(){if(a(this,lo))return;b(this,lo,new AbortController);const e=this.combinedSignal(a(this,lo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},WS=function(){var e;(e=a(this,lo))==null||e.abort(),b(this,lo,null)},Uv=function(){if(a(this,ho))return;b(this,ho,new AbortController);const e=this.combinedSignal(a(this,ho));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},GS=function(){var e;(e=a(this,ho))==null||e.abort(),b(this,ho,null)},$v=function(){if(a(this,oo))return;b(this,oo,new AbortController);const e=this.combinedSignal(a(this,oo));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Vv=function(){var e;(e=a(this,oo))==null||e.abort(),b(this,oo,null)},XS=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},xn=function(e){Object.entries(e).some(([n,r])=>a(this,oh)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(a(this,oh),e)}),a(this,$t)===Te.HIGHLIGHT&&e.hasSelectedEditor===!1&&C(this,se,Xs).call(this,[[He.HIGHLIGHT_FREE,!0]]))},Xs=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},qS=async function(){if(!a(this,uo)){b(this,uo,!0);const e=[];for(const t of a(this,Zt).values())e.push(t.enable());await Promise.all(e);for(const t of a(this,Ot).values())t.enable()}},YS=function(){if(this.unselectAll(),a(this,uo)){b(this,uo,!1);for(const e of a(this,Zt).values())e.disable();for(const e of a(this,Ot).values())e.disable()}},Wv=function(e){const t=a(this,Zt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},KS=function(){let e=null;for(e of a(this,Ye));return e},xd=function(){if(a(this,Ot).size===0)return!0;if(a(this,Ot).size===1)for(const e of a(this,Ot).values())return e.isEmpty();return!1},Gv=function(e){for(const t of a(this,Ye))t.unselect();a(this,Ye).clear();for(const t of e)t.isEmpty()||(a(this,Ye).add(t),t.select());C(this,se,xn).call(this,{hasSelectedEditor:this.hasSelection})},te(cc,"TRANSLATE_SMALL",1),te(cc,"TRANSLATE_BIG",10);let $o=cc;var Vt,ws,Wi,_c,bs,Kn,Cc,xs,Bn,er,Aa,As,mo,ns,Ad,lg;const An=class An{constructor(e){E(this,ns);E(this,Vt,null);E(this,ws,!1);E(this,Wi,null);E(this,_c,null);E(this,bs,null);E(this,Kn,null);E(this,Cc,!1);E(this,xs,null);E(this,Bn,null);E(this,er,null);E(this,Aa,null);E(this,As,!1);b(this,Bn,e),b(this,As,e._uiManager.useNewAltTextFlow),a(An,mo)||b(An,mo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){An._l10n??(An._l10n=e)}async render(){const e=b(this,Wi,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=b(this,_c,document.createElement("span"));e.append(t),a(this,As)?(e.classList.add("new"),e.setAttribute("data-l10n-id",a(An,mo).missing),t.setAttribute("data-l10n-id",a(An,mo)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=a(this,Bn)._uiManager._signal;e.addEventListener("contextmenu",Li,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),a(this,Bn)._uiManager.editAltText(a(this,Bn)),a(this,As)&&a(this,Bn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:a(this,ns,Ad)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(b(this,Cc,!0),r(o))},{signal:n}),await C(this,ns,lg).call(this),e}finish(){a(this,Wi)&&(a(this,Wi).focus({focusVisible:a(this,Cc)}),b(this,Cc,!1))}isEmpty(){return a(this,As)?a(this,Vt)===null:!a(this,Vt)&&!a(this,ws)}hasData(){return a(this,As)?a(this,Vt)!==null||!!a(this,er):this.isEmpty()}get guessedText(){return a(this,er)}async setGuessedText(e){a(this,Vt)===null&&(b(this,er,e),b(this,Aa,await An._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),C(this,ns,lg).call(this))}toggleAltTextBadge(e=!1){var t;if(!a(this,As)||a(this,Vt)){(t=a(this,xs))==null||t.remove(),b(this,xs,null);return}if(!a(this,xs)){const n=b(this,xs,document.createElement("div"));n.className="noAltTextBadge",a(this,Bn).div.append(n)}a(this,xs).classList.toggle("hidden",!e)}serialize(e){let t=a(this,Vt);return!e&&a(this,er)===t&&(t=a(this,Aa)),{altText:t,decorative:a(this,ws),guessedText:a(this,er),textWithDisclaimer:a(this,Aa)}}get data(){return{altText:a(this,Vt),decorative:a(this,ws)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:o=!1}){n&&(b(this,er,n),b(this,Aa,r)),!(a(this,Vt)===e&&a(this,ws)===t)&&(o||(b(this,Vt,e),b(this,ws,t)),C(this,ns,lg).call(this))}toggle(e=!1){a(this,Wi)&&(!e&&a(this,Kn)&&(clearTimeout(a(this,Kn)),b(this,Kn,null)),a(this,Wi).disabled=!e)}shown(){a(this,Bn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:a(this,ns,Ad)}})}destroy(){var e,t;(e=a(this,Wi))==null||e.remove(),b(this,Wi,null),b(this,_c,null),b(this,bs,null),(t=a(this,xs))==null||t.remove(),b(this,xs,null)}};Vt=new WeakMap,ws=new WeakMap,Wi=new WeakMap,_c=new WeakMap,bs=new WeakMap,Kn=new WeakMap,Cc=new WeakMap,xs=new WeakMap,Bn=new WeakMap,er=new WeakMap,Aa=new WeakMap,As=new WeakMap,mo=new WeakMap,ns=new WeakSet,Ad=function(){return a(this,Vt)&&"added"||a(this,Vt)===null&&this.guessedText&&"review"||"missing"},lg=async function(){var r,o,l;const e=a(this,Wi);if(!e)return;if(a(this,As)){if(e.classList.toggle("done",!!a(this,Vt)),e.setAttribute("data-l10n-id",a(An,mo)[a(this,ns,Ad)]),(r=a(this,_c))==null||r.setAttribute("data-l10n-id",a(An,mo)[`${a(this,ns,Ad)}-label`]),!a(this,Vt)){(o=a(this,bs))==null||o.remove();return}}else{if(!a(this,Vt)&&!a(this,ws)){e.classList.remove("done"),(l=a(this,bs))==null||l.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=a(this,bs);if(!t){b(this,bs,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${a(this,Bn).id}`;const u=100,h=a(this,Bn)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(a(this,Kn)),b(this,Kn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{b(this,Kn,setTimeout(()=>{b(this,Kn,null),a(this,bs).classList.add("show"),a(this,Bn)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:h}),e.addEventListener("mouseleave",()=>{var p;a(this,Kn)&&(clearTimeout(a(this,Kn)),b(this,Kn,null)),(p=a(this,bs))==null||p.classList.remove("show")},{signal:h})}a(this,ws)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=a(this,Vt)),t.parentNode||e.append(t);const n=a(this,Bn).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},E(An,mo,null),te(An,"_l10n",null);let Fg=An;var kc,Sa,ch,uh,dh,hh,fh,tr,Ea,nr,_a,ir,Wo,QS,JS,ZS;const bw=class bw{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:o=null,onPinchEnd:l=null,signal:u}){E(this,Wo);E(this,kc);E(this,Sa,!1);E(this,ch,null);E(this,uh);E(this,dh);E(this,hh);E(this,fh);E(this,tr,null);E(this,Ea);E(this,nr,null);E(this,_a);E(this,ir,null);b(this,kc,e),b(this,ch,n),b(this,uh,t),b(this,dh,r),b(this,hh,o),b(this,fh,l),b(this,_a,new AbortController),b(this,Ea,AbortSignal.any([u,a(this,_a).signal])),e.addEventListener("touchstart",C(this,Wo,QS).bind(this),{passive:!1,signal:a(this,Ea)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/is.pixelRatio}destroy(){var e,t;(e=a(this,_a))==null||e.abort(),b(this,_a,null),(t=a(this,tr))==null||t.abort(),b(this,tr,null)}};kc=new WeakMap,Sa=new WeakMap,ch=new WeakMap,uh=new WeakMap,dh=new WeakMap,hh=new WeakMap,fh=new WeakMap,tr=new WeakMap,Ea=new WeakMap,nr=new WeakMap,_a=new WeakMap,ir=new WeakMap,Wo=new WeakSet,QS=function(e){var r,o,l;if((r=a(this,uh))!=null&&r.call(this))return;if(e.touches.length===1){if(a(this,tr))return;const u=b(this,tr,new AbortController),h=AbortSignal.any([a(this,Ea),u.signal]),p=a(this,kc),g={capture:!0,signal:h,passive:!1},y=v=>{var x;v.pointerType==="touch"&&((x=a(this,tr))==null||x.abort(),b(this,tr,null))};p.addEventListener("pointerdown",v=>{v.pointerType==="touch"&&(Tt(v),y(v))},g),p.addEventListener("pointerup",y,g),p.addEventListener("pointercancel",y,g);return}if(!a(this,ir)){b(this,ir,new AbortController);const u=AbortSignal.any([a(this,Ea),a(this,ir).signal]),h=a(this,kc),p={signal:u,capture:!1,passive:!1};h.addEventListener("touchmove",C(this,Wo,JS).bind(this),p);const g=C(this,Wo,ZS).bind(this);h.addEventListener("touchend",g,p),h.addEventListener("touchcancel",g,p),p.capture=!0,h.addEventListener("pointerdown",Tt,p),h.addEventListener("pointermove",Tt,p),h.addEventListener("pointercancel",Tt,p),h.addEventListener("pointerup",Tt,p),(o=a(this,dh))==null||o.call(this)}if(Tt(e),e.touches.length!==2||(l=a(this,ch))!=null&&l.call(this)){b(this,nr,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),b(this,nr,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},JS=function(e){var M;if(!a(this,nr)||e.touches.length!==2)return;Tt(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:r,screenY:o}=t,{screenX:l,screenY:u}=n,h=a(this,nr),{touch0X:p,touch0Y:g,touch1X:y,touch1Y:v}=h,x=y-p,S=v-g,A=l-r,T=u-o,P=Math.hypot(A,T)||1,R=Math.hypot(x,S)||1;if(!a(this,Sa)&&Math.abs(R-P)<=bw.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=r,h.touch0Y=o,h.touch1X=l,h.touch1Y=u,!a(this,Sa)){b(this,Sa,!0);return}const L=[(r+l)/2,(o+u)/2];(M=a(this,hh))==null||M.call(this,L,R,P)},ZS=function(e){var t;e.touches.length>=2||(a(this,ir)&&(a(this,ir).abort(),b(this,ir,null),(t=a(this,fh))==null||t.call(this)),a(this,nr)&&(Tt(e),b(this,nr,null),b(this,Sa,!1)))};let $d=bw;var Ca,Gi,ut,Tc,yo,ph,ka,en,Ta,sr,vo,gh,Pa,Qn,mh,Ra,rr,Ss,Pc,Rc,_i,Na,yh,Xg,Ee,Xv,vh,qv,cg,eE,tE,Yv,ug,Kv,nE,iE,sE,Qv,rE,Jv,oE,aE,lE,Zv,Sd;const Ie=class Ie{constructor(e){E(this,Ee);E(this,Ca,null);E(this,Gi,null);E(this,ut,null);E(this,Tc,!1);E(this,yo,null);E(this,ph,"");E(this,ka,!1);E(this,en,null);E(this,Ta,null);E(this,sr,null);E(this,vo,null);E(this,gh,"");E(this,Pa,!1);E(this,Qn,null);E(this,mh,!1);E(this,Ra,!1);E(this,rr,!1);E(this,Ss,null);E(this,Pc,0);E(this,Rc,0);E(this,_i,null);E(this,Na,null);te(this,"isSelected",!1);te(this,"_isCopy",!1);te(this,"_editToolbar",null);te(this,"_initialOptions",Object.create(null));te(this,"_initialData",null);te(this,"_isVisible",!0);te(this,"_uiManager",null);te(this,"_focusEventsAllowed",!0);E(this,yh,!1);E(this,Xg,Ie._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[o,l];const[u,h]=this.parentDimensions;this.x=e.x/u,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ie.prototype._resizeWithKeyboard,t=$o.TRANSLATE_SMALL,n=$o.TRANSLATE_BIG;return je(this,"_resizerKeyboardManager",new kf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ie.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return je(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new SN({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ie._l10n??(Ie._l10n=e),Ie._l10nResizer||(Ie._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ie._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ie._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ze("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return a(this,yh)}set _isDraggable(e){var t;b(this,yh,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=a(this,Xg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):C(this,Ee,Sd).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(a(this,Pa)?b(this,Pa,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[o,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/o,this.y=(t+r)/l,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this._onTranslated()}translate(e,t){C(this,Ee,Xv).call(this,this.parentDimensions,e,t)}translateInPage(e,t){a(this,Qn)||b(this,Qn,[this.x,this.y,this.width,this.height]),C(this,Ee,Xv).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){a(this,Qn)||b(this,Qn,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[r,o]}=this;if(this.x+=e/r,this.y+=t/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[h,p]=this.getBaseTranslation();l+=h,u+=p;const{style:g}=n;g.left=`${(100*l).toFixed(2)}%`,g.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!a(this,Qn)&&(a(this,Qn)[0]!==this.x||a(this,Qn)[1]!==this.y)}get _hasBeenResized(){return!!a(this,Qn)&&(a(this,Qn)[2]!==this.width||a(this,Qn)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ie,r=n/e,o=n/t;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,r]}=this;let{x:o,y:l,width:u,height:h}=this;if(u*=n,h*=r,o*=n,l*=r,this._mustFixPosition)switch(e){case 0:o=mn(o,0,n-u),l=mn(l,0,r-h);break;case 90:o=mn(o,0,n-h),l=mn(l,u,r);break;case 180:o=mn(o,u,n),l=mn(l,h,r);break;case 270:o=mn(o,h,n),l=mn(l,0,r-u);break}this.x=o/=n,this.y=l/=r;const[p,g]=this.getBaseTranslation();o+=p,l+=g,t.left=`${(100*o).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return C(n=Ie,vh,qv).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return C(n=Ie,vh,qv).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions,{style:o}=this.div;o.width=`${(100*e/n).toFixed(2)}%`,a(this,ka)||(o.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),o=!a(this,ka)&&t.endsWith("%");if(r&&o)return;const[l,u]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!a(this,ka)&&!o&&(e.height=`${(100*parseFloat(t)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=a(this,ut))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||a(this,Ra))return this._editToolbar;this._editToolbar=new jv(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=a(this,ut))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return a(this,ut)||(Fg.initialize(Ie._l10n),b(this,ut,new Fg(this)),a(this,Ca)&&(a(this,ut).data=a(this,Ca),b(this,Ca,null))),a(this,ut)}get altTextData(){var e;return(e=a(this,ut))==null?void 0:e.data}set altTextData(e){a(this,ut)&&(a(this,ut).data=e)}get guessedAltText(){var e;return(e=a(this,ut))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=a(this,ut))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=a(this,ut))==null?void 0:t.serialize(e)}hasAltText(){return!!a(this,ut)&&!a(this,ut).isEmpty()}hasAltTextData(){var e;return((e=a(this,ut))==null?void 0:e.hasData())??!1}render(){var l;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=a(this,Tc)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),C(this,Ee,Jv).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[r,o]=this.getInitialTranslation();return this.translate(r,o),zS(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(a(this,Na)||b(this,Na,new $d({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:C(this,Ee,nE).bind(this),onPinching:C(this,Ee,iE).bind(this),onPinchEnd:C(this,Ee,sE).bind(this),signal:this._uiManager._signal}))),(l=this._uiManager._editorUndoBar)==null||l.hide(),e}pointerdown(e){const{isMac:t}=Kt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(b(this,Pa,!0),this._isDraggable){C(this,Ee,rE).call(this,e);return}C(this,Ee,Qv).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){a(this,Ss)&&clearTimeout(a(this,Ss)),b(this,Ss,setTimeout(()=>{var e;b(this,Ss,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const r=this.parentScale,[o,l]=this.pageDimensions,[u,h]=this.pageTranslation,p=e/r,g=t/r,y=this.x*o,v=this.y*l,x=this.width*o,S=this.height*l;switch(n){case 0:return[y+p+u,l-v-g-S+h,y+p+x+u,l-v-g+h];case 90:return[y+g+u,l-v+p+h,y+g+S+u,l-v+p+x+h];case 180:return[y-p-x+u,l-v+g+h,y-p+u,l-v+g+S+h];case 270:return[y-g-S+u,l-v-p-x+h,y-g+u,l-v-p+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,o,l]=e,u=o-n,h=l-r;switch(this.rotation){case 0:return[n,t-l,u,h];case 90:return[n,t-r,h,u];case 180:return[o,t-r,u,h];case 270:return[o,t-l,h,u];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),b(this,Ra,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),b(this,Ra,!1),!0):!1}isInEditMode(){return a(this,Ra)}shouldGetKeyboardEvents(){return a(this,rr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return t<l&&r>0&&e<o&&n>0}rebuild(){C(this,Ee,Jv).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Ze("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});r.rotation=e.rotation,b(r,Ca,e.accessibilityData),r._isCopy=e.isCopy||!1;const[o,l]=r.pageDimensions,[u,h,p,g]=r.getRectInCurrentCoords(e.rect,l);return r.x=u/o,r.y=h/l,r.width=p/o,r.height=g/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=a(this,vo))==null||e.abort(),b(this,vo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),a(this,Ss)&&(clearTimeout(a(this,Ss)),b(this,Ss,null)),C(this,Ee,Sd).call(this),this.removeEditToolbar(),a(this,_i)){for(const n of a(this,_i).values())clearTimeout(n);b(this,_i,null)}this.parent=null,(t=a(this,Na))==null||t.destroy(),b(this,Na,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(C(this,Ee,eE).call(this),a(this,en).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),b(this,sr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=a(this,en).children;if(!a(this,Gi)){b(this,Gi,Array.from(t));const l=C(this,Ee,oE).bind(this),u=C(this,Ee,aE).bind(this),h=this._uiManager._signal;for(const p of a(this,Gi)){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",l,{signal:h}),p.addEventListener("blur",u,{signal:h}),p.addEventListener("focus",C(this,Ee,lE).bind(this,g),{signal:h}),p.setAttribute("data-l10n-id",Ie._l10nResizer[g])}}const n=a(this,Gi)[0];let r=0;for(const l of t){if(l===n)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(a(this,Gi).length/4);if(o!==r){if(o<r)for(let u=0;u<r-o;u++)a(this,en).append(a(this,en).firstChild);else if(o>r)for(let u=0;u<o-r;u++)a(this,en).firstChild.before(a(this,en).lastChild);let l=0;for(const u of t){const p=a(this,Gi)[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",Ie._l10nResizer[p])}}C(this,Ee,Zv).call(this,0),b(this,rr,!0),a(this,en).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){a(this,rr)&&C(this,Ee,Kv).call(this,a(this,gh),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){C(this,Ee,Sd).call(this),this.div.focus()}select(){var e,t,n;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(n=a(this,ut))==null||n.toggleAltTextBadge(!1)}}unselect(){var e,t,n,r,o;this.isSelected&&(this.isSelected=!1,(e=a(this,en))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=a(this,ut))==null||o.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return a(this,mh)}set isEditing(e){b(this,mh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){b(this,ka,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){a(this,_i)||b(this,_i,new Map);const{action:n}=e;let r=a(this,_i).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),a(this,_i).delete(n),a(this,_i).size===0&&b(this,_i,null)},Ie._telemetryTimeout),a(this,_i).set(n,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),b(this,Tc,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,Tc,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Ca=new WeakMap,Gi=new WeakMap,ut=new WeakMap,Tc=new WeakMap,yo=new WeakMap,ph=new WeakMap,ka=new WeakMap,en=new WeakMap,Ta=new WeakMap,sr=new WeakMap,vo=new WeakMap,gh=new WeakMap,Pa=new WeakMap,Qn=new WeakMap,mh=new WeakMap,Ra=new WeakMap,rr=new WeakMap,Ss=new WeakMap,Pc=new WeakMap,Rc=new WeakMap,_i=new WeakMap,Na=new WeakMap,yh=new WeakMap,Xg=new WeakMap,Ee=new WeakSet,Xv=function([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},vh=new WeakSet,qv=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},cg=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},eE=function(){if(a(this,en))return;b(this,en,document.createElement("div")),a(this,en).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");a(this,en).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",C(this,Ee,tE).bind(this,n),{signal:t}),r.addEventListener("contextmenu",Li,{signal:t}),r.tabIndex=-1}this.div.prepend(a(this,en))},tE=function(e,t){var g;t.preventDefault();const{isMac:n}=Kt.platform;if(t.button!==0||t.ctrlKey&&n)return;(g=a(this,ut))==null||g.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,b(this,Ta,[t.screenX,t.screenY]);const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",C(this,Ee,Kv).bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Tt,{passive:!1,signal:l}),window.addEventListener("contextmenu",Li,{signal:l}),b(this,sr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var y;o.abort(),this.parent.togglePointerEvents(!0),(y=a(this,ut))==null||y.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=u,this.div.style.cursor=h,C(this,Ee,ug).call(this)};window.addEventListener("pointerup",p,{signal:l}),window.addEventListener("blur",p,{signal:l})},Yv=function(e,t,n,r){this.width=n,this.height=r,this.x=e,this.y=t;const[o,l]=this.parentDimensions;this.setDims(o*n,l*r),this.fixAndSetPosition(),this._onResized()},ug=function(){if(!a(this,sr))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=a(this,sr);b(this,sr,null);const o=this.x,l=this.y,u=this.width,h=this.height;o===e&&l===t&&u===n&&h===r||this.addCommands({cmd:C(this,Ee,Yv).bind(this,o,l,u,h),undo:C(this,Ee,Yv).bind(this,e,t,n,r),mustExec:!0})},Kv=function(e,t){const[n,r]=this.parentDimensions,o=this.x,l=this.y,u=this.width,h=this.height,p=Ie.MIN_SIZE/n,g=Ie.MIN_SIZE/r,y=C(this,Ee,cg).call(this,this.rotation),v=(Q,q)=>[y[0]*Q+y[2]*q,y[1]*Q+y[3]*q],x=C(this,Ee,cg).call(this,360-this.rotation),S=(Q,q)=>[x[0]*Q+x[2]*q,x[1]*Q+x[3]*q];let A,T,P=!1,R=!1;switch(e){case"topLeft":P=!0,A=(Q,q)=>[0,0],T=(Q,q)=>[Q,q];break;case"topMiddle":A=(Q,q)=>[Q/2,0],T=(Q,q)=>[Q/2,q];break;case"topRight":P=!0,A=(Q,q)=>[Q,0],T=(Q,q)=>[0,q];break;case"middleRight":R=!0,A=(Q,q)=>[Q,q/2],T=(Q,q)=>[0,q/2];break;case"bottomRight":P=!0,A=(Q,q)=>[Q,q],T=(Q,q)=>[0,0];break;case"bottomMiddle":A=(Q,q)=>[Q/2,q],T=(Q,q)=>[Q/2,0];break;case"bottomLeft":P=!0,A=(Q,q)=>[0,q],T=(Q,q)=>[Q,0];break;case"middleLeft":R=!0,A=(Q,q)=>[0,q/2],T=(Q,q)=>[Q,q/2];break}const L=A(u,h),M=T(u,h);let I=v(...M);const B=Ie._round(o+I[0]),O=Ie._round(l+I[1]);let V=1,G=1,K,ee;if(t.fromKeyboard)({deltaX:K,deltaY:ee}=t);else{const{screenX:Q,screenY:q}=t,[J,ae]=a(this,Ta);[K,ee]=this.screenToPageTranslation(Q-J,q-ae),a(this,Ta)[0]=Q,a(this,Ta)[1]=q}if([K,ee]=S(K/n,ee/r),P){const Q=Math.hypot(u,h);V=G=Math.max(Math.min(Math.hypot(M[0]-L[0]-K,M[1]-L[1]-ee)/Q,1/u,1/h),p/u,g/h)}else R?V=mn(Math.abs(M[0]-L[0]-K),p,1)/u:G=mn(Math.abs(M[1]-L[1]-ee),g,1)/h;const re=Ie._round(u*V),ye=Ie._round(h*G);I=v(...T(re,ye));const oe=B-I[0],Re=O-I[1];a(this,Qn)||b(this,Qn,[this.x,this.y,this.width,this.height]),this.width=re,this.height=ye,this.x=oe,this.y=Re,this.setDims(n*re,r*ye),this.fixAndSetPosition(),this._onResizing()},nE=function(){var e;b(this,sr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=a(this,ut))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},iE=function(e,t,n){let o=.7*(n/t)+1-.7;if(o===1)return;const l=C(this,Ee,cg).call(this,this.rotation),u=(B,O)=>[l[0]*B+l[2]*O,l[1]*B+l[3]*O],[h,p]=this.parentDimensions,g=this.x,y=this.y,v=this.width,x=this.height,S=Ie.MIN_SIZE/h,A=Ie.MIN_SIZE/p;o=Math.max(Math.min(o,1/v,1/x),S/v,A/x);const T=Ie._round(v*o),P=Ie._round(x*o);if(T===v&&P===x)return;a(this,Qn)||b(this,Qn,[g,y,v,x]);const R=u(v/2,x/2),L=Ie._round(g+R[0]),M=Ie._round(y+R[1]),I=u(T/2,P/2);this.x=L-I[0],this.y=M-I[1],this.width=T,this.height=P,this.setDims(h*T,p*P),this.fixAndSetPosition(),this._onResizing()},sE=function(){var e;(e=a(this,ut))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),C(this,Ee,ug).call(this)},Qv=function(e){const{isMac:t}=Kt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},rE=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:o},u=p=>{r.abort(),b(this,yo,null),b(this,Pa,!1),this._uiManager.endDragSession()||C(this,Ee,Qv).call(this,p),n&&this._onStopDragging()};t&&(b(this,Pc,e.clientX),b(this,Rc,e.clientY),b(this,yo,e.pointerId),b(this,ph,e.pointerType),window.addEventListener("pointermove",p=>{n||(n=!0,this._onStartDragging());const{clientX:g,clientY:y,pointerId:v}=p;if(v!==a(this,yo)){Tt(p);return}const[x,S]=this.screenToPageTranslation(g-a(this,Pc),y-a(this,Rc));b(this,Pc,g),b(this,Rc,y),this._uiManager.dragSelectedEditors(x,S)},l),window.addEventListener("touchmove",Tt,l),window.addEventListener("pointerdown",p=>{p.pointerType===a(this,ph)&&(a(this,Na)||p.isPrimary)&&u(p),Tt(p)},l));const h=p=>{if(!a(this,yo)||a(this,yo)===p.pointerId){u(p);return}Tt(p)};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})},Jv=function(){if(a(this,vo)||!this.div)return;b(this,vo,new AbortController);const e=this._uiManager.combinedSignal(a(this,vo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},oE=function(e){Ie._resizerKeyboardManager.exec(this,e)},aE=function(e){var t;a(this,rr)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==a(this,en)&&C(this,Ee,Sd).call(this)},lE=function(e){b(this,gh,a(this,rr)?e:"")},Zv=function(e){if(a(this,Gi))for(const t of a(this,Gi))t.tabIndex=e},Sd=function(){b(this,rr,!1),C(this,Ee,Zv).call(this,-1),C(this,Ee,ug).call(this)},E(Ie,vh),te(Ie,"_l10n",null),te(Ie,"_l10nResizer",null),te(Ie,"_borderLineWidth",-1),te(Ie,"_colorManager",new Bv),te(Ie,"_zIndex",1),te(Ie,"_telemetryTimeout",1e3);let st=Ie;class SN extends st{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const BA=3285377520,xi=4294901760,fs=65535;class cE{constructor(e){this.h1=e?e&4294967295:BA,this.h2=e?e&4294967295:BA}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let A=0,T=e.length;A<T;A++){const P=e.charCodeAt(A);P<=255?t[n++]=P:(t[n++]=P>>>8,t[n++]=P&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,o=n-r*4,l=new Uint32Array(t.buffer,0,r);let u=0,h=0,p=this.h1,g=this.h2;const y=3432918353,v=461845907,x=y&fs,S=v&fs;for(let A=0;A<r;A++)A&1?(u=l[A],u=u*y&xi|u*x&fs,u=u<<15|u>>>17,u=u*v&xi|u*S&fs,p^=u,p=p<<13|p>>>19,p=p*5+3864292196):(h=l[A],h=h*y&xi|h*x&fs,h=h<<15|h>>>17,h=h*v&xi|h*S&fs,g^=h,g=g<<13|g>>>19,g=g*5+3864292196);switch(u=0,o){case 3:u^=t[r*4+2]<<16;case 2:u^=t[r*4+1]<<8;case 1:u^=t[r*4],u=u*y&xi|u*x&fs,u=u<<15|u>>>17,u=u*v&xi|u*S&fs,r&1?p^=u:g^=u}this.h1=p,this.h2=g}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&xi|e*36045&fs,t=t*4283543511&xi|((t<<16|e>>>16)*2950163797&xi)>>>16,e^=t>>>1,e=e*444984403&xi|e*60499&fs,t=t*3301882366&xi|((t<<16|e>>>16)*3120437893&xi)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const e0=Object.freeze({map:null,hash:"",transfer:void 0});var La,Ma,tn,qg,uE;class lw{constructor(){E(this,qg);E(this,La,!1);E(this,Ma,null);E(this,tn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=a(this,tn).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return a(this,tn).get(e)}remove(e){if(a(this,tn).delete(e),a(this,tn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of a(this,tn).values())if(t instanceof st)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=a(this,tn).get(e);let r=!1;if(n!==void 0)for(const[o,l]of Object.entries(t))n[o]!==l&&(r=!0,n[o]=l);else r=!0,a(this,tn).set(e,t);r&&C(this,qg,uE).call(this),t instanceof st&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return a(this,tn).has(e)}get size(){return a(this,tn).size}resetModified(){a(this,La)&&(b(this,La,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new dE(this)}get serializable(){if(a(this,tn).size===0)return e0;const e=new Map,t=new cE,n=[],r=Object.create(null);let o=!1;for(const[l,u]of a(this,tn)){const h=u instanceof st?u.serialize(!1,r):u;h&&(e.set(l,h),t.update(`${l}:${JSON.stringify(h)}`),o||(o=!!h.bitmap))}if(o)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:e0}get editorStats(){let e=null;const t=new Map;for(const n of a(this,tn).values()){if(!(n instanceof st))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:o}=r;t.has(o)||t.set(o,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,h]of Object.entries(r)){if(u==="type")continue;let p=l.get(u);p||(p=new Map,l.set(u,p));const g=p.get(h)??0;p.set(h,g+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){b(this,Ma,null)}get modifiedIds(){if(a(this,Ma))return a(this,Ma);const e=[];for(const t of a(this,tn).values())!(t instanceof st)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return b(this,Ma,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return a(this,tn).entries()}}La=new WeakMap,Ma=new WeakMap,tn=new WeakMap,qg=new WeakSet,uE=function(){a(this,La)||(b(this,La,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var wh;class dE extends lw{constructor(t){super();E(this,wh);const{map:n,hash:r,transfer:o}=t.serializable,l=structuredClone(n,o?{transfer:o}:null);b(this,wh,{map:l,hash:r,transfer:o})}get print(){Ze("Should not call PrintAnnotationStorage.print")}get serializable(){return a(this,wh)}get modifiedIds(){return je(this,"modifiedIds",{ids:new Set,hash:""})}}wh=new WeakMap;var Nc;class EN{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){E(this,Nc,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),a(this,Nc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||a(this,Nc).has(e.loadedName))){if(Lt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:o,style:l}=e,u=new FontFace(r,o,l);this.addNativeFontFace(u);try{await u.load(),a(this,Nc).add(r),n==null||n(e)}catch{Pe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Ze("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Pe(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return je(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return je(this,"isSyncFontLoadingSupported",Cn||Kt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Lt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return je(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(M,I){return M.charCodeAt(I)<<24|M.charCodeAt(I+1)<<16|M.charCodeAt(I+2)<<8|M.charCodeAt(I+3)&255}function r(M,I,B,O){const V=M.substring(0,I),G=M.substring(I+B);return V+O+G}let o,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const h=u.getContext("2d");let p=0;function g(M,I){if(++p>30){Pe("Load test font never loaded."),I();return}if(h.font="30px "+M,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){I();return}setTimeout(g.bind(null,M,I))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,y.length,y);const S=16,A=1482184792;let T=n(v,S);for(o=0,l=y.length-3;o<l;o+=4)T=T-A+n(y,o)|0;o<y.length&&(T=T-A+n(y+"XXX",o)|0),v=r(v,S,4,hN(T));const P=`url(data:font/opentype;base64,${btoa(v)});`,R=`@font-face {font-family:"${y}";src:${P}}`;this.insertRule(R);const L=this._document.createElement("div");L.style.visibility="hidden",L.style.width=L.style.height="10px",L.style.position="absolute",L.style.top=L.style.left="0px";for(const M of[e.loadedName,y]){const I=this._document.createElement("span");I.textContent="Hi",I.style.fontFamily=M,L.append(I)}this._document.body.append(L),g(y,()=>{L.remove(),t.complete()})}}Nc=new WeakMap;class _N{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${PS(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let r;try{r=e.get(n)}catch(l){Pe(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(r||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=o}}function CN(d){if(d instanceof URL)return d.href;if(typeof d=="string"){if(Cn)return d;const e=URL.parse(d,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function kN(d){if(Cn&&typeof Buffer<"u"&&d instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength)return d;if(typeof d=="string")return Ef(d);if(d instanceof ArrayBuffer||ArrayBuffer.isView(d)||typeof d=="object"&&!isNaN(d==null?void 0:d.length))return new Uint8Array(d);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Yp(d){if(typeof d!="string")return null;if(d.endsWith("/"))return d;throw new Error(`Invalid factory url: "${d}" must include trailing slash.`)}const t0=d=>typeof d=="object"&&Number.isInteger(d==null?void 0:d.num)&&d.num>=0&&Number.isInteger(d==null?void 0:d.gen)&&d.gen>=0,TN=d=>typeof d=="object"&&typeof(d==null?void 0:d.name)=="string",hE=mN.bind(null,t0,TN);var or,Yg;class PN{constructor(){E(this,or,new Map);E(this,Yg,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};a(this,Yg).then(()=>{for(const[r]of a(this,or))r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Pe("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}a(this,or).set(t,r)}removeEventListener(e,t){const n=a(this,or).get(t);n==null||n(),a(this,or).delete(t)}terminate(){for(const[,e]of a(this,or))e==null||e();a(this,or).clear()}}or=new WeakMap,Yg=new WeakMap;const Kp={DATA:1,ERROR:2},Nt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function HA(){}function jn(d){if(d instanceof Pr||d instanceof Ig||d instanceof OA||d instanceof Ud||d instanceof _v)return d;switch(d instanceof Error||typeof d=="object"&&d!==null||Ze('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),d.name){case"AbortException":return new Pr(d.message);case"InvalidPDFException":return new Ig(d.message);case"PasswordException":return new OA(d.message,d.code);case"ResponseException":return new Ud(d.message,d.status,d.missing);case"UnknownErrorException":return new _v(d.message,d.details)}return new _v(d.message,d.toString())}var Lc,Ni,fE,pE,gE,dg;class Ed{constructor(e,t,n){E(this,Ni);E(this,Lc,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",C(this,Ni,fE).bind(this),{signal:a(this,Lc).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(e,t,n,r){const o=this.streamId++,l=this.sourceName,u=this.targetName,h=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:u,action:e,streamId:o,data:t,desiredSize:p.desiredSize},r),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[o].pullCall=g,h.postMessage({sourceName:l,targetName:u,stream:Nt.PULL,streamId:o,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Lt(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[o].cancelCall=g,this.streamControllers[o].isClosed=!0,h.postMessage({sourceName:l,targetName:u,stream:Nt.CANCEL,streamId:o,reason:jn(p)}),g.promise}},n)}destroy(){var e;(e=a(this,Lc))==null||e.abort(),b(this,Lc,null)}}Lc=new WeakMap,Ni=new WeakSet,fE=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){C(this,Ni,gE).call(this,e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Kp.DATA)r.resolve(e.data);else if(e.callback===Kp.ERROR)r.reject(jn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,o=this.comObj;Promise.try(t,e.data).then(function(l){o.postMessage({sourceName:n,targetName:r,callback:Kp.DATA,callbackId:e.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:r,callback:Kp.ERROR,callbackId:e.callbackId,reason:jn(l)})});return}if(e.streamId){C(this,Ni,pE).call(this,e);return}t(e.data)},pE=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,l=this,u=this.actionHandler[e.action],h={enqueue(p,g=1,y){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=g,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:r,stream:Nt.ENQUEUE,streamId:t,chunk:p},y)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:Nt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(p){Lt(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:Nt.ERROR,streamId:t,reason:jn(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[t]=h,Promise.try(u,e.data,h).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Nt.START_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:Nt.START_COMPLETE,streamId:t,reason:jn(p)})})},gE=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,l=this.streamControllers[t],u=this.streamSinks[t];switch(e.stream){case Nt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(jn(e.reason));break;case Nt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(jn(e.reason));break;case Nt.PULL:if(!u){o.postMessage({sourceName:n,targetName:r,stream:Nt.PULL_COMPLETE,streamId:t,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,Promise.try(u.onPull||HA).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Nt.PULL_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:Nt.PULL_COMPLETE,streamId:t,reason:jn(p)})});break;case Nt.ENQUEUE:if(Lt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case Nt.CLOSE:if(Lt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),C(this,Ni,dg).call(this,l,t);break;case Nt.ERROR:Lt(l,"error should have stream controller"),l.controller.error(jn(e.reason)),C(this,Ni,dg).call(this,l,t);break;case Nt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(jn(e.reason)),C(this,Ni,dg).call(this,l,t);break;case Nt.CANCEL:if(!u)break;const h=jn(e.reason);Promise.try(u.onCancel||HA,h).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Nt.CANCEL_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:Nt.CANCEL_COMPLETE,streamId:t,reason:jn(p)})}),u.sinkCapability.reject(h),u.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},dg=async function(e,t){var n,r,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(r=e.pullCall)==null?void 0:r.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var bh;class mE{constructor({enableHWA:e=!1}){E(this,bh,!1);b(this,bh,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!a(this,bh)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ze("Abstract method `_createCanvas` called.")}}bh=new WeakMap;class RN extends mE{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class yE{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ze("Abstract method `_fetch` called.")}}class UA extends yE{async _fetch(e){const t=await ku(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Ef(t)}}class vE{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,o){return"none"}destroy(e=!1){}}var Ia,Mc,ar,lr,pn,Da,Fa,ce,hn,_d,nc,hg,ic,wE,n0,sc,Cd,kd,i0,Td;class NN extends vE{constructor({docId:t,ownerDocument:n=globalThis.document}){super();E(this,ce);E(this,Ia);E(this,Mc);E(this,ar);E(this,lr);E(this,pn);E(this,Da);E(this,Fa,0);b(this,lr,t),b(this,pn,n)}addFilter(t){if(!t)return"none";let n=a(this,ce,hn).get(t);if(n)return n;const[r,o,l]=C(this,ce,hg).call(this,t),u=t.length===1?r:`${r}${o}${l}`;if(n=a(this,ce,hn).get(u),n)return a(this,ce,hn).set(t,n),n;const h=`g_${a(this,lr)}_transfer_map_${bn(this,Fa)._++}`,p=C(this,ce,ic).call(this,h);a(this,ce,hn).set(t,p),a(this,ce,hn).set(u,p);const g=C(this,ce,sc).call(this,h);return C(this,ce,kd).call(this,r,o,l,g),p}addHCMFilter(t,n){var S;const r=`${t}-${n}`,o="base";let l=a(this,ce,_d).get(o);if((l==null?void 0:l.key)===r||(l?((S=l.filter)==null||S.remove(),l.key=r,l.url="none",l.filter=null):(l={key:r,url:"none",filter:null},a(this,ce,_d).set(o,l)),!t||!n))return l.url;const u=C(this,ce,Td).call(this,t);t=we.makeHexColor(...u);const h=C(this,ce,Td).call(this,n);if(n=we.makeHexColor(...h),a(this,ce,nc).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const p=new Array(256);for(let A=0;A<=255;A++){const T=A/255;p[A]=T<=.03928?T/12.92:((T+.055)/1.055)**2.4}const g=p.join(","),y=`g_${a(this,lr)}_hcm_filter`,v=l.filter=C(this,ce,sc).call(this,y);C(this,ce,kd).call(this,g,g,g,v),C(this,ce,n0).call(this,v);const x=(A,T)=>{const P=u[A]/255,R=h[A]/255,L=new Array(T+1);for(let M=0;M<=T;M++)L[M]=P+M/T*(R-P);return L.join(",")};return C(this,ce,kd).call(this,x(0,5),x(1,5),x(2,5),v),l.url=C(this,ce,ic).call(this,y),l.url}addAlphaFilter(t){let n=a(this,ce,hn).get(t);if(n)return n;const[r]=C(this,ce,hg).call(this,[t]),o=`alpha_${r}`;if(n=a(this,ce,hn).get(o),n)return a(this,ce,hn).set(t,n),n;const l=`g_${a(this,lr)}_alpha_map_${bn(this,Fa)._++}`,u=C(this,ce,ic).call(this,l);a(this,ce,hn).set(t,u),a(this,ce,hn).set(o,u);const h=C(this,ce,sc).call(this,l);return C(this,ce,i0).call(this,r,h),u}addLuminosityFilter(t){let n=a(this,ce,hn).get(t||"luminosity");if(n)return n;let r,o;if(t?([r]=C(this,ce,hg).call(this,[t]),o=`luminosity_${r}`):o="luminosity",n=a(this,ce,hn).get(o),n)return a(this,ce,hn).set(t,n),n;const l=`g_${a(this,lr)}_luminosity_map_${bn(this,Fa)._++}`,u=C(this,ce,ic).call(this,l);a(this,ce,hn).set(t,u),a(this,ce,hn).set(o,u);const h=C(this,ce,sc).call(this,l);return C(this,ce,wE).call(this,h),t&&C(this,ce,i0).call(this,r,h),u}addHighlightHCMFilter(t,n,r,o,l){var R;const u=`${n}-${r}-${o}-${l}`;let h=a(this,ce,_d).get(t);if((h==null?void 0:h.key)===u||(h?((R=h.filter)==null||R.remove(),h.key=u,h.url="none",h.filter=null):(h={key:u,url:"none",filter:null},a(this,ce,_d).set(t,h)),!n||!r))return h.url;const[p,g]=[n,r].map(C(this,ce,Td).bind(this));let y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),v=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[x,S]=[o,l].map(C(this,ce,Td).bind(this));v<y&&([y,v,x,S]=[v,y,S,x]),a(this,ce,nc).style.color="";const A=(L,M,I)=>{const B=new Array(256),O=(v-y)/I,V=L/255,G=(M-L)/(255*I);let K=0;for(let ee=0;ee<=I;ee++){const re=Math.round(y+ee*O),ye=V+ee*G;for(let oe=K;oe<=re;oe++)B[oe]=ye;K=re+1}for(let ee=K;ee<256;ee++)B[ee]=B[K-1];return B.join(",")},T=`g_${a(this,lr)}_hcm_${t}_filter`,P=h.filter=C(this,ce,sc).call(this,T);return C(this,ce,n0).call(this,P),C(this,ce,kd).call(this,A(x[0],S[0],5),A(x[1],S[1],5),A(x[2],S[2],5),P),h.url=C(this,ce,ic).call(this,T),h.url}destroy(t=!1){var n,r,o,l;t&&((n=a(this,Da))!=null&&n.size)||((r=a(this,ar))==null||r.parentNode.parentNode.remove(),b(this,ar,null),(o=a(this,Mc))==null||o.clear(),b(this,Mc,null),(l=a(this,Da))==null||l.clear(),b(this,Da,null),b(this,Fa,0))}}Ia=new WeakMap,Mc=new WeakMap,ar=new WeakMap,lr=new WeakMap,pn=new WeakMap,Da=new WeakMap,Fa=new WeakMap,ce=new WeakSet,hn=function(){return a(this,Mc)||b(this,Mc,new Map)},_d=function(){return a(this,Da)||b(this,Da,new Map)},nc=function(){if(!a(this,ar)){const t=a(this,pn).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=a(this,pn).createElementNS(Gs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),b(this,ar,a(this,pn).createElementNS(Gs,"defs")),t.append(r),r.append(a(this,ar)),a(this,pn).body.append(t)}return a(this,ar)},hg=function(t){if(t.length===1){const p=t[0],g=new Array(256);for(let v=0;v<256;v++)g[v]=p[v]/255;const y=g.join(",");return[y,y,y]}const[n,r,o]=t,l=new Array(256),u=new Array(256),h=new Array(256);for(let p=0;p<256;p++)l[p]=n[p]/255,u[p]=r[p]/255,h[p]=o[p]/255;return[l.join(","),u.join(","),h.join(",")]},ic=function(t){if(a(this,Ia)===void 0){b(this,Ia,"");const n=a(this,pn).URL;n!==a(this,pn).baseURI&&(Cf(n)?Pe('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,Ia,sw(n,"")))}return`url(${a(this,Ia)}#${t})`},wE=function(t){const n=a(this,pn).createElementNS(Gs,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},n0=function(t){const n=a(this,pn).createElementNS(Gs,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},sc=function(t){const n=a(this,pn).createElementNS(Gs,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),a(this,ce,nc).append(n),n},Cd=function(t,n,r){const o=a(this,pn).createElementNS(Gs,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),t.append(o)},kd=function(t,n,r,o){const l=a(this,pn).createElementNS(Gs,"feComponentTransfer");o.append(l),C(this,ce,Cd).call(this,l,"feFuncR",t),C(this,ce,Cd).call(this,l,"feFuncG",n),C(this,ce,Cd).call(this,l,"feFuncB",r)},i0=function(t,n){const r=a(this,pn).createElementNS(Gs,"feComponentTransfer");n.append(r),C(this,ce,Cd).call(this,r,"feFuncA",t)},Td=function(t){return a(this,ce,nc).style.color=t,aw(getComputedStyle(a(this,ce,nc)).getPropertyValue("color"))};class bE{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ze("Abstract method `_fetch` called.")}}class $A extends bE{async _fetch(e){const t=await ku(e,"arraybuffer");return new Uint8Array(t)}}class xE{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Ze("Abstract method `_fetch` called.")}}class VA extends xE{async _fetch(e){const t=await ku(e,"arraybuffer");return new Uint8Array(t)}}Cn&&Pe("Please use the `legacy` build in Node.js environments.");async function cw(d){const t=await process.getBuiltinModule("fs").promises.readFile(d);return new Uint8Array(t)}class LN extends vE{}class MN extends mE{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class IN extends yE{async _fetch(e){return cw(e)}}class DN extends bE{async _fetch(e){return cw(e)}}class FN extends xE{async _fetch(e){return cw(e)}}const rn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function s0(d,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),d.clip(r)}class uw{isModifyingCurrentTransform(){return!1}getPattern(){Ze("Abstract method `getPattern` called.")}}class ON extends uw{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let o;if(r===rn.STROKE||r===rn.FILL){const l=t.current.getClippedPathBoundingBox(r,yt(e))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,p=t.cachedCanvases.getCanvas("pattern",u,h),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-l[0],-l[1]),n=we.transform(n,[1,0,0,1,l[0],l[1]]),g.transform(...t.baseTransform),this.matrix&&g.transform(...this.matrix),s0(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),o=e.createPattern(p.canvas,"no-repeat");const y=new DOMMatrix(n);o.setTransform(y)}else s0(e,this._bbox),o=this._createGradient(e);return o}}function Tv(d,e,t,n,r,o,l,u){const h=e.coords,p=e.colors,g=d.data,y=d.width*4;let v;h[t+1]>h[n+1]&&(v=t,t=n,n=v,v=o,o=l,l=v),h[n+1]>h[r+1]&&(v=n,n=r,r=v,v=l,l=u,u=v),h[t+1]>h[n+1]&&(v=t,t=n,n=v,v=o,o=l,l=v);const x=(h[t]+e.offsetX)*e.scaleX,S=(h[t+1]+e.offsetY)*e.scaleY,A=(h[n]+e.offsetX)*e.scaleX,T=(h[n+1]+e.offsetY)*e.scaleY,P=(h[r]+e.offsetX)*e.scaleX,R=(h[r+1]+e.offsetY)*e.scaleY;if(S>=R)return;const L=p[o],M=p[o+1],I=p[o+2],B=p[l],O=p[l+1],V=p[l+2],G=p[u],K=p[u+1],ee=p[u+2],re=Math.round(S),ye=Math.round(R);let oe,Re,Q,q,J,ae,ie,j;for(let W=re;W<=ye;W++){if(W<T){const be=W<S?0:(S-W)/(S-T);oe=x-(x-A)*be,Re=L-(L-B)*be,Q=M-(M-O)*be,q=I-(I-V)*be}else{let be;W>R?be=1:T===R?be=0:be=(T-W)/(T-R),oe=A-(A-P)*be,Re=B-(B-G)*be,Q=O-(O-K)*be,q=V-(V-ee)*be}let ue;W<S?ue=0:W>R?ue=1:ue=(S-W)/(S-R),J=x-(x-P)*ue,ae=L-(L-G)*ue,ie=M-(M-K)*ue,j=I-(I-ee)*ue;const xe=Math.round(Math.min(oe,J)),Ce=Math.round(Math.max(oe,J));let _e=y*W+xe*4;for(let be=xe;be<=Ce;be++)ue=(oe-be)/(oe-J),ue<0?ue=0:ue>1&&(ue=1),g[_e++]=Re-(Re-ae)*ue|0,g[_e++]=Q-(Q-ie)*ue|0,g[_e++]=q-(q-j)*ue|0,g[_e++]=255}}function jN(d,e,t){const n=e.coords,r=e.colors;let o,l;switch(e.type){case"lattice":const u=e.verticesPerRow,h=Math.floor(n.length/u)-1,p=u-1;for(o=0;o<h;o++){let g=o*u;for(let y=0;y<p;y++,g++)Tv(d,t,n[g],n[g+1],n[g+u],r[g],r[g+1],r[g+u]),Tv(d,t,n[g+u+1],n[g+1],n[g+u],r[g+u+1],r[g+1],r[g+u])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)Tv(d,t,n[o],n[o+1],n[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class zN extends uw{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const u=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-u,g=Math.ceil(this._bounds[3])-h,y=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(g*e[1]*1.1)),3e3),x=p/y,S=g/v,A={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-h,scaleX:1/x,scaleY:1/S},T=y+4,P=v+4,R=n.getCanvas("mesh",T,P),L=R.context,M=L.createImageData(y,v);if(t){const B=M.data;for(let O=0,V=B.length;O<V;O+=4)B[O]=t[0],B[O+1]=t[1],B[O+2]=t[2],B[O+3]=255}for(const B of this._figures)jN(M,B,A);return L.putImageData(M,2,2),{canvas:R.canvas,offsetX:u-2*x,offsetY:h-2*S,scaleX:x,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,r){s0(e,this._bbox);const o=new Float32Array(2);if(r===rn.SHADING)we.singularValueDecompose2dScale(yt(e),o);else if(this.matrix){we.singularValueDecompose2dScale(this.matrix,o);const[u,h]=o;we.singularValueDecompose2dScale(t.baseTransform,o),o[0]*=u,o[1]*=h}else we.singularValueDecompose2dScale(t.baseTransform,o);const l=this._createMeshCanvas(o,r===rn.SHADING?null:this._background,t.cachedCanvases);return r!==rn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class BN extends uw{getPattern(){return"hotpink"}}function HN(d){switch(d[0]){case"RadialAxial":return new ON(d);case"Mesh":return new zN(d);case"Dummy":return new BN}throw new Error(`Unknown IR type: ${d[0]}`)}const WA={COLORED:1,UNCOLORED:2},Kg=class Kg{constructor(e,t,n,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:o,color:l,canvasGraphicsFactory:u}=this;let{xstep:h,ystep:p}=this;h=Math.abs(h),p=Math.abs(p),hm("TilingType: "+o);const g=t[0],y=t[1],v=t[2],x=t[3],S=v-g,A=x-y,T=new Float32Array(2);we.singularValueDecompose2dScale(this.matrix,T);const[P,R]=T;we.singularValueDecompose2dScale(this.baseTransform,T);const L=P*T[0],M=R*T[1];let I=S,B=A,O=!1,V=!1;const G=Math.ceil(h*L),K=Math.ceil(p*M),ee=Math.ceil(S*L),re=Math.ceil(A*M);G>=ee?I=h:O=!0,K>=re?B=p:V=!0;const ye=this.getSizeAndScale(I,this.ctx.canvas.width,L),oe=this.getSizeAndScale(B,this.ctx.canvas.height,M),Re=e.cachedCanvases.getCanvas("pattern",ye.size,oe.size),Q=Re.context,q=u.createCanvasGraphics(Q);if(q.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(q,r,l),Q.translate(-ye.scale*g,-oe.scale*y),q.transform(ye.scale,0,0,oe.scale,0,0),Q.save(),this.clipBbox(q,g,y,v,x),q.baseTransform=yt(q.ctx),q.executeOperatorList(n),q.endDrawing(),Q.restore(),O||V){const J=Re.canvas;O&&(I=h),V&&(B=p);const ae=this.getSizeAndScale(I,this.ctx.canvas.width,L),ie=this.getSizeAndScale(B,this.ctx.canvas.height,M),j=ae.size,W=ie.size,ue=e.cachedCanvases.getCanvas("pattern-workaround",j,W),xe=ue.context,Ce=O?Math.floor(S/h):0,_e=V?Math.floor(A/p):0;for(let be=0;be<=Ce;be++)for(let Me=0;Me<=_e;Me++)xe.drawImage(J,j*be,W*Me,j,W,0,0,j,W);return{canvas:ue.canvas,scaleX:ae.scale,scaleY:ie.scale,offsetX:g,offsetY:y}}return{canvas:Re.canvas,scaleX:ye.scale,scaleY:oe.scale,offsetX:g,offsetY:y}}getSizeAndScale(e,t,n){const r=Math.max(Kg.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=r?o=r:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,r,o){const l=r-t,u=o-n;e.ctx.rect(t,n,l,u),we.axialAlignedBoundingBox([t,n,r,o],yt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,o=e.current;switch(t){case WA.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;r.fillStyle=o.fillColor=l,r.strokeStyle=o.strokeColor=u;break;case WA.UNCOLORED:r.fillStyle=r.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new dN(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,r){let o=n;r!==rn.SHADING&&(o=we.transform(o,t.baseTransform),this.matrix&&(o=we.transform(o,this.matrix)));const l=this.createPatternCanvas(t);let u=new DOMMatrix(o);u=u.translate(l.offsetX,l.offsetY),u=u.scale(1/l.scaleX,1/l.scaleY);const h=e.createPattern(l.canvas,"repeat");return h.setTransform(u),h}};te(Kg,"MAX_PATTERN_SIZE",3e3);let r0=Kg;function UN({src:d,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const u=Kt.isLittleEndian?4278190080:255,[h,p]=l?[o,u]:[u,o],g=n>>3,y=n&7,v=d.length;t=new Uint32Array(t.buffer);let x=0;for(let S=0;S<r;S++){for(const T=e+g;e<T;e++){const P=e<v?d[e]:255;t[x++]=P&128?p:h,t[x++]=P&64?p:h,t[x++]=P&32?p:h,t[x++]=P&16?p:h,t[x++]=P&8?p:h,t[x++]=P&4?p:h,t[x++]=P&2?p:h,t[x++]=P&1?p:h}if(y===0)continue;const A=e<v?d[e++]:255;for(let T=0;T<y;T++)t[x++]=A&1<<7-T?p:h}return{srcPos:e,destPos:x}}const GA=16,XA=100,$N=15,qA=10,$n=16,Pv=new DOMMatrix,ui=new Float32Array(2),lc=new Float32Array([1/0,1/0,-1/0,-1/0]);function VN(d,e){if(d._removeMirroring)throw new Error("Context is already forwarding operations.");d.__originalSave=d.save,d.__originalRestore=d.restore,d.__originalRotate=d.rotate,d.__originalScale=d.scale,d.__originalTranslate=d.translate,d.__originalTransform=d.transform,d.__originalSetTransform=d.setTransform,d.__originalResetTransform=d.resetTransform,d.__originalClip=d.clip,d.__originalMoveTo=d.moveTo,d.__originalLineTo=d.lineTo,d.__originalBezierCurveTo=d.bezierCurveTo,d.__originalRect=d.rect,d.__originalClosePath=d.closePath,d.__originalBeginPath=d.beginPath,d._removeMirroring=()=>{d.save=d.__originalSave,d.restore=d.__originalRestore,d.rotate=d.__originalRotate,d.scale=d.__originalScale,d.translate=d.__originalTranslate,d.transform=d.__originalTransform,d.setTransform=d.__originalSetTransform,d.resetTransform=d.__originalResetTransform,d.clip=d.__originalClip,d.moveTo=d.__originalMoveTo,d.lineTo=d.__originalLineTo,d.bezierCurveTo=d.__originalBezierCurveTo,d.rect=d.__originalRect,d.closePath=d.__originalClosePath,d.beginPath=d.__originalBeginPath,delete d._removeMirroring},d.save=function(){e.save(),this.__originalSave()},d.restore=function(){e.restore(),this.__originalRestore()},d.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},d.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},d.transform=function(t,n,r,o,l,u){e.transform(t,n,r,o,l,u),this.__originalTransform(t,n,r,o,l,u)},d.setTransform=function(t,n,r,o,l,u){e.setTransform(t,n,r,o,l,u),this.__originalSetTransform(t,n,r,o,l,u)},d.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},d.rotate=function(t){e.rotate(t),this.__originalRotate(t)},d.clip=function(t){e.clip(t),this.__originalClip(t)},d.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},d.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},d.bezierCurveTo=function(t,n,r,o,l,u){e.bezierCurveTo(t,n,r,o,l,u),this.__originalBezierCurveTo(t,n,r,o,l,u)},d.rect=function(t,n,r,o){e.rect(t,n,r,o),this.__originalRect(t,n,r,o)},d.closePath=function(){e.closePath(),this.__originalClosePath()},d.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class WN{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Qp(d,e,t,n,r,o,l,u,h,p){const[g,y,v,x,S,A]=yt(d);if(y===0&&v===0){const R=l*g+S,L=Math.round(R),M=u*x+A,I=Math.round(M),B=(l+h)*g+S,O=Math.abs(Math.round(B)-L)||1,V=(u+p)*x+A,G=Math.abs(Math.round(V)-I)||1;return d.setTransform(Math.sign(g),0,0,Math.sign(x),L,I),d.drawImage(e,t,n,r,o,0,0,O,G),d.setTransform(g,y,v,x,S,A),[O,G]}if(g===0&&x===0){const R=u*v+S,L=Math.round(R),M=l*y+A,I=Math.round(M),B=(u+p)*v+S,O=Math.abs(Math.round(B)-L)||1,V=(l+h)*y+A,G=Math.abs(Math.round(V)-I)||1;return d.setTransform(0,Math.sign(y),Math.sign(v),0,L,I),d.drawImage(e,t,n,r,o,0,0,G,O),d.setTransform(g,y,v,x,S,A),[G,O]}d.drawImage(e,t,n,r,o,l,u,h,p);const T=Math.hypot(g,y),P=Math.hypot(v,x);return[T*h,P*p]}class YA{constructor(e,t){te(this,"alphaIsShape",!1);te(this,"fontSize",0);te(this,"fontSizeScale",1);te(this,"textMatrix",null);te(this,"textMatrixScale",1);te(this,"fontMatrix",Fv);te(this,"leading",0);te(this,"x",0);te(this,"y",0);te(this,"lineX",0);te(this,"lineY",0);te(this,"charSpacing",0);te(this,"wordSpacing",0);te(this,"textHScale",1);te(this,"textRenderingMode",dn.FILL);te(this,"textRise",0);te(this,"fillColor","#000000");te(this,"strokeColor","#000000");te(this,"patternFill",!1);te(this,"patternStroke",!1);te(this,"fillAlpha",1);te(this,"strokeAlpha",1);te(this,"lineWidth",1);te(this,"activeSMask",null);te(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=lc.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=rn.FILL,t=null){const n=this.minMax.slice();if(e===rn.STROKE){t||Ze("Stroke bounding box must include transform."),we.singularValueDecompose2dScale(t,ui);const r=ui[0]*this.lineWidth/2,o=ui[1]*this.lineWidth/2;n[0]-=r,n[1]-=o,n[2]+=r,n[3]+=o}return n}updateClipFromPath(){const e=we.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(lc,0)}getClippedPathBoundingBox(e=rn.FILL,t=null){return we.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function KA(d,e){if(e instanceof ImageData){d.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%$n,o=(t-r)/$n,l=r===0?o:o+1,u=d.createImageData(n,$n);let h=0,p;const g=e.data,y=u.data;let v,x,S,A;if(e.kind===jd.GRAYSCALE_1BPP){const T=g.byteLength,P=new Uint32Array(y.buffer,0,y.byteLength>>2),R=P.length,L=n+7>>3,M=4294967295,I=Kt.isLittleEndian?4278190080:255;for(v=0;v<l;v++){for(S=v<o?$n:r,p=0,x=0;x<S;x++){const B=T-h;let O=0;const V=B>L?n:B*8-7,G=V&-8;let K=0,ee=0;for(;O<G;O+=8)ee=g[h++],P[p++]=ee&128?M:I,P[p++]=ee&64?M:I,P[p++]=ee&32?M:I,P[p++]=ee&16?M:I,P[p++]=ee&8?M:I,P[p++]=ee&4?M:I,P[p++]=ee&2?M:I,P[p++]=ee&1?M:I;for(;O<V;O++)K===0&&(ee=g[h++],K=128),P[p++]=ee&K?M:I,K>>=1}for(;p<R;)P[p++]=0;d.putImageData(u,0,v*$n)}}else if(e.kind===jd.RGBA_32BPP){for(x=0,A=n*$n*4,v=0;v<o;v++)y.set(g.subarray(h,h+A)),h+=A,d.putImageData(u,0,x),x+=$n;v<l&&(A=n*r*4,y.set(g.subarray(h,h+A)),d.putImageData(u,0,x))}else if(e.kind===jd.RGB_24BPP)for(S=$n,A=n*S,v=0;v<l;v++){for(v>=o&&(S=r,A=n*S),p=0,x=A;x--;)y[p++]=g[h++],y[p++]=g[h++],y[p++]=g[h++],y[p++]=255;d.putImageData(u,0,v*$n)}else throw new Error(`bad image kind: ${e.kind}`)}function QA(d,e){if(e.bitmap){d.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%$n,o=(t-r)/$n,l=r===0?o:o+1,u=d.createImageData(n,$n);let h=0;const p=e.data,g=u.data;for(let y=0;y<l;y++){const v=y<o?$n:r;({srcPos:h}=UN({src:p,srcPos:h,dest:g,width:n,height:v,nonBlackColor:0})),d.putImageData(u,0,y*$n)}}function gd(d,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)d[n]!==void 0&&(e[n]=d[n]);d.setLineDash!==void 0&&(e.setLineDash(d.getLineDash()),e.lineDashOffset=d.lineDashOffset)}function Jp(d){d.strokeStyle=d.fillStyle="#000000",d.fillRule="nonzero",d.globalAlpha=1,d.lineWidth=1,d.lineCap="butt",d.lineJoin="miter",d.miterLimit=10,d.globalCompositeOperation="source-over",d.font="10px sans-serif",d.setLineDash!==void 0&&(d.setLineDash([]),d.lineDashOffset=0);const{filter:e}=d;e!=="none"&&e!==""&&(d.filter="none")}function JA(d,e){if(e)return!0;we.singularValueDecompose2dScale(d,ui);const t=Math.fround(is.pixelRatio*Rr.PDF_TO_CSS_UNITS);return ui[0]<=t&&ui[1]<=t}const GN=["butt","round","square"],XN=["miter","round","bevel"],qN={},ZA={};var ss,o0,a0,l0;const xw=class xw{constructor(e,t,n,r,o,{optionalContentConfig:l,markedContentStack:u=null},h,p){E(this,ss);this.ctx=e,this.current=new YA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new WN(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=u,n){const h=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...yt(this.compositeCtx))}this.ctx.save(),Jp(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=yt(this.ctx)}executeOperatorList(e,t,n,r){const o=e.argsArray,l=e.fnArray;let u=t||0;const h=o.length;if(h===u)return u;const p=h-u>qA&&typeof n=="function",g=p?Date.now()+$N:0;let y=0;const v=this.commonObjs,x=this.objs;let S;for(;;){if(r!==void 0&&u===r.nextBreakPoint)return r.breakIt(u,n),u;if(S=l[u],S!==Hd.dependency)this[S].apply(this,o[u]);else for(const A of o[u]){const T=A.startsWith("g_")?v:x;if(!T.has(A))return T.get(A,n),u}if(u++,u===h)return u;if(p&&++y>qA){if(Date.now()>g)return n(),u;y=0}}}endDrawing(){C(this,ss,o0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),C(this,ss,a0).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),u=n,h=r,p="prescale1",g,y;for(;o>2&&u>1||l>2&&h>1;){let v=u,x=h;o>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/v),l>2&&h>1&&(x=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/x),g=this.cachedCanvases.getCanvas(p,v,x),y=g.context,y.clearRect(0,0,v,x),y.drawImage(e,0,0,u,h,0,0,v,x),e=g.canvas,u=v,h=x,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:h}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,o=this.current.fillColor,l=this.current.patternFill,u=yt(t);let h,p,g,y;if((e.bitmap||e.data)&&e.count>1){const G=e.bitmap||e.data.buffer;p=JSON.stringify(l?u:[u.slice(0,4),o]),h=this._cachedBitmapsMap.get(G),h||(h=new Map,this._cachedBitmapsMap.set(G,h));const K=h.get(p);if(K&&!l){const ee=Math.round(Math.min(u[0],u[2])+u[4]),re=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:K,offsetX:ee,offsetY:re}}g=K}g||(y=this.cachedCanvases.getCanvas("maskCanvas",n,r),QA(y.context,e));let v=we.transform(u,[1/n,0,0,-1/r,0,0]);v=we.transform(v,[1,0,0,1,0,-r]);const x=lc.slice();we.axialAlignedBoundingBox([0,0,n,r],v,x);const[S,A,T,P]=x,R=Math.round(T-S)||1,L=Math.round(P-A)||1,M=this.cachedCanvases.getCanvas("fillCanvas",R,L),I=M.context,B=S,O=A;I.translate(-B,-O),I.transform(...v),g||(g=this._scaleImage(y.canvas,hs(I)),g=g.img,h&&l&&h.set(p,g)),I.imageSmoothingEnabled=JA(yt(I),e.interpolate),Qp(I,g,0,0,g.width,g.height,0,0,n,r),I.globalCompositeOperation="source-in";const V=we.transform(hs(I),[1,0,0,1,-B,-O]);return I.fillStyle=l?o.getPattern(t,this,V,rn.FILL):o,I.fillRect(0,0,n,r),h&&!l&&(this.cachedCanvases.delete("fillCanvas"),h.set(p,M.canvas)),{canvas:M.canvas,offsetX:Math.round(B),offsetY:Math.round(O)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=GN[e]}setLineJoin(e){this.ctx.lineJoin=XN[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const o=this.ctx=r.context;o.setTransform(this.suspendedCtx.getTransform()),gd(this.suspendedCtx,o),VN(o,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),gd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const o=r[0],l=r[1],u=r[2]-o,h=r[3]-l;u===0||h===0||(this.genericComposeSMask(t.context,n,u,h,t.subtype,t.backdrop,t.transferMap,o,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,o,l,u,h,p,g,y){let v=e.canvas,x=h-g,S=p-y;if(l)if(x<0||S<0||x+n>v.width||S+r>v.height){const T=this.cachedCanvases.getCanvas("maskExtension",n,r),P=T.context;P.drawImage(v,-x,-S),P.globalCompositeOperation="destination-atop",P.fillStyle=l,P.fillRect(0,0,n,r),P.globalCompositeOperation="source-over",v=T.canvas,x=S=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(x,S,n,r),e.clip(T),e.globalCompositeOperation="destination-atop",e.fillStyle=l,e.fillRect(x,S,n,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?t.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(u));const A=new Path2D;A.rect(h,p,n,r),t.clip(A),t.globalCompositeOperation="destination-in",t.drawImage(v,x,S,n,r,h,p,n,r),t.restore()}save(){this.inSMaskMode&&gd(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&gd(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,r,o,l){this.ctx.transform(e,t,n,r,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[r]=t;if(!n){r||(r=t[0]=new Path2D),this[e](r);return}if(!(r instanceof Path2D)){const o=t[0]=new Path2D;for(let l=0,u=r.length;l<u;)switch(r[l++]){case qp.moveTo:o.moveTo(r[l++],r[l++]);break;case qp.lineTo:o.lineTo(r[l++],r[l++]);break;case qp.curveTo:o.bezierCurveTo(r[l++],r[l++],r[l++],r[l++],r[l++],r[l++]);break;case qp.closePath:o.closePath();break;default:Pe(`Unrecognized drawing path operator: ${r[l-1]}`);break}r=o}we.axialAlignedBoundingBox(n,yt(this.ctx),this.current.minMax),this[e](r)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const n=this.ctx,r=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const o=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=r.getPattern(n,this,hs(n),rn.STROKE),o){const l=new Path2D;l.addPath(e,n.getTransform().invertSelf().multiplySelf(o)),e=l}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(rn.STROKE,yt(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const n=this.ctx,r=this.current.fillColor,o=this.current.patternFill;let l=!1;if(o){const h=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=r.getPattern(n,this,hs(n),rn.FILL),h){const p=new Path2D;p.addPath(e,n.getTransform().invertSelf().multiplySelf(h)),e=p}l=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),l&&n.restore(),t&&this.consumePath(e,u)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=qN}eoClip(){this.pendingClip=ZA}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const n=new Path2D,r=t.getTransform().invertSelf();for(const{transform:o,x:l,y:u,fontSize:h,path:p}of e)n.addPath(p,new DOMMatrix(o).preMultiplySelf(r).translate(l,u).scale(h,-h));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var g;const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||Fv,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Pe("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",l=((g=n.systemFontInfo)==null?void 0:g.css)||`"${o}", ${n.fallbackName}`;let u="normal";n.black?u="900":n.bold&&(u="bold");const h=n.italic?"italic":"normal";let p=t;t<GA?p=GA:t>XA&&(p=XA),this.current.fontSizeScale=t/p,this.ctx.font=`${h} ${u} ${p}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r,o){const l=this.ctx,u=this.current,h=u.font,p=u.textRenderingMode,g=u.fontSize/u.fontSizeScale,y=p&dn.FILL_STROKE_MASK,v=!!(p&dn.ADD_TO_PATH_FLAG),x=u.patternFill&&!h.missingFile,S=u.patternStroke&&!h.missingFile;let A;if((h.disableFontFace||v||x||S)&&(A=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||x||S){l.save(),l.translate(t,n),l.scale(g,-g);let T;if((y===dn.FILL||y===dn.FILL_STROKE)&&(r?(T=l.getTransform(),l.setTransform(...r),l.fill(C(this,ss,l0).call(this,A,T,r))):l.fill(A)),y===dn.STROKE||y===dn.FILL_STROKE)if(o){T||(T=l.getTransform()),l.setTransform(...o);const{a:P,b:R,c:L,d:M}=T,I=we.inverseTransform(o),B=we.transform([P,R,L,M,0,0],I);we.singularValueDecompose2dScale(B,ui),l.lineWidth*=Math.max(ui[0],ui[1])/g,l.stroke(C(this,ss,l0).call(this,A,T,o))}else l.lineWidth/=g,l.stroke(A);l.restore()}else(y===dn.FILL||y===dn.FILL_STROKE)&&l.fillText(e,t,n),(y===dn.STROKE||y===dn.FILL_STROKE)&&l.strokeText(e,t,n);v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:yt(l),x:t,y:n,fontSize:g,path:A})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return je(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const o=this.ctx,l=t.fontSizeScale,u=t.charSpacing,h=t.wordSpacing,p=t.fontDirection,g=t.textHScale*p,y=e.length,v=n.vertical,x=v?1:-1,S=n.defaultVMetrics,A=r*t.fontMatrix[0],T=t.textRenderingMode===dn.FILL&&!n.disableFontFace&&!t.patternFill;o.save(),t.textMatrix&&o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),p>0?o.scale(g,-1):o.scale(g,1);let P,R;if(t.patternFill){o.save();const O=t.fillColor.getPattern(o,this,hs(o),rn.FILL);P=yt(o),o.restore(),o.fillStyle=O}if(t.patternStroke){o.save();const O=t.strokeColor.getPattern(o,this,hs(o),rn.STROKE);R=yt(o),o.restore(),o.strokeStyle=O}let L=t.lineWidth;const M=t.textMatrixScale;if(M===0||L===0){const O=t.textRenderingMode&dn.FILL_STROKE_MASK;(O===dn.STROKE||O===dn.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=M;if(l!==1&&(o.scale(l,l),L/=l),o.lineWidth=L,n.isInvalidPDFjsFont){const O=[];let V=0;for(const G of e)O.push(G.unicode),V+=G.width;o.fillText(O.join(""),0,0),t.x+=V*A*g,o.restore(),this.compose();return}let I=0,B;for(B=0;B<y;++B){const O=e[B];if(typeof O=="number"){I+=x*O*r/1e3;continue}let V=!1;const G=(O.isSpace?h:0)+u,K=O.fontChar,ee=O.accent;let re,ye,oe=O.width;if(v){const Q=O.vmetric||S,q=-(O.vmetric?Q[1]:oe*.5)*A,J=Q[2]*A;oe=Q?-Q[0]:oe,re=q/l,ye=(I+J)/l}else re=I/l,ye=0;if(n.remeasure&&oe>0){const Q=o.measureText(K).width*1e3/r*l;if(oe<Q&&this.isFontSubpixelAAEnabled){const q=oe/Q;V=!0,o.save(),o.scale(q,1),re/=q}else oe!==Q&&(re+=(oe-Q)/2e3*r/l)}if(this.contentVisible&&(O.isInFont||n.missingFile)){if(T&&!ee)o.fillText(K,re,ye);else if(this.paintChar(K,re,ye,P,R),ee){const Q=re+r*ee.offset.x/l,q=ye-r*ee.offset.y/l;this.paintChar(ee.fontChar,Q,q,P,R)}}const Re=v?oe*A-G*p:oe*A+G*p;I+=Re,V&&o.restore()}v?t.y-=I:t.x+=I*g,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,o=n.fontSize,l=n.fontDirection,u=r.vertical?1:-1,h=n.charSpacing,p=n.wordSpacing,g=n.textHScale*l,y=n.fontMatrix||Fv,v=e.length,x=n.textRenderingMode===dn.INVISIBLE;let S,A,T,P;if(!(x||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(g,l),S=0;S<v;++S){if(A=e[S],typeof A=="number"){P=u*A*o/1e3,this.ctx.translate(P,0),n.x+=P*g;continue}const R=(A.isSpace?p:0)+h,L=r.charProcOperatorList[A.operatorListId];L?this.contentVisible&&(this.save(),t.scale(o,o),t.transform(...y),this.executeOperatorList(L),this.restore()):Pe(`Type3 character "${A.operatorListId}" is not available.`);const M=[A.width,0];we.applyTransform(M,y),T=M[0]*o+R,t.translate(T,0),n.x+=T*g}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,o,l){const u=new Path2D;u.rect(n,r,o-n,l-r),this.ctx.clip(u),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=this.baseTransform||yt(this.ctx),r={createCanvasGraphics:o=>new xw(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new r0(e,this.ctx,r,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=HN(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,hs(t),rn.SHADING);const r=hs(t);if(r){const{width:o,height:l}=t.canvas,u=lc.slice();we.axialAlignedBoundingBox([0,0,o,l],r,u);const[h,p,g,y]=u;this.ctx.fillRect(h,p,g-h,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ze("Should not call beginInlineImage")}beginImageData(){Ze("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=yt(this.ctx),t)){we.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[n,r,o,l]=t,u=new Path2D;u.rect(n,r,o-n,l-r),this.ctx.clip(u),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||hm("TODO: Support non-isolated groups."),e.knockout&&Pe("Knockout groups not supported.");const n=yt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=lc.slice();we.axialAlignedBoundingBox(e.bbox,yt(t),r);const o=[0,0,t.canvas.width,t.canvas.height];r=we.intersect(r,o)||[0,0,0,0];const l=Math.floor(r[0]),u=Math.floor(r[1]),h=Math.max(Math.ceil(r[2])-l,1),p=Math.max(Math.ceil(r[3])-u,1);this.current.startNewPathAndClipBox([0,0,h,p]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(g,h,p),v=y.context;v.translate(-l,-u),v.transform(...n);let x=new Path2D;const[S,A,T,P]=e.bbox;if(x.rect(S,A,T-S,P-A),e.matrix){const R=new Path2D;R.addPath(x,new DOMMatrix(e.matrix)),x=R}v.clip(x),e.smask?this.smaskStack.push({canvas:y.canvas,context:v,offsetX:l,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,u),t.save()),gd(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=yt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=lc.slice();we.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r,o),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,r,o){if(C(this,ss,o0).call(this),Jp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],u=t[3]-t[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=u,we.singularValueDecompose2dScale(yt(this.ctx),ui);const{viewportScale:h}=this,p=Math.ceil(l*this.outputScaleX*h),g=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:y,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(ui[0],0,0,-ui[1],0,u*ui[1]),Jp(this.ctx)}else{Jp(this.ctx),this.endPath();const h=new Path2D;h.rect(t[0],t[1],l,u),this.ctx.clip(h)}}this.current=new YA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),C(this,ss,a0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,r=this._createMaskCanvas(e),o=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,r=0,o,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const u=this.ctx;u.save();const h=yt(u);u.transform(t,n,r,o,0,0);const p=this._createMaskCanvas(e);u.setTransform(1,0,0,1,p.offsetX-h[4],p.offsetY-h[5]);for(let g=0,y=l.length;g<y;g+=2){const v=we.transform(h,[t,n,r,o,l[g],l[g+1]]);u.drawImage(p.canvas,v[4],v[5])}u.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const o of e){const{data:l,width:u,height:h,transform:p}=o,g=this.cachedCanvases.getCanvas("maskCanvas",u,h),y=g.context;y.save();const v=this.getObject(l,o);QA(y,v),y.globalCompositeOperation="source-in",y.fillStyle=r?n.getPattern(y,this,hs(t),rn.FILL):n,y.fillRect(0,0,u,h),y.restore(),t.save(),t.transform(...p),t.scale(1,-1),Qp(t,g.canvas,0,0,u,h,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Pe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Pe("Dependent image isn't ready yet");return}const l=o.width,u=o.height,h=[];for(let p=0,g=r.length;p<g;p+=2)h.push({transform:[t,0,0,n,r[p],r[p+1]],x:0,y:0,w:l,h:u});this.paintInlineImageXObjectGroup(o,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,r),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;this.save();const{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none"),r.scale(1/t,-1/n);let l;if(e.bitmap)l=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)l=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",t,n).context;KA(p,e),l=this.applyTransferMapsToCanvas(p)}const u=this._scaleImage(l,hs(r));r.imageSmoothingEnabled=JA(yt(r),e.interpolate),Qp(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const o=e.width,l=e.height,h=this.cachedCanvases.getCanvas("inlineImage",o,l).context;KA(h,e),r=this.applyTransferMapsToCanvas(h)}for(const o of t)n.save(),n.transform(...o.transform),n.scale(1,-1),Qp(n,r,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===ZA?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=yt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:o}=this.ctx.getTransform();let l,u;if(n===0&&r===0){const h=Math.abs(t),p=Math.abs(o);if(h===p)if(e===0)l=u=1/h;else{const g=h*e;l=u=g<1?1/g:1}else if(e===0)l=1/h,u=1/p;else{const g=h*e,y=p*e;l=g<1?1/g:1,u=y<1?1/y:1}}else{const h=Math.abs(t*o-n*r),p=Math.hypot(t,n),g=Math.hypot(r,o);if(e===0)l=g/h,u=p/h;else{const y=e*h;l=g>y?g/y:1,u=p>y?p/y:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:r}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(r||1)*o,n.stroke(e);return}const u=n.getLineDash();t&&n.save(),n.scale(o,l),Pv.a=1/o,Pv.d=1/l;const h=new Path2D;if(h.addPath(e,Pv),u.length>0){const p=Math.max(o,l);n.setLineDash(u.map(g=>g/p)),n.lineDashOffset/=p}n.lineWidth=r||1,n.stroke(h),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ss=new WeakSet,o0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},a0=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},l0=function(e,t,n){const r=new Path2D;return r.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),r};let fc=xw;for(const d in Hd)fc.prototype[d]!==void 0&&(fc.prototype[Hd[d]]=fc.prototype[d]);var xh,Ah;class Pi{static get workerPort(){return a(this,xh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");b(this,xh,e)}static get workerSrc(){return a(this,Ah)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");b(this,Ah,e)}}xh=new WeakMap,Ah=new WeakMap,E(Pi,xh,null),E(Pi,Ah,"");var Ic,Sh;class YN{constructor({parsedData:e,rawData:t}){E(this,Ic);E(this,Sh);b(this,Ic,e),b(this,Sh,t)}getRaw(){return a(this,Sh)}get(e){return a(this,Ic).get(e)??null}[Symbol.iterator](){return a(this,Ic).entries()}}Ic=new WeakMap,Sh=new WeakMap;const rc=Symbol("INTERNAL");var Eh,_h,Ch,Dc;class KN{constructor(e,{name:t,intent:n,usage:r,rbGroups:o}){E(this,Eh,!1);E(this,_h,!1);E(this,Ch,!1);E(this,Dc,!0);b(this,Eh,!!(e&ci.DISPLAY)),b(this,_h,!!(e&ci.PRINT)),this.name=t,this.intent=n,this.usage=r,this.rbGroups=o}get visible(){if(a(this,Ch))return a(this,Dc);if(!a(this,Dc))return!1;const{print:e,view:t}=this.usage;return a(this,Eh)?(t==null?void 0:t.viewState)!=="OFF":a(this,_h)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==rc&&Ze("Internal method `_setVisible` called."),b(this,Ch,n),b(this,Dc,t)}}Eh=new WeakMap,_h=new WeakMap,Ch=new WeakMap,Dc=new WeakMap;var wo,Qe,Fc,Oc,kh,c0;class QN{constructor(e,t=ci.DISPLAY){E(this,kh);E(this,wo,null);E(this,Qe,new Map);E(this,Fc,null);E(this,Oc,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,b(this,Oc,e.order);for(const n of e.groups)a(this,Qe).set(n.id,new KN(t,n));if(e.baseState==="OFF")for(const n of a(this,Qe).values())n._setVisible(rc,!1);for(const n of e.on)a(this,Qe).get(n)._setVisible(rc,!0);for(const n of e.off)a(this,Qe).get(n)._setVisible(rc,!1);b(this,Fc,this.getHash())}}isVisible(e){if(a(this,Qe).size===0)return!0;if(!e)return hm("Optional content group not defined."),!0;if(e.type==="OCG")return a(this,Qe).has(e.id)?a(this,Qe).get(e.id).visible:(Pe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return C(this,kh,c0).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!a(this,Qe).has(t))return Pe(`Optional content group not found: ${t}`),!0;if(a(this,Qe).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!a(this,Qe).has(t))return Pe(`Optional content group not found: ${t}`),!0;if(!a(this,Qe).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!a(this,Qe).has(t))return Pe(`Optional content group not found: ${t}`),!0;if(!a(this,Qe).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!a(this,Qe).has(t))return Pe(`Optional content group not found: ${t}`),!0;if(a(this,Qe).get(t).visible)return!1}return!0}return Pe(`Unknown optional content policy ${e.policy}.`),!0}return Pe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var o;const r=a(this,Qe).get(e);if(!r){Pe(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const l of r.rbGroups)for(const u of l)u!==e&&((o=a(this,Qe).get(u))==null||o._setVisible(rc,!1,!0));r._setVisible(rc,!!t,!0),b(this,wo,null)}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const o=a(this,Qe).get(r);if(o)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!o.visible,t);break}}b(this,wo,null)}get hasInitialVisibility(){return a(this,Fc)===null||this.getHash()===a(this,Fc)}getOrder(){return a(this,Qe).size?a(this,Oc)?a(this,Oc).slice():[...a(this,Qe).keys()]:null}getGroup(e){return a(this,Qe).get(e)||null}getHash(){if(a(this,wo)!==null)return a(this,wo);const e=new cE;for(const[t,n]of a(this,Qe))e.update(`${t}:${n.visible}`);return b(this,wo,e.hexdigest())}[Symbol.iterator](){return a(this,Qe).entries()}}wo=new WeakMap,Qe=new WeakMap,Fc=new WeakMap,Oc=new WeakMap,kh=new WeakSet,c0=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const o=e[r];let l;if(Array.isArray(o))l=C(this,kh,c0).call(this,o);else if(a(this,Qe).has(o))l=a(this,Qe).get(o).visible;else return Pe(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class JN{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Lt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:l,contentDispositionFilename:u}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,(o==null?void 0:o.length)>0){const h=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((h,p)=>{this._onReceiveData({begin:h,chunk:p})}),e.addProgressListener((h,p)=>{this._onProgress({loaded:h,total:p})}),e.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});Lt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,r,o;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Lt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new ZN(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new e2(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class ZN{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=pm(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class e2{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function t2(d){let e=!0,t=n("filename\\*","i").exec(d);if(t){t=t[1];let g=u(t);return g=unescape(g),g=h(g),g=p(g),o(g)}if(t=l(d),t){const g=p(t);return o(g)}if(t=n("filename","i").exec(d),t){t=t[1];let g=u(t);return g=p(g),o(g)}function n(g,y){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function r(g,y){if(g){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const v=new TextDecoder(g,{fatal:!0}),x=Ef(y);y=v.decode(x),e=!1}catch{}}return y}function o(g){return e&&/[\x80-\xff]/.test(g)&&(g=r("utf-8",g),e&&(g=r("iso-8859-1",g))),g}function l(g){const y=[];let v;const x=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=x.exec(g))!==null;){let[,A,T,P]=v;if(A=parseInt(A,10),A in y){if(A===0)break;continue}y[A]=[T,P]}const S=[];for(let A=0;A<y.length&&A in y;++A){let[T,P]=y[A];P=u(P),T&&(P=unescape(P),A===0&&(P=h(P))),S.push(P)}return S.join("")}function u(g){if(g.startsWith('"')){const y=g.slice(1).split('\\"');for(let v=0;v<y.length;++v){const x=y[v].indexOf('"');x!==-1&&(y[v]=y[v].slice(0,x),y.length=v+1),y[v]=y[v].replaceAll(/\\(.)/g,"$1")}g=y.join('"')}return g}function h(g){const y=g.indexOf("'");if(y===-1)return g;const v=g.slice(0,y),S=g.slice(y+1).replace(/^[^']*'/,"");return r(v,S)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,v,x,S){if(x==="q"||x==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,T){return String.fromCharCode(parseInt(T,16))}),r(v,S);try{S=atob(S)}catch{}return r(v,S)})}return""}function AE(d,e){const t=new Headers;if(!d||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function mm(d){var e;return((e=URL.parse(d))==null?void 0:e.origin)??null}function SE({responseHeaders:d,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(d.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*t)||n||!e||d.get("Accept-Ranges")!=="bytes"||(d.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function EE(d){const e=d.get("Content-Disposition");if(e){let t=t2(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(pm(t))return t}return null}function Tf(d,e){return new Ud(`Unexpected server response (${d}) while retrieving PDF "${e}".`,d,d===404||d===0&&e.startsWith("file:"))}function _E(d){return d===200||d===206}function CE(d,e,t){return{method:"GET",headers:d,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function kE(d){return d instanceof Uint8Array?d.buffer:d instanceof ArrayBuffer?d:(Pe(`getArrayBuffer - unexpected data format: ${d}`),new Uint8Array(d).buffer)}class n2{constructor(e){te(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=AE(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Lt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new i2(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new s2(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class i2{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,CE(n,this._withCredentials,this._abortController)).then(o=>{if(e._responseOrigin=mm(o.url),!_E(o.status))throw Tf(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:u,suggestedLength:h}=SE({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=EE(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Pr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:kE(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class s2{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);const l=r.url;fetch(l,CE(o,this._withCredentials,this._abortController)).then(u=>{const h=mm(u.url);if(h!==e._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${e._responseOrigin}".`);if(!_E(u.status))throw Tf(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:kE(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Rv=200,Nv=206;function r2(d){const e=d.response;return typeof e!="string"?e:Ef(e).buffer}class o2{constructor({url:e,httpHeaders:t,withCredentials:n}){te(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=AE(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,l]of this.headers)t.setRequestHeader(o,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=Nv):r.expectedStatus=Rv,t.responseType="arraybuffer",Lt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var r;const n=this.pendingRequests[e];n&&((r=n.onProgress)==null||r.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){n.onError(r.status);return}const o=r.status||Rv;if(!(o===Rv&&n.expectedStatus===Nv)&&o!==n.expectedStatus){n.onError(r.status);return}const u=r2(r);if(o===Nv){const h=r.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);p?n.onDone({begin:parseInt(p[1],10),chunk:u}):(Pe('Missing or invalid "Content-Range" header.'),n.onError(0))}else u?n.onDone({begin:0,chunk:u}):n.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class a2{constructor(e){this._source=e,this._manager=new o2(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Lt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new l2(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new c2(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class l2{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=mm(t.responseURL);const n=t.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[h,...p]=u.split(": ");return[h,p.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=SE({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=EE(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Tf(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class c2{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=mm((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Tf(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const u2=/^[a-z][a-z0-9\-+.]+:/i;function d2(d){if(u2.test(d))return new URL(d);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(d))}class h2{constructor(e){this.source=e,this.url=d2(e.url),Lt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Lt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new f2(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new p2(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class f2{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Tf(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Pr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class p2{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const md=Symbol("INITIAL_DATA");var Jn,Th,u0;class TE{constructor(){E(this,Th);E(this,Jn,Object.create(null))}get(e,t=null){if(t){const r=C(this,Th,u0).call(this,e);return r.promise.then(()=>t(r.data)),null}const n=a(this,Jn)[e];if(!n||n.data===md)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=a(this,Jn)[e];return!!t&&t.data!==md}delete(e){const t=a(this,Jn)[e];return!t||t.data===md?!1:(delete a(this,Jn)[e],!0)}resolve(e,t=null){const n=C(this,Th,u0).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in a(this,Jn)){const{data:n}=a(this,Jn)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}b(this,Jn,Object.create(null))}*[Symbol.iterator](){for(const e in a(this,Jn)){const{data:t}=a(this,Jn)[e];t!==md&&(yield[e,t])}}}Jn=new WeakMap,Th=new WeakSet,u0=function(e){var t;return(t=a(this,Jn))[e]||(t[e]={...Promise.withResolvers(),data:md})};const g2=1e5,e1=30;var p1,bo,Hn,Ph,Rh,Oa,cr,Nh,Lh,ja,jc,zc,xo,Bc,Mh,Hc,za,Ih,Dh,xt,Uc,Ba,Fh,Ao,$c,Nr,PE,RE,d0,hi,fg,h0,NE,LE;let Vd=(xt=class{constructor({textContentSource:e,container:t,viewport:n}){E(this,Nr);E(this,bo,Promise.withResolvers());E(this,Hn,null);E(this,Ph,!1);E(this,Rh,!!((p1=globalThis.FontInspector)!=null&&p1.enabled));E(this,Oa,null);E(this,cr,null);E(this,Nh,0);E(this,Lh,0);E(this,ja,null);E(this,jc,null);E(this,zc,0);E(this,xo,0);E(this,Bc,Object.create(null));E(this,Mh,[]);E(this,Hc,null);E(this,za,[]);E(this,Ih,new WeakMap);E(this,Dh,null);var h;if(e instanceof ReadableStream)b(this,Hc,e);else if(typeof e=="object")b(this,Hc,new ReadableStream({start(p){p.enqueue(e),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,Hn,b(this,jc,t)),b(this,xo,n.scale*is.pixelRatio),b(this,zc,n.rotation),b(this,cr,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:l,pageY:u}=n.rawDims;b(this,Dh,[1,0,0,-1,-l,u+o]),b(this,Lh,r),b(this,Nh,o),C(h=xt,hi,NE).call(h),Uo(t,n),a(this,bo).promise.finally(()=>{a(xt,$c).delete(this),b(this,cr,null),b(this,Bc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Kt.platform;return je(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{a(this,ja).read().then(({value:t,done:n})=>{if(n){a(this,bo).resolve();return}a(this,Oa)??b(this,Oa,t.lang),Object.assign(a(this,Bc),t.styles),C(this,Nr,PE).call(this,t.items),e()},a(this,bo).reject)};return b(this,ja,a(this,Hc).getReader()),a(xt,$c).add(this),e(),a(this,bo).promise}update({viewport:e,onBefore:t=null}){var o;const n=e.scale*is.pixelRatio,r=e.rotation;if(r!==a(this,zc)&&(t==null||t(),b(this,zc,r),Uo(a(this,jc),{rotation:r})),n!==a(this,xo)){t==null||t(),b(this,xo,n);const l={div:null,properties:null,ctx:C(o=xt,hi,fg).call(o,a(this,Oa))};for(const u of a(this,za))l.properties=a(this,Ih).get(u),l.div=u,C(this,Nr,d0).call(this,l)}}cancel(){var t;const e=new Pr("TextLayer task cancelled.");(t=a(this,ja))==null||t.cancel(e).catch(()=>{}),b(this,ja,null),a(this,bo).reject(e)}get textDivs(){return a(this,za)}get textContentItemsStr(){return a(this,Mh)}static cleanup(){if(!(a(this,$c).size>0)){a(this,Uc).clear();for(const{canvas:e}of a(this,Ba).values())e.remove();a(this,Ba).clear()}}},bo=new WeakMap,Hn=new WeakMap,Ph=new WeakMap,Rh=new WeakMap,Oa=new WeakMap,cr=new WeakMap,Nh=new WeakMap,Lh=new WeakMap,ja=new WeakMap,jc=new WeakMap,zc=new WeakMap,xo=new WeakMap,Bc=new WeakMap,Mh=new WeakMap,Hc=new WeakMap,za=new WeakMap,Ih=new WeakMap,Dh=new WeakMap,Uc=new WeakMap,Ba=new WeakMap,Fh=new WeakMap,Ao=new WeakMap,$c=new WeakMap,Nr=new WeakSet,PE=function(e){var r,o;if(a(this,Ph))return;(o=a(this,cr)).ctx??(o.ctx=C(r=xt,hi,fg).call(r,a(this,Oa)));const t=a(this,za),n=a(this,Mh);for(const l of e){if(t.length>g2){Pe("Ignoring additional textDivs for performance reasons."),b(this,Ph,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const u=a(this,Hn);b(this,Hn,document.createElement("span")),a(this,Hn).classList.add("markedContent"),l.id!==null&&a(this,Hn).setAttribute("id",`${l.id}`),u.append(a(this,Hn))}else l.type==="endMarkedContent"&&b(this,Hn,a(this,Hn).parentNode);continue}n.push(l.str),C(this,Nr,RE).call(this,l)}},RE=function(e){var A;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};a(this,za).push(t);const r=we.transform(a(this,Dh),e.transform);let o=Math.atan2(r[1],r[0]);const l=a(this,Bc)[e.fontName];l.vertical&&(o+=Math.PI/2);let u=a(this,Rh)&&l.fontSubstitution||l.fontFamily;u=xt.fontFamilyMap.get(u)||u;const h=Math.hypot(r[2],r[3]),p=h*C(A=xt,hi,LE).call(A,u,l,a(this,Oa));let g,y;o===0?(g=r[4],y=r[5]-p):(g=r[4]+p*Math.sin(o),y=r[5]-p*Math.cos(o));const v="calc(var(--total-scale-factor) *",x=t.style;a(this,Hn)===a(this,jc)?(x.left=`${(100*g/a(this,Lh)).toFixed(2)}%`,x.top=`${(100*y/a(this,Nh)).toFixed(2)}%`):(x.left=`${v}${g.toFixed(2)}px)`,x.top=`${v}${y.toFixed(2)}px)`),x.fontSize=`${v}${(a(xt,Ao)*h).toFixed(2)}px)`,x.fontFamily=u,n.fontSize=h,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,a(this,Rh)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let S=!1;if(e.str.length>1)S=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const T=Math.abs(e.transform[0]),P=Math.abs(e.transform[3]);T!==P&&Math.max(T,P)/Math.min(T,P)>1.5&&(S=!0)}if(S&&(n.canvasWidth=l.vertical?e.height:e.width),a(this,Ih).set(t,n),a(this,cr).div=t,a(this,cr).properties=n,C(this,Nr,d0).call(this,a(this,cr)),n.hasText&&a(this,Hn).append(t),n.hasEOL){const T=document.createElement("br");T.setAttribute("role","presentation"),a(this,Hn).append(T)}},d0=function(e){var u;const{div:t,properties:n,ctx:r}=e,{style:o}=t;let l="";if(a(xt,Ao)>1&&(l=`scale(${1/a(xt,Ao)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:h}=o,{canvasWidth:p,fontSize:g}=n;C(u=xt,hi,h0).call(u,r,g*a(this,xo),h);const{width:y}=r.measureText(t.textContent);y>0&&(l=`scaleX(${p*a(this,xo)/y}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)},hi=new WeakSet,fg=function(e=null){let t=a(this,Ba).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),a(this,Ba).set(e,t),a(this,Fh).set(t,{size:0,family:""})}return t},h0=function(e,t,n){const r=a(this,Fh).get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)},NE=function(){if(a(this,Ao)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),b(this,Ao,e.getBoundingClientRect().height),e.remove()},LE=function(e,t,n){const r=a(this,Uc).get(e);if(r)return r;const o=C(this,hi,fg).call(this,n);o.canvas.width=o.canvas.height=e1,C(this,hi,h0).call(this,o,e1,e);const l=o.measureText(""),u=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let p=.8;return u?p=u/(u+h):(Kt.platform.isFirefox&&Pe("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?p=t.ascent:t.descent&&(p=1+t.descent)),a(this,Uc).set(e,p),p},E(xt,hi),E(xt,Uc,new Map),E(xt,Ba,new Map),E(xt,Fh,new WeakMap),E(xt,Ao,null),E(xt,$c,new Set),xt);class Wd{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(o){var h;if(!o)return;let l=null;const u=o.name;if(u==="#text")l=o.value;else if(Wd.shouldBuildText(u))(h=o==null?void 0:o.attributes)!=null&&h.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&t.push({str:l}),!!o.children)for(const p of o.children)r(p)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const m2=100;function dw(d={}){typeof d=="string"||d instanceof URL?d={url:d}:(d instanceof ArrayBuffer||ArrayBuffer.isView(d))&&(d={data:d});const e=new f0,{docId:t}=e,n=d.url?CN(d.url):null,r=d.data?kN(d.data):null,o=d.httpHeaders||null,l=d.withCredentials===!0,u=d.password??null,h=d.range instanceof hw?d.range:null,p=Number.isInteger(d.rangeChunkSize)&&d.rangeChunkSize>0?d.rangeChunkSize:2**16;let g=d.worker instanceof Au?d.worker:null;const y=d.verbosity,v=typeof d.docBaseUrl=="string"&&!Cf(d.docBaseUrl)?d.docBaseUrl:null,x=Yp(d.cMapUrl),S=d.cMapPacked!==!1,A=d.CMapReaderFactory||(Cn?IN:UA),T=Yp(d.iccUrl),P=Yp(d.standardFontDataUrl),R=d.StandardFontDataFactory||(Cn?DN:$A),L=Yp(d.wasmUrl),M=d.WasmFactory||(Cn?FN:VA),I=d.stopAtErrors!==!0,B=Number.isInteger(d.maxImageSize)&&d.maxImageSize>-1?d.maxImageSize:-1,O=d.isEvalSupported!==!1,V=typeof d.isOffscreenCanvasSupported=="boolean"?d.isOffscreenCanvasSupported:!Cn,G=typeof d.isImageDecoderSupported=="boolean"?d.isImageDecoderSupported:!Cn&&(Kt.platform.isFirefox||!globalThis.chrome),K=Number.isInteger(d.canvasMaxAreaInBytes)?d.canvasMaxAreaInBytes:-1,ee=typeof d.disableFontFace=="boolean"?d.disableFontFace:Cn,re=d.fontExtraProperties===!0,ye=d.enableXfa===!0,oe=d.ownerDocument||globalThis.document,Re=d.disableRange===!0,Q=d.disableStream===!0,q=d.disableAutoFetch===!0,J=d.pdfBug===!0,ae=d.CanvasFactory||(Cn?MN:RN),ie=d.FilterFactory||(Cn?LN:NN),j=d.enableHWA===!0,W=d.useWasm!==!1,ue=h?h.length:d.length??NaN,xe=typeof d.useSystemFonts=="boolean"?d.useSystemFonts:!Cn&&!ee,Ce=typeof d.useWorkerFetch=="boolean"?d.useWorkerFetch:!!(A===UA&&R===$A&&M===VA&&x&&P&&L&&wd(x,document.baseURI)&&wd(P,document.baseURI)&&wd(L,document.baseURI)),_e=null;lN(y);const be={canvasFactory:new ae({ownerDocument:oe,enableHWA:j}),filterFactory:new ie({docId:t,ownerDocument:oe}),cMapReaderFactory:Ce?null:new A({baseUrl:x,isCompressed:S}),standardFontDataFactory:Ce?null:new R({baseUrl:P}),wasmFactory:Ce?null:new M({baseUrl:L})};g||(g=Au.create({verbosity:y,port:Pi.workerPort}),e._worker=g);const Me={docId:t,apiVersion:"5.3.93",data:r,password:u,disableAutoFetch:q,rangeChunkSize:p,length:ue,docBaseUrl:v,enableXfa:ye,evaluatorOptions:{maxImageSize:B,disableFontFace:ee,ignoreErrors:I,isEvalSupported:O,isOffscreenCanvasSupported:V,isImageDecoderSupported:G,canvasMaxAreaInBytes:K,fontExtraProperties:re,useSystemFonts:xe,useWasm:W,useWorkerFetch:Ce,cMapUrl:x,iccUrl:T,standardFontDataUrl:P,wasmUrl:L}},ze={ownerDocument:oe,pdfBug:J,styleElement:_e,loadingParams:{disableAutoFetch:q,enableXfa:ye}};return g.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Oe=g.messageHandler.sendWithPromise("GetDocRequest",Me,r?[r.buffer]:null);let Nn;if(h)Nn=new JN(h,{disableRange:Re,disableStream:Q});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const fi=wd(n)?n2:Cn?h2:a2;Nn=new fi({url:n,length:ue,httpHeaders:o,withCredentials:l,rangeChunkSize:p,disableRange:Re,disableStream:Q})}return Oe.then(fi=>{if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Be=new Ed(t,fi,g.port),Ke=new w2(Be,e,Nn,ze,be);e._transport=Ke,Be.send("Ready",null)})}).catch(e._capability.reject),e}var Qg;const Jg=class Jg{constructor(){te(this,"_capability",Promise.withResolvers());te(this,"_transport",null);te(this,"_worker",null);te(this,"docId",`d${bn(Jg,Qg)._++}`);te(this,"destroyed",!1);te(this,"onPassword",null);te(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(o){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,o}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Qg=new WeakMap,E(Jg,Qg,0);let f0=Jg;var Ha,Oh,jh,zh,Bh,g1;let hw=(g1=class{constructor(e,t,n=!1,r=null){E(this,Ha,Promise.withResolvers());E(this,Oh,[]);E(this,jh,[]);E(this,zh,[]);E(this,Bh,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(e){a(this,Bh).push(e)}addProgressListener(e){a(this,zh).push(e)}addProgressiveReadListener(e){a(this,jh).push(e)}addProgressiveDoneListener(e){a(this,Oh).push(e)}onDataRange(e,t){for(const n of a(this,Bh))n(e,t)}onDataProgress(e,t){a(this,Ha).promise.then(()=>{for(const n of a(this,zh))n(e,t)})}onDataProgressiveRead(e){a(this,Ha).promise.then(()=>{for(const t of a(this,jh))t(e)})}onDataProgressiveDone(){a(this,Ha).promise.then(()=>{for(const e of a(this,Oh))e()})}transportReady(){a(this,Ha).resolve()}requestDataRange(e,t){Ze("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Ha=new WeakMap,Oh=new WeakMap,jh=new WeakMap,zh=new WeakMap,Bh=new WeakMap,g1);class y2{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return je(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ur,Ua,Pd;class v2{constructor(e,t,n,r=!1){E(this,Ua);E(this,ur,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new zA:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new TE,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:o=!1}={}){return new _f({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return je(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=Ms.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:u=null,annotationCanvasMap:h=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:y=!1}){var M,I;(M=this._stats)==null||M.time("Overall");const v=this._transport.getRenderingIntent(n,r,g,y),{renderingIntent:x,cacheKey:S}=v;b(this,ur,!1),u||(u=this._transport.getOptionalContentConfig(x));let A=this._intentStates.get(S);A||(A=Object.create(null),this._intentStates.set(S,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);const T=!!(x&ci.PRINT);A.displayReadyCapability||(A.displayReadyCapability=Promise.withResolvers(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(I=this._stats)==null||I.time("Page Request"),this._pumpOperatorList(v));const P=B=>{var O;A.renderTasks.delete(R),T&&b(this,ur,!0),C(this,Ua,Pd).call(this),B?(R.capability.reject(B),this._abortOperatorList({intentState:A,reason:B instanceof Error?B:new Error(B)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(O=globalThis.Stats)!=null&&O.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new p0({callback:P,params:{canvasContext:e,viewport:t,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:p});(A.renderTasks||(A.renderTasks=new Set)).add(R);const L=R.task;return Promise.all([A.displayReadyCapability.promise,u]).then(([B,O])=>{var V;if(this.destroyed){P();return}if((V=this._stats)==null||V.time("Rendering"),!(O.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:B,optionalContentConfig:O}),R.operatorListChanged()}).catch(P),L}getOperatorList({intent:e="display",annotationMode:t=Ms.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var p;function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(e,t,n,r,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let h;return u.opListReadCapability||(h=Object.create(null),h.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(h),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Wd.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function o(){l.read().then(function({value:h,done:p}){if(p){n(u);return}u.lang??(u.lang=h.lang),Object.assign(u.styles,h.styles),u.items.push(...h.items),o()},r)}const l=t.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),b(this,ur,!1),Promise.all(e)}cleanup(e=!1){b(this,ur,!0);const t=C(this,Ua,Pd).call(this);return e&&t&&this._stats&&(this._stats=new zA),t}_startRenderPage(e,t){var r,o;const n=this._intentStates.get(t);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&C(this,Ua,Pd).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:o,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:r},l).getReader(),p=this._intentStates.get(t);p.streamReader=h;const g=()=>{h.read().then(({value:y,done:v})=>{if(v){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,p),g())},y=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const v of p.renderTasks)v.operatorListChanged();C(this,Ua,Pd).call(this)}if(p.displayReadyCapability)p.displayReadyCapability.reject(y);else if(p.opListReadCapability)p.opListReadCapability.reject(y);else throw y}})};g()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof fm){let r=m2;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Pr(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}ur=new WeakMap,Ua=new WeakSet,Pd=function(){if(!a(this,ur)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,ur,!1),!0};var So,Xi,dr,$a,Zg,Va,Wa,Pn,pg,ME,IE,Rd,Vc,gg;const ct=class ct{constructor({name:e=null,port:t=null,verbosity:n=cN()}={}){E(this,Pn);E(this,So,Promise.withResolvers());E(this,Xi,null);E(this,dr,null);E(this,$a,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(a(ct,Wa).has(t))throw new Error("Cannot use more than one PDFWorker per port.");a(ct,Wa).set(t,this),C(this,Pn,ME).call(this,t)}else C(this,Pn,IE).call(this)}get promise(){return a(this,So).promise}get port(){return a(this,dr)}get messageHandler(){return a(this,Xi)}destroy(){var e,t;this.destroyed=!0,(e=a(this,$a))==null||e.terminate(),b(this,$a,null),a(ct,Wa).delete(a(this,dr)),b(this,dr,null),(t=a(this,Xi))==null||t.destroy(),b(this,Xi,null)}static create(e){const t=a(this,Wa).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ct(e)}static get workerSrc(){if(Pi.workerSrc)return Pi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return je(this,"_setupFakeWorkerGlobal",(async()=>a(this,Vc,gg)?a(this,Vc,gg):(await import(this.workerSrc)).WorkerMessageHandler)())}};So=new WeakMap,Xi=new WeakMap,dr=new WeakMap,$a=new WeakMap,Zg=new WeakMap,Va=new WeakMap,Wa=new WeakMap,Pn=new WeakSet,pg=function(){a(this,So).resolve(),a(this,Xi).send("configure",{verbosity:this.verbosity})},ME=function(e){b(this,dr,e),b(this,Xi,new Ed("main","worker",e)),a(this,Xi).on("ready",()=>{}),C(this,Pn,pg).call(this)},IE=function(){if(a(ct,Va)||a(ct,Vc,gg)){C(this,Pn,Rd).call(this);return}let{workerSrc:e}=ct;try{ct._isSameOrigin(window.location,e)||(e=ct._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Ed("main","worker",t),r=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?a(this,So).reject(new Error("Worker was destroyed")):C(this,Pn,Rd).call(this)},o=new AbortController;t.addEventListener("error",()=>{a(this,$a)||r()},{signal:o.signal}),n.on("test",u=>{if(o.abort(),this.destroyed||!u){r();return}b(this,Xi,n),b(this,dr,t),b(this,$a,t),C(this,Pn,pg).call(this)}),n.on("ready",u=>{if(o.abort(),this.destroyed){r();return}try{l()}catch{C(this,Pn,Rd).call(this)}});const l=()=>{const u=new Uint8Array;n.send("test",u,[u.buffer])};l();return}catch{hm("The worker has been disabled.")}C(this,Pn,Rd).call(this)},Rd=function(){a(ct,Va)||(Pe("Setting up fake worker."),b(ct,Va,!0)),ct._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){a(this,So).reject(new Error("Worker was destroyed"));return}const t=new PN;b(this,dr,t);const n=`fake${bn(ct,Zg)._++}`,r=new Ed(n+"_worker",n,t);e.setup(r,t),b(this,Xi,new Ed(n,n+"_worker",t)),C(this,Pn,pg).call(this)}).catch(e=>{a(this,So).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Vc=new WeakSet,gg=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},E(ct,Vc),E(ct,Zg,0),E(ct,Va,!1),E(ct,Wa,new WeakMap),Cn&&(b(ct,Va,!0),Pi.workerSrc||(Pi.workerSrc="./pdf.worker.mjs")),ct._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const r=new URL(t,n);return n.origin===r.origin},ct._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},ct.fromPort=e=>{if(vN("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ct.create(e)};let Au=ct;var hr,Es,Wc,Gc,fr,Ga,Nd;class w2{constructor(e,t,n,r,o){E(this,Ga);E(this,hr,new Map);E(this,Es,new Map);E(this,Wc,new Map);E(this,Gc,new Map);E(this,fr,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new TE,this.fontLoader=new EN({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return je(this,"annotationStorage",new lw)}getRenderingIntent(e,t=Ms.ENABLE,n=null,r=!1,o=!1){let l=ci.DISPLAY,u=e0;switch(e){case"any":l=ci.ANY;break;case"display":break;case"print":l=ci.PRINT;break;default:Pe(`getRenderingIntent - invalid intent: ${e}`)}const h=l&ci.PRINT&&n instanceof dE?n:this.annotationStorage;switch(t){case Ms.DISABLE:l+=ci.ANNOTATIONS_DISABLE;break;case Ms.ENABLE:break;case Ms.ENABLE_FORMS:l+=ci.ANNOTATIONS_FORMS;break;case Ms.ENABLE_STORAGE:l+=ci.ANNOTATIONS_STORAGE,u=h.serializable;break;default:Pe(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(l+=ci.IS_EDITING),o&&(l+=ci.OPLIST);const{ids:p,hash:g}=h.modifiedIds,y=[l,u.hash,g];return{renderingIntent:l,cacheKey:y.join("_"),annotationStorageSerializable:u,modifiedIds:p}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=a(this,fr))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of a(this,Es).values())e.push(r._destroy());a(this,Es).clear(),a(this,Wc).clear(),a(this,Gc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,o;this.commonObjs.clear(),this.fontLoader.clear(),a(this,hr).clear(),this.filterFactory.destroy(),Vd.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Pr("Worker was terminated.")),(o=this.messageHandler)==null||o.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{Lt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){r.close();return}Lt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{var u;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:l}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((u=t.onProgress)==null||u.call(t,this._lastProgress)),this._fullReader.onProgress=h=>{var p;(p=t.onProgress)==null||p.call(t,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:l}}),e.on("GetRangeReader",(n,r)=>{Lt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:l,done:u}){if(u){r.close();return}Lt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{o.cancel(l),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new y2(n,this))}),e.on("DocException",n=>{t._capability.reject(jn(n))}),e.on("PasswordRequest",n=>{b(this,fr,Promise.withResolvers());try{if(!t.onPassword)throw jn(n);const r=o=>{o instanceof Error?a(this,fr).reject(o):a(this,fr).resolve({password:o})};t.onPassword(r,n.code)}catch(r){a(this,fr).reject(r)}return a(this,fr).promise}),e.on("DataLoaded",n=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;a(this,Es).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,o])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in o){const g=o.error;Pe(`Error during font loading: ${g}`),this.commonObjs.resolve(n,g);break}const u=this._params.pdfBug&&((l=globalThis.FontInspector)!=null&&l.enabled)?(g,y)=>globalThis.FontInspector.fontAdded(g,y):null,h=new _N(o,u);this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(n,h)});break;case"CopyLocalImage":const{imageRef:p}=o;Lt(p,"The imageRef must be defined.");for(const g of a(this,Es).values())for(const[,y]of g.objs)if((y==null?void 0:y.ref)===p)return y.dataLen?(this.commonObjs.resolve(n,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,o,l])=>{var h;if(this.destroyed)return;const u=a(this,Es).get(r);if(!u.objs.has(n)){if(u._intentStates.size===0){(h=l==null?void 0:l.bitmap)==null||h.close();return}switch(o){case"Image":case"Pattern":u.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Pe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=a(this,Wc).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&a(this,Gc).set(o.refStr,e);const l=new v2(t,o,this,this._params.pdfBug);return a(this,Es).set(t,l),l});return a(this,Wc).set(t,r),r}getPageIndex(e){return t0(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return C(this,Ga,Nd).call(this,"GetFieldObjects")}hasJSActions(){return C(this,Ga,Nd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return C(this,Ga,Nd).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return C(this,Ga,Nd).call(this,"GetOptionalContentConfig").then(t=>new QN(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=a(this,hr).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>{var o,l;return{info:r[0],metadata:r[1]?new YN(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return a(this,hr).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of a(this,Es).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),a(this,hr).clear(),this.filterFactory.destroy(!0),Vd.cleanup()}}cachedPageNumber(e){if(!t0(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return a(this,Gc).get(t)??null}}hr=new WeakMap,Es=new WeakMap,Wc=new WeakMap,Gc=new WeakMap,fr=new WeakMap,Ga=new WeakSet,Nd=function(e,t=null){const n=a(this,hr).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return a(this,hr).set(e,r),r};var Eo;class b2{constructor(e){E(this,Eo,null);te(this,"onContinue",null);te(this,"onError",null);b(this,Eo,e)}get promise(){return a(this,Eo).capability.promise}cancel(e=0){a(this,Eo).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=a(this,Eo).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=a(this,Eo);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Eo=new WeakMap;var _o,Xa;const fa=class fa{constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:o,operatorList:l,pageIndex:u,canvasFactory:h,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:y=!1,pageColors:v=null}){E(this,_o,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=h,this.filterFactory=p,this._pdfBug=y,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new b2(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var u,h;if(this.cancelled)return;if(this._canvas){if(a(fa,Xa).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a(fa,Xa).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:o,background:l}=this.params;this.gfx=new fc(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(e=null,t=0){var n,r,o;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),a(this,_o)&&(window.cancelAnimationFrame(a(this,_o)),b(this,_o,null)),a(fa,Xa).delete(this._canvas),e||(e=new fm(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(o=(r=this.task).onError)==null||o.call(r,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,_o,window.requestAnimationFrame(()=>{b(this,_o,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),a(fa,Xa).delete(this._canvas),this.callback())))}};_o=new WeakMap,Xa=new WeakMap,E(fa,Xa,new WeakSet);let p0=fa;const fw="5.3.93",DE="cbeef3233";function t1(d){return Math.floor(Math.max(0,Math.min(1,d))*255).toString(16).padStart(2,"0")}function yd(d){return Math.max(0,Math.min(255,255*d))}class n1{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=yd(e),[e,e,e]}static G_HTML([e]){const t=t1(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(yd)}static RGB_HTML(e){return`#${e.map(t1).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[yd(1-Math.min(1,e+r)),yd(1-Math.min(1,n+r)),yd(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,o=1-t,l=1-n,u=Math.min(r,o,l);return["CMYK",r,o,l,u]}}class x2{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ze("Abstract method `_createSVG` called.")}}class Gd extends x2{_createSVG(e){return document.createElementNS(Gs,e)}}class pw{static setupStorage(e,t,n,r,o){const l=r.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),o==="print")break;e.addEventListener("input",u=>{r.setValue(t,{value:u.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",u=>{r.setValue(t,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),o==="print")break;e.addEventListener("input",u=>{r.setValue(t,{value:u.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const u of n.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}e.addEventListener("input",u=>{const h=u.target.options,p=h.selectedIndex===-1?"":h[h.selectedIndex].value;r.setValue(t,{value:p})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:o}){const{attributes:l}=t,u=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[h,p]of Object.entries(l))if(p!=null)switch(h){case"class":p.length&&e.setAttribute(h,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!u||h!=="href"&&h!=="newWindow")&&e.setAttribute(h,p)}u&&o.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){var y,v;const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,o=e.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:o,linkService:n});const u=o!=="richText",h=e.div;if(h.append(l),e.viewport){const x=`matrix(${e.viewport.transform.join(",")})`;h.style.transform=x}u&&h.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const x=document.createTextNode(r.value);l.append(x),u&&Wd.shouldBuildText(r.name)&&p.push(x)}return{textDivs:p}}const g=[[r,-1,l]];for(;g.length>0;){const[x,S,A]=g.at(-1);if(S+1===x.children.length){g.pop();continue}const T=x.children[++g.at(-1)[1]];if(T===null)continue;const{name:P}=T;if(P==="#text"){const L=document.createTextNode(T.value);p.push(L),A.append(L);continue}const R=(y=T==null?void 0:T.attributes)!=null&&y.xmlns?document.createElementNS(T.attributes.xmlns,P):document.createElement(P);if(A.append(R),T.attributes&&this.setAttributes({html:R,element:T,storage:t,intent:o,linkService:n}),((v=T.children)==null?void 0:v.length)>0)g.push([T,-1,R]);else if(T.value){const L=document.createTextNode(T.value);u&&Wd.shouldBuildText(P)&&p.push(L),R.append(L)}}for(const x of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))x.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const A2=9,Sl=new WeakSet;class i1{static create(e){switch(e.data.annotationType){case _t.LINK:return new FE(e);case _t.TEXT:return new S2(e);case _t.WIDGET:switch(e.data.fieldType){case"Tx":return new E2(e);case"Btn":return e.data.radioButton?new zE(e):e.data.checkBox?new C2(e):new k2(e);case"Ch":return new T2(e);case"Sig":return new _2(e)}return new kl(e);case _t.POPUP:return new m0(e);case _t.FREETEXT:return new VE(e);case _t.LINE:return new R2(e);case _t.SQUARE:return new N2(e);case _t.CIRCLE:return new L2(e);case _t.POLYLINE:return new WE(e);case _t.CARET:return new I2(e);case _t.INK:return new gw(e);case _t.POLYGON:return new M2(e);case _t.HIGHLIGHT:return new GE(e);case _t.UNDERLINE:return new D2(e);case _t.SQUIGGLY:return new F2(e);case _t.STRIKEOUT:return new O2(e);case _t.STAMP:return new XE(e);case _t.FILEATTACHMENT:return new j2(e);default:return new Pt(e)}}}var qa,Xc,qc,Hh,g0;const Aw=class Aw{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){E(this,Hh);E(this,qa,null);E(this,Xc,!1);E(this,qc,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Aw._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;a(this,qa)||b(this,qa,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&C(this,Hh,g0).call(this,t),(n=a(this,qc))==null||n.popup.updateEdited(e)}resetEdited(){var e;a(this,qa)&&(C(this,Hh,g0).call(this,a(this,qa).rect),(e=a(this,qc))==null||e.popup.resetEdited(),b(this,qa,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof kl||(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof m0){const{rotation:A}=t;return!t.hasOwnCanvas&&A!==0&&this.setRotation(A,o),o}const{width:u,height:h}=this;if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const A=t.borderStyle.horizontalCornerRadius,T=t.borderStyle.verticalCornerRadius;if(A>0||T>0){const R=`calc(${A}px * var(--total-scale-factor)) / calc(${T}px * var(--total-scale-factor))`;l.borderRadius=R}else if(this instanceof zE){const R=`calc(${u}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;l.borderRadius=R}switch(t.borderStyle.style){case tc.SOLID:l.borderStyle="solid";break;case tc.DASHED:l.borderStyle="dashed";break;case tc.BEVELED:Pe("Unimplemented border style: beveled");break;case tc.INSET:Pe("Unimplemented border style: inset");break;case tc.UNDERLINE:l.borderBottomStyle="solid";break}const P=t.borderColor||null;P?(b(this,Xc,!0),l.borderColor=we.makeHexColor(P[0]|0,P[1]|0,P[2]|0)):l.borderWidth=0}const p=we.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:g,pageHeight:y,pageX:v,pageY:x}=r.rawDims;l.left=`${100*(p[0]-v)/g}%`,l.top=`${100*(p[1]-x)/y}%`;const{rotation:S}=t;return t.hasOwnCanvas||S===0?(l.width=`${100*u/g}%`,l.height=`${100*h/y}%`):this.setRotation(S,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:o,height:l}=this;e%180!==0&&([o,l]=[l,o]),t.style.width=`${100*o/n}%`,t.style.height=`${100*l/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const o=r.detail[t],l=o[0],u=o.slice(1);r.target.style[n]=n1[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[n]:n1[`${l}_rgb`](u)})};return je(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const o=e[r]||n[r];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,o]of Object.entries(t)){const l=n[r];if(l){const u={detail:{[r]:o},target:e};l(u),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,o]=this.data.rect.map(A=>Math.fround(A));if(e.length===8){const[A,T,P,R]=e.subarray(2,6);if(r===A&&o===T&&t===P&&n===R)return}const{style:l}=this.container;let u;if(a(this,Xc)){const{borderColor:A,borderWidth:T}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const h=r-t,p=o-n,{svgFactory:g}=this,y=g.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0),y.role="none";const v=g.createElement("defs");y.append(v);const x=g.createElement("clipPath"),S=`clippath_${this.data.id}`;x.setAttribute("id",S),x.setAttribute("clipPathUnits","objectBoundingBox"),v.append(x);for(let A=2,T=e.length;A<T;A+=8){const P=e[A],R=e[A+1],L=e[A+2],M=e[A+3],I=g.createElement("rect"),B=(L-t)/h,O=(o-R)/p,V=(P-L)/h,G=(R-M)/p;I.setAttribute("x",B),I.setAttribute("y",O),I.setAttribute("width",V),I.setAttribute("height",G),x.append(I),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${O}" width="${V}" height="${G}"/>`)}a(this,Xc)&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(y),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:e}=this,t=b(this,qc,new m0({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Ze("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:o,id:l,exportValues:u}of r){if(o===-1||l===t)continue;const h=typeof u=="string"?u:null,p=document.querySelector(`[data-element-id="${l}"]`);if(p&&!Sl.has(p)){Pe(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:p})}return n}for(const r of document.getElementsByName(e)){const{exportValue:o}=r,l=r.getAttribute("data-element-id");l!==t&&Sl.has(r)&&n.push({id:l,exportValue:o,domElement:r})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};qa=new WeakMap,Xc=new WeakMap,qc=new WeakMap,Hh=new WeakSet,g0=function(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:u,pageY:h}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-u)/o}%`,t.top=`${100*(l-e[3]+h)/l}%`,r===0?(t.width=`${100*(e[2]-e[0])/o}%`,t.height=`${100*(e[3]-e[1])/l}%`):this.setRotation(r)};let Pt=Aw;var di,ca,OE,jE;class FE extends Pt{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});E(this,di);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(r,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(r,t.action),o=!0):t.attachment?(C(this,di,OE).call(this,r,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(C(this,di,jE).call(this,r,t.setOCGState),o=!0):t.dest?(this._bindLink(r,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),o=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&C(this,di,ca).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),C(this,di,ca).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const l=r.get(o);l&&(t[l]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),C(this,di,ca).call(this)}_bindResetFormAction(t,n){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),C(this,di,ca).call(this),!this._fieldObjects){Pe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var y;r==null||r();const{fields:o,refs:l,include:u}=n,h=[];if(o.length!==0||l.length!==0){const v=new Set(l);for(const x of o){const S=this._fieldObjects[x]||[];for(const{id:A}of S)v.add(A)}for(const x of Object.values(this._fieldObjects))for(const S of x)v.has(S.id)===u&&h.push(S)}else for(const v of Object.values(this._fieldObjects))h.push(...v);const p=this.annotationStorage,g=[];for(const v of h){const{id:x}=v;switch(g.push(x),v.type){case"text":{const A=v.defaultValue||"";p.setValue(x,{value:A});break}case"checkbox":case"radiobutton":{const A=v.defaultValue===v.exportValues;p.setValue(x,{value:A});break}case"combobox":case"listbox":{const A=v.defaultValue||"";p.setValue(x,{value:A});break}default:continue}const S=document.querySelector(`[data-element-id="${x}"]`);if(S){if(!Sl.has(S)){Pe(`_bindResetFormAction - element not allowed: ${x}`);continue}}else continue;S.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}di=new WeakSet,ca=function(){this.container.setAttribute("data-internal-link","")},OE=function(t,n,r=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,r),!1},C(this,di,ca).call(this)},jE=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),C(this,di,ca).call(this)};class S2 extends Pt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class kl extends Pt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Kt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,o){n.includes("mouse")?e.addEventListener(n,l=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{var u;if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l)}}))})}_setEventListeners(e,t,n,r){var o,l,u;for(const[h,p]of n)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,h,p,r),p==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):p==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":we.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||A2,o=e.style;let l;const u=2,h=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u),g=Math.round(p/(Ev*r))||1,y=p/g;l=Math.min(r,h(y/Ev))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(r,h(p/Ev))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=we.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class E2 extends kl{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const o=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),o.setValue(l.id,{[r]:n})}render(){var r,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let u=l.value||"";const h=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;h&&u.length>h&&(u=u.slice(0,h));let p=l.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const g={userValue:u,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=p??u,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",p??u),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Sl.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const y=this.data.dateFormat||this.data.timeFormat;y&&(n.title=y),this._setRequired(n,this.data.required),h&&(n.maxLength=h),n.addEventListener("input",x=>{e.setValue(t,{value:x.target.value}),this.setPropertyOnSiblings(n,"value",x.target.value,"value"),g.formattedValue=null}),n.addEventListener("resetform",x=>{const S=this.data.defaultFieldValue??"";n.value=g.userValue=S,g.formattedValue=null});let v=x=>{const{formattedValue:S}=g;S!=null&&(x.target.value=S),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",S=>{var T;if(g.focused)return;const{target:A}=S;g.userValue&&(A.value=g.userValue),g.lastCommittedValue=A.value,g.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(g.focused=!0)}),n.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const A={value(T){g.userValue=T.detail.value??"",e.setValue(t,{value:g.userValue.toString()}),T.target.value=g.userValue},formattedValue(T){const{formattedValue:P}=T.detail;g.formattedValue=P,P!=null&&T.target!==document.activeElement&&(T.target.value=P),e.setValue(t,{formattedValue:P})},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var M;const{charLimit:P}=T.detail,{target:R}=T;if(P===0){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",P);let L=g.userValue;!L||L.length<=P||(L=L.slice(0,P),R.value=g.userValue=L,e.setValue(t,{value:L}),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(A,S)}),n.addEventListener("keydown",S=>{var P;g.commitKey=1;let A=-1;if(S.key==="Escape"?A=0:S.key==="Enter"&&!this.data.multiLine?A=2:S.key==="Tab"&&(g.commitKey=3),A===-1)return;const{value:T}=S.target;g.lastCommittedValue!==T&&(g.lastCommittedValue=T,g.userValue=T,(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:A,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const x=v;v=null,n.addEventListener("blur",S=>{var T,P;if(!g.focused||!S.relatedTarget)return;(T=this.data.actions)!=null&&T.Blur||(g.focused=!1);const{value:A}=S.target;g.userValue=A,g.lastCommittedValue!==A&&((P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:g.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),x(S)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",S=>{var B;g.lastCommittedValue=null;const{data:A,target:T}=S,{value:P,selectionStart:R,selectionEnd:L}=T;let M=R,I=L;switch(S.inputType){case"deleteWordBackward":{const O=P.substring(0,R).match(/\w*[^\w]*$/);O&&(M-=O[0].length);break}case"deleteWordForward":{const O=P.substring(R).match(/^[^\w]*\w*/);O&&(I+=O[0].length);break}case"deleteContentBackward":R===L&&(M-=1);break;case"deleteContentForward":R===L&&(I+=1);break}S.preventDefault(),(B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:P,change:A||"",willCommit:!1,selStart:M,selEnd:I}})}),this._setEventListeners(n,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(v&&n.addEventListener("blur",v),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/h;n.classList.add("comb"),n.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class _2 extends kl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class C2 extends kl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Sl.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:h}=l.target;for(const p of this._getElementsByName(u,n)){const g=h&&p.exportValue===t.exportValue;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}e.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const u=t.defaultFieldValue||"Off";l.target.checked=u===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const u={value(h){h.target.checked=h.detail.value!=="Off",e.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class zE extends kl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const o=document.createElement("input");if(Sl.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:h}=l.target;for(const p of this._getElementsByName(u,n))e.setValue(p.id,{value:!1});e.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const u=t.defaultFieldValue;l.target.checked=u!=null&&u===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;o.addEventListener("updatefromsandbox",u=>{const h={value:p=>{const g=l===p.detail.value;for(const y of this._getElementsByName(p.target.name)){const v=g&&y.id===n;y.domElement&&(y.domElement.checked=v),e.setValue(y.id,{value:v})}}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class k2 extends FE{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class T2 extends kl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Sl.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===y});for(const g of this.data.options){const y=document.createElement("option");y.textContent=g.displayValue,y.value=g.exportValue,n.value.includes(g.exportValue)&&(y.setAttribute("selected",!0),o=!1),r.append(y)}let l=null;if(o){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),r.prepend(g),l=()=>{g.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const u=g=>{const y=g?"value":"textContent",{options:v,multiple:x}=r;return x?Array.prototype.filter.call(v,S=>S.selected).map(S=>S[y]):v.selectedIndex===-1?null:v[v.selectedIndex][y]};let h=u(!1);const p=g=>{const y=g.target.options;return Array.prototype.map.call(y,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",g=>{const y={value(v){l==null||l();const x=v.detail.value,S=new Set(Array.isArray(x)?x:[x]);for(const A of r.options)A.selected=S.has(A.value);e.setValue(t,{value:u(!0)}),h=u(!1)},multipleSelection(v){r.multiple=!0},remove(v){const x=r.options,S=v.detail.remove;x[S].selected=!1,r.remove(S),x.length>0&&Array.prototype.findIndex.call(x,T=>T.selected)===-1&&(x[0].selected=!0),e.setValue(t,{value:u(!0),items:p(v)}),h=u(!1)},clear(v){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),h=u(!1)},insert(v){const{index:x,displayValue:S,exportValue:A}=v.detail.insert,T=r.children[x],P=document.createElement("option");P.textContent=S,P.value=A,T?T.before(P):r.append(P),e.setValue(t,{value:u(!0),items:p(v)}),h=u(!1)},items(v){const{items:x}=v.detail;for(;r.length!==0;)r.remove(0);for(const S of x){const{displayValue:A,exportValue:T}=S,P=document.createElement("option");P.textContent=A,P.value=T,r.append(P)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:u(!0),items:p(v)}),h=u(!1)},indices(v){const x=new Set(v.detail.indices);for(const S of v.target.options)S.selected=x.has(S.index);e.setValue(t,{value:u(!0)}),h=u(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(y,g)}),r.addEventListener("input",g=>{var x;const y=u(!0),v=u(!1);e.setValue(t,{value:y}),g.preventDefault(),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,change:v,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):r.addEventListener("input",function(g){e.setValue(t,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class m0 extends Pt{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Pt._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new P2({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${ow}${r}`).join(",")),this.container}}var Yc,em,tm,Kc,Qc,bt,pr,Ya,Uh,$h,Jc,gr,qi,mr,Vh,yr,Wh,Ka,Qa,et,mg,y0,BE,HE,UE,$E,yg,vg,v0;class P2{constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:o,contentsObj:l,richText:u,parent:h,rect:p,parentRect:g,open:y}){E(this,et);E(this,Yc,C(this,et,UE).bind(this));E(this,em,C(this,et,v0).bind(this));E(this,tm,C(this,et,vg).bind(this));E(this,Kc,C(this,et,yg).bind(this));E(this,Qc,null);E(this,bt,null);E(this,pr,null);E(this,Ya,null);E(this,Uh,null);E(this,$h,null);E(this,Jc,null);E(this,gr,!1);E(this,qi,null);E(this,mr,null);E(this,Vh,null);E(this,yr,null);E(this,Wh,null);E(this,Ka,null);E(this,Qa,!1);var v;b(this,bt,e),b(this,Wh,r),b(this,pr,l),b(this,yr,u),b(this,$h,h),b(this,Qc,t),b(this,Vh,p),b(this,Jc,g),b(this,Uh,n),b(this,Ya,gm.toDateObject(o)),this.trigger=n.flatMap(x=>x.getElementsToTriggerPopup());for(const x of this.trigger)x.addEventListener("click",a(this,Kc)),x.addEventListener("mouseenter",a(this,tm)),x.addEventListener("mouseleave",a(this,em)),x.classList.add("popupTriggerArea");for(const x of n)(v=x.container)==null||v.addEventListener("keydown",a(this,Yc));a(this,bt).hidden=!0,y&&C(this,et,yg).call(this)}render(){if(a(this,qi))return;const e=b(this,qi,document.createElement("div"));if(e.className="popup",a(this,Qc)){const o=e.style.outlineColor=we.makeHexColor(...a(this,Qc));e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=a(this,Wh),e.append(t),a(this,Ya)){const o=document.createElement("time");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:a(this,Ya).valueOf()})),o.dateTime=a(this,Ya).toISOString(),t.append(o)}const r=a(this,et,mg);if(r)pw.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(a(this,pr));e.append(o)}a(this,bt).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let o=0,l=r.length;o<l;++o){const u=r[o];n.append(document.createTextNode(u)),o<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;a(this,Ka)||b(this,Ka,{contentsObj:a(this,pr),richText:a(this,yr)}),e&&b(this,mr,null),t&&(b(this,yr,C(this,et,HE).call(this,t)),b(this,pr,null)),(n=a(this,qi))==null||n.remove(),b(this,qi,null)}resetEdited(){var e;a(this,Ka)&&({contentsObj:bn(this,pr)._,richText:bn(this,yr)._}=a(this,Ka),b(this,Ka,null),(e=a(this,qi))==null||e.remove(),b(this,qi,null),b(this,mr,null))}forceHide(){b(this,Qa,this.isVisible),a(this,Qa)&&(a(this,bt).hidden=!0)}maybeShow(){a(this,Qa)&&(a(this,qi)||C(this,et,vg).call(this),b(this,Qa,!1),a(this,bt).hidden=!1)}get isVisible(){return a(this,bt).hidden===!1}}Yc=new WeakMap,em=new WeakMap,tm=new WeakMap,Kc=new WeakMap,Qc=new WeakMap,bt=new WeakMap,pr=new WeakMap,Ya=new WeakMap,Uh=new WeakMap,$h=new WeakMap,Jc=new WeakMap,gr=new WeakMap,qi=new WeakMap,mr=new WeakMap,Vh=new WeakMap,yr=new WeakMap,Wh=new WeakMap,Ka=new WeakMap,Qa=new WeakMap,et=new WeakSet,mg=function(){const e=a(this,yr),t=a(this,pr);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&a(this,yr).html||null},y0=function(){var e,t,n;return((n=(t=(e=a(this,et,mg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},BE=function(){var e,t,n;return((n=(t=(e=a(this,et,mg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},HE=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:a(this,et,BE),fontSize:a(this,et,y0)?`calc(${a(this,et,y0)}px * var(--total-scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:r});return n},UE=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&a(this,gr))&&C(this,et,yg).call(this)},$E=function(){if(a(this,mr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:o}}}=a(this,$h);let l=!!a(this,Jc),u=l?a(this,Jc):a(this,Vh);for(const S of a(this,Uh))if(!u||we.intersect(S.data.rect,u)!==null){u=S.data.rect,l=!0;break}const h=we.normalizeRect([u[0],e[3]-u[1]+e[1],u[2],e[3]-u[3]+e[1]]),g=l?u[2]-u[0]+5:0,y=h[0]+g,v=h[1];b(this,mr,[100*(y-r)/t,100*(v-o)/n]);const{style:x}=a(this,bt);x.left=`${a(this,mr)[0]}%`,x.top=`${a(this,mr)[1]}%`},yg=function(){b(this,gr,!a(this,gr)),a(this,gr)?(C(this,et,vg).call(this),a(this,bt).addEventListener("click",a(this,Kc)),a(this,bt).addEventListener("keydown",a(this,Yc))):(C(this,et,v0).call(this),a(this,bt).removeEventListener("click",a(this,Kc)),a(this,bt).removeEventListener("keydown",a(this,Yc)))},vg=function(){a(this,qi)||this.render(),this.isVisible?a(this,gr)&&a(this,bt).classList.add("focused"):(C(this,et,$E).call(this),a(this,bt).hidden=!1,a(this,bt).style.zIndex=parseInt(a(this,bt).style.zIndex)+1e3)},v0=function(){a(this,bt).classList.remove("focused"),!(a(this,gr)||!this.isVisible)&&(a(this,bt).hidden=!0,a(this,bt).style.zIndex=parseInt(a(this,bt).style.zIndex)-1e3)};class VE extends Pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Te.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Gh;class R2 extends Pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Gh,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:r}=this,o=this.svgFactory.create(n,r,!0),l=b(this,Gh,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Gh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gh=new WeakMap;var Xh;class N2 extends Pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Xh,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:r}=this,o=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,u=b(this,Xh,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",l/2),u.setAttribute("y",l/2),u.setAttribute("width",n-l),u.setAttribute("height",r-l),u.setAttribute("stroke-width",l||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Xh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xh=new WeakMap;var qh;class L2 extends Pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,qh,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:r}=this,o=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,u=b(this,qh,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",n/2),u.setAttribute("cy",r/2),u.setAttribute("rx",n/2-l/2),u.setAttribute("ry",r/2-l/2),u.setAttribute("stroke-width",l||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,qh)}addHighlightArea(){this.container.classList.add("highlightArea")}}qh=new WeakMap;var Yh;class WE extends Pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Yh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:r,popupRef:o},width:l,height:u}=this;if(!n)return this.container;const h=this.svgFactory.create(l,u,!0);let p=[];for(let y=0,v=n.length;y<v;y+=2){const x=n[y]-t[0],S=t[3]-n[y+1];p.push(`${x},${S}`)}p=p.join(" ");const g=b(this,Yh,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",p),g.setAttribute("stroke-width",r.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),h.append(g),this.container.append(h),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Yh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yh=new WeakMap;class M2 extends WE{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class I2 extends Pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Kh,Ja,Qh,w0;class gw extends Pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Qh);E(this,Kh,null);E(this,Ja,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Te.HIGHLIGHT:Te.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:r,borderStyle:o,popupRef:l}}=this,{transform:u,width:h,height:p}=C(this,Qh,w0).call(this,n,t),g=this.svgFactory.create(h,p,!0),y=b(this,Kh,this.svgFactory.createElement("svg:g"));g.append(y),y.setAttribute("stroke-width",o.width||1),y.setAttribute("stroke-linecap","round"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit",10),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),y.setAttribute("transform",u);for(let v=0,x=r.length;v<x;v++){const S=this.svgFactory.createElement(this.svgElementName);a(this,Ja).push(S),S.setAttribute("points",r[v].join(",")),y.append(S)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(g),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:r,rect:o}=t,l=a(this,Kh);if(n>=0&&l.setAttribute("stroke-width",n||1),r)for(let u=0,h=a(this,Ja).length;u<h;u++)a(this,Ja)[u].setAttribute("points",r[u].join(","));if(o){const{transform:u,width:h,height:p}=C(this,Qh,w0).call(this,this.data.rotation,o);l.parentElement.setAttribute("viewBox",`0 0 ${h} ${p}`),l.setAttribute("transform",u)}}getElementsToTriggerPopup(){return a(this,Ja)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kh=new WeakMap,Ja=new WeakMap,Qh=new WeakSet,w0=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class GE extends Pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Te.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class D2 extends Pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class F2 extends Pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class O2 extends Pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class XE extends Pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Te.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Jh,Zh,b0;class j2 extends Pt{constructor(t){var r;super(t,{isRenderable:!0});E(this,Zh);E(this,Jh,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",C(this,Zh,b0).bind(this)),b(this,Jh,r);const{isMac:o}=Kt.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(o?l.metaKey:l.ctrlKey)&&C(this,Zh,b0).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return a(this,Jh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jh=new WeakMap,Zh=new WeakSet,b0=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var ef,Za,Co,tf,Go,x0,A0,Zc;let mw=(Zc=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:o,viewport:l,structTreeLayer:u}){E(this,Go);E(this,ef,null);E(this,Za,null);E(this,Co,new Map);E(this,tf,null);this.div=e,b(this,ef,t),b(this,Za,n),b(this,tf,u||null),this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return a(this,Co).size>0}async render(e){var l;const{annotations:t}=e,n=this.div;Uo(n,this.viewport);const r=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Gd,annotationStorage:e.annotationStorage||new lw,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of t){if(u.noHTML)continue;const h=u.annotationType===_t.POPUP;if(h){const y=r.get(u.id);if(!y)continue;o.elements=y}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;o.data=u;const p=i1.create(o);if(!p.isRenderable)continue;if(!h&&u.popupRef){const y=r.get(u.popupRef);y?y.push(p):r.set(u.popupRef,[p])}const g=p.render();u.hidden&&(g.style.visibility="hidden"),await C(this,Go,x0).call(this,g,u.id,o.elements),p._isEditable&&(a(this,Co).set(p.data.id,p),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(p))}C(this,Go,A0).call(this)}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new Gd,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=Zc._defaultBorderStyle),n.data=r;const o=i1.create(n);if(!o.isRenderable)continue;const l=o.render();await C(this,Go,x0).call(this,l,r.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Uo(t,{rotation:e.rotation}),C(this,Go,A0).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(a(this,Co).values())}getEditableAnnotation(e){return a(this,Co).get(e)}static get _defaultBorderStyle(){return je(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:tc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},ef=new WeakMap,Za=new WeakMap,Co=new WeakMap,tf=new WeakMap,Go=new WeakSet,x0=async function(e,t,n){var u,h;const r=e.firstChild||e,o=r.id=`${ow}${t}`,l=await((u=a(this,tf))==null?void 0:u.getAriaAttributes(o));if(l)for(const[p,g]of l)r.setAttribute(p,g);n?n.at(-1).container.after(e):(this.div.append(e),(h=a(this,ef))==null||h.moveElementInDOM(this.div,e,r,!1))},A0=function(){var t;if(!a(this,Za))return;const e=this.div;for(const[n,r]of a(this,Za)){const o=e.querySelector(`[data-annotation-id="${n}"]`);if(!o)continue;r.className="annotationContent";const{firstChild:l}=o;l?l.nodeName==="CANVAS"?l.replaceWith(r):l.classList.contains("annotationContent")?l.after(r):l.before(r):o.append(r);const u=a(this,Co).get(n);u&&(u._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,o.id,r),u._hasNoCanvas=!1):u.canvas=r)}a(this,Za).clear()},Zc);const Zp=/\r\n?|\n/g;var Yi,Zn,nf,el,ei,Mt,qE,YE,KE,wg,Tr,bg,xg,QE,E0,JE;const it=class it extends st{constructor(t){super({...t,name:"freeTextEditor"});E(this,Mt);E(this,Yi);E(this,Zn,"");E(this,nf,`${this.id}-editor`);E(this,el,null);E(this,ei);b(this,Yi,t.color||it._defaultColor||st._defaultLineColor),b(this,ei,t.fontSize||it._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=it.prototype,n=l=>l.isEmpty(),r=$o.TRANSLATE_SMALL,o=$o.TRANSLATE_BIG;return je(this,"_keyboardManager",new kf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){st.initialize(t,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case He.FREETEXT_SIZE:it._defaultFontSize=n;break;case He.FREETEXT_COLOR:it._defaultColor=n;break}}updateParams(t,n){switch(t){case He.FREETEXT_SIZE:C(this,Mt,qE).call(this,n);break;case He.FREETEXT_COLOR:C(this,Mt,YE).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[He.FREETEXT_SIZE,it._defaultFontSize],[He.FREETEXT_COLOR,it._defaultColor||st._defaultLineColor]]}get propertiesToUpdate(){return[[He.FREETEXT_SIZE,a(this,ei)],[He.FREETEXT_COLOR,a(this,Yi)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-it._internalPadding*t,-(it._internalPadding+a(this,ei))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,el,new AbortController);const t=this._uiManager.combinedSignal(a(this,el));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",a(this,nf)),this._isDraggable=!0,(t=a(this,el))==null||t.abort(),b(this,el,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=a(this,Zn),n=b(this,Zn,C(this,Mt,KE).call(this).trimEnd());if(t===n)return;const r=o=>{if(b(this,Zn,o),!o){this.remove();return}C(this,Mt,xg).call(this),this._uiManager.rebuild(this),C(this,Mt,wg).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(t)},mustExec:!1}),C(this,Mt,wg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){it._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",a(this,nf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${a(this,ei)}px * var(--total-scale-factor))`,r.color=a(this,Yi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[o,l]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[h,p]=this.getInitialTranslation();[h,p]=this.pageTranslationToScreen(h,p);const[g,y]=this.pageDimensions,[v,x]=this.pageTranslation;let S,A;switch(this.rotation){case 0:S=t+(u[0]-v)/g,A=n+this.height-(u[1]-x)/y;break;case 90:S=t+(u[0]-v)/g,A=n-(u[1]-x)/y,[h,p]=[p,-h];break;case 180:S=t-this.width+(u[0]-v)/g,A=n-(u[1]-x)/y,[h,p]=[-h,-p];break;case 270:S=t+(u[0]-v-this.height*y)/g,A=n+(u[1]-x-this.width*g)/y,[h,p]=[-p,h];break}this.setAt(S*o,A*l,h,p)}else this._moveAfterPaste(t,n);C(this,Mt,xg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var S,A,T;const n=t.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const o=C(S=it,Tr,E0).call(S,n.getData("text")||"").replaceAll(Zp,`
`);if(!o)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const u=l.getRangeAt(0);if(!o.includes(`
`)){u.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:h,startOffset:p}=u,g=[],y=[];if(h.nodeType===Node.TEXT_NODE){const P=h.parentElement;if(y.push(h.nodeValue.slice(p).replaceAll(Zp,"")),P!==this.editorDiv){let R=g;for(const L of this.editorDiv.childNodes){if(L===P){R=y;continue}R.push(C(A=it,Tr,bg).call(A,L))}}g.push(h.nodeValue.slice(0,p).replaceAll(Zp,""))}else if(h===this.editorDiv){let P=g,R=0;for(const L of this.editorDiv.childNodes)R++===p&&(P=y),P.push(C(T=it,Tr,bg).call(T,L))}b(this,Zn,`${g.join(`
`)}${o}${y.join(`
`)}`),C(this,Mt,xg).call(this);const v=new Range;let x=Math.sumPrecise(g.map(P=>P.length));for(const{firstChild:P}of this.editorDiv.childNodes)if(P.nodeType===Node.TEXT_NODE){const R=P.nodeValue.length;if(x<=R){v.setStart(P,x),v.setEnd(P,x);break}x-=R}l.removeAllRanges(),l.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,r){var u;let o=null;if(t instanceof VE){const{data:{defaultAppearanceData:{fontSize:h,fontColor:p},rect:g,rotation:y,id:v,popupRef:x},textContent:S,textPosition:A,parent:{page:{pageNumber:T}}}=t;if(!S||S.length===0)return null;o=t={annotationType:Te.FREETEXT,color:Array.from(p),fontSize:h,value:S.join(`
`),position:A,pageIndex:T-1,rect:g.slice(0),rotation:y,annotationElementId:v,id:v,deleted:!1,popupRef:x}}const l=await super.deserialize(t,n,r);return b(l,ei,t.fontSize),b(l,Yi,we.makeHexColor(...t.color)),b(l,Zn,C(u=it,Tr,E0).call(u,t.value)),l._initialData=o,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=it._internalPadding*this.parentScale,r=this.getRect(n,n),o=st._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:a(this,Yi)),l={annotationType:Te.FREETEXT,color:o,fontSize:a(this,ei),value:C(this,Mt,QE).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(l.isCopy=!0,l):this.annotationElementId&&!C(this,Mt,JE).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${a(this,ei)}px * var(--total-scale-factor))`,r.color=a(this,Yi),n.replaceChildren();for(const l of a(this,Zn).split(`
`)){const u=document.createElement("div");u.append(l?document.createTextNode(l):document.createElement("br")),n.append(u)}const o=it._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:a(this,Zn)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Yi=new WeakMap,Zn=new WeakMap,nf=new WeakMap,el=new WeakMap,ei=new WeakMap,Mt=new WeakSet,qE=function(t){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--total-scale-factor))`,this.translate(0,-(o-a(this,ei))*this.parentScale),b(this,ei,o),C(this,Mt,wg).call(this)},r=a(this,ei);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},YE=function(t){const n=o=>{b(this,Yi,this.editorDiv.style.color=o)},r=a(this,Yi);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},KE=function(){var r;const t=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(C(r=it,Tr,bg).call(r,o)),n=o);return t.join(`
`)},wg=function(){const[t,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:l}=this,u=l.style.display,h=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",o.div.append(this.div),r=l.getBoundingClientRect(),l.remove(),l.style.display=u,l.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/n):(this.width=r.height/t,this.height=r.width/n),this.fixAndSetPosition()},Tr=new WeakSet,bg=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Zp,"")},xg=function(){if(this.editorDiv.replaceChildren(),!!a(this,Zn))for(const t of a(this,Zn).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},QE=function(){return a(this,Zn).replaceAll(" "," ")},E0=function(t){return t.replaceAll(" "," ")},JE=function(t){const{value:n,fontSize:r,color:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((u,h)=>u!==o[h])||t.pageIndex!==l},E(it,Tr),te(it,"_freeTextDefaultContent",""),te(it,"_internalPadding",0),te(it,"_defaultColor",null),te(it,"_defaultFontSize",10),te(it,"_type","freetext"),te(it,"_editorType",Te.FREETEXT);let S0=it;class de{toSVGPath(){Ze("Abstract method `toSVGPath` must be implemented.")}get box(){Ze("Abstract getter `box` must be implemented.")}serialize(e,t){Ze("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,r,o,l){l||(l=new Float32Array(e.length));for(let u=0,h=e.length;u<h;u+=2)l[u]=t+e[u]*r,l[u+1]=n+e[u+1]*o;return l}static _rescaleAndSwap(e,t,n,r,o,l){l||(l=new Float32Array(e.length));for(let u=0,h=e.length;u<h;u+=2)l[u]=t+e[u+1]*r,l[u+1]=n+e[u]*o;return l}static _translate(e,t,n,r){r||(r=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)r[o]=t+e[o],r[o+1]=n+e[o+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,r,o){switch(o){case 90:return[1-t/n,e/r];case 180:return[1-e/n,1-t/r];case 270:return[t/n,1-e/r];default:return[e/n,t/r]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,r,o,l){return[(e+5*n)/6,(t+5*r)/6,(5*n+o)/6,(5*r+l)/6,(n+o)/2,(r+l)/2]}}te(de,"PRECISION",1e-4);var ti,Ki,eu,tu,_s,Fe,tl,nl,sf,rf,nu,iu,ko,of,nm,im,zt,Ld,ZE,e_,t_,n_,i_,s_;const Ks=class Ks{constructor({x:e,y:t},n,r,o,l,u=0){E(this,zt);E(this,ti);E(this,Ki,[]);E(this,eu);E(this,tu);E(this,_s,[]);E(this,Fe,new Float32Array(18));E(this,tl);E(this,nl);E(this,sf);E(this,rf);E(this,nu);E(this,iu);E(this,ko,[]);b(this,ti,n),b(this,iu,o*r),b(this,tu,l),a(this,Fe).set([NaN,NaN,NaN,NaN,e,t],6),b(this,eu,u),b(this,rf,a(Ks,of)*r),b(this,sf,a(Ks,im)*r),b(this,nu,r),a(this,ko).push(e,t)}isEmpty(){return isNaN(a(this,Fe)[8])}add({x:e,y:t}){var G;b(this,tl,e),b(this,nl,t);const[n,r,o,l]=a(this,ti);let[u,h,p,g]=a(this,Fe).subarray(8,12);const y=e-p,v=t-g,x=Math.hypot(y,v);if(x<a(this,sf))return!1;const S=x-a(this,rf),A=S/x,T=A*y,P=A*v;let R=u,L=h;u=p,h=g,p+=T,g+=P,(G=a(this,ko))==null||G.push(e,t);const M=-P/S,I=T/S,B=M*a(this,iu),O=I*a(this,iu);return a(this,Fe).set(a(this,Fe).subarray(2,8),0),a(this,Fe).set([p+B,g+O],4),a(this,Fe).set(a(this,Fe).subarray(14,18),12),a(this,Fe).set([p-B,g-O],16),isNaN(a(this,Fe)[6])?(a(this,_s).length===0&&(a(this,Fe).set([u+B,h+O],2),a(this,_s).push(NaN,NaN,NaN,NaN,(u+B-n)/o,(h+O-r)/l),a(this,Fe).set([u-B,h-O],14),a(this,Ki).push(NaN,NaN,NaN,NaN,(u-B-n)/o,(h-O-r)/l)),a(this,Fe).set([R,L,u,h,p,g],6),!this.isEmpty()):(a(this,Fe).set([R,L,u,h,p,g],6),Math.abs(Math.atan2(L-h,R-u)-Math.atan2(P,T))<Math.PI/2?([u,h,p,g]=a(this,Fe).subarray(2,6),a(this,_s).push(NaN,NaN,NaN,NaN,((u+p)/2-n)/o,((h+g)/2-r)/l),[u,h,R,L]=a(this,Fe).subarray(14,18),a(this,Ki).push(NaN,NaN,NaN,NaN,((R+u)/2-n)/o,((L+h)/2-r)/l),!0):([R,L,u,h,p,g]=a(this,Fe).subarray(0,6),a(this,_s).push(((R+5*u)/6-n)/o,((L+5*h)/6-r)/l,((5*u+p)/6-n)/o,((5*h+g)/6-r)/l,((u+p)/2-n)/o,((h+g)/2-r)/l),[p,g,u,h,R,L]=a(this,Fe).subarray(12,18),a(this,Ki).push(((R+5*u)/6-n)/o,((L+5*h)/6-r)/l,((5*u+p)/6-n)/o,((5*h+g)/6-r)/l,((u+p)/2-n)/o,((h+g)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=a(this,_s),t=a(this,Ki);if(isNaN(a(this,Fe)[6])&&!this.isEmpty())return C(this,zt,ZE).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);C(this,zt,t_).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return C(this,zt,e_).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,o,l){return new r_(e,t,n,r,o,l)}getOutlines(){var y;const e=a(this,_s),t=a(this,Ki),n=a(this,Fe),[r,o,l,u]=a(this,ti),h=new Float32Array((((y=a(this,ko))==null?void 0:y.length)??0)+2);for(let v=0,x=h.length-2;v<x;v+=2)h[v]=(a(this,ko)[v]-r)/l,h[v+1]=(a(this,ko)[v+1]-o)/u;if(h[h.length-2]=(a(this,tl)-r)/l,h[h.length-1]=(a(this,nl)-o)/u,isNaN(n[6])&&!this.isEmpty())return C(this,zt,n_).call(this,h);const p=new Float32Array(a(this,_s).length+24+a(this,Ki).length);let g=e.length;for(let v=0;v<g;v+=2){if(isNaN(e[v])){p[v]=p[v+1]=NaN;continue}p[v]=e[v],p[v+1]=e[v+1]}g=C(this,zt,s_).call(this,p,g);for(let v=t.length-6;v>=6;v-=6)for(let x=0;x<6;x+=2){if(isNaN(t[v+x])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=t[v+x],p[g+1]=t[v+x+1],g+=2}return C(this,zt,i_).call(this,p,g),this.newFreeDrawOutline(p,h,a(this,ti),a(this,nu),a(this,eu),a(this,tu))}};ti=new WeakMap,Ki=new WeakMap,eu=new WeakMap,tu=new WeakMap,_s=new WeakMap,Fe=new WeakMap,tl=new WeakMap,nl=new WeakMap,sf=new WeakMap,rf=new WeakMap,nu=new WeakMap,iu=new WeakMap,ko=new WeakMap,of=new WeakMap,nm=new WeakMap,im=new WeakMap,zt=new WeakSet,Ld=function(){const e=a(this,Fe).subarray(4,6),t=a(this,Fe).subarray(16,18),[n,r,o,l]=a(this,ti);return[(a(this,tl)+(e[0]-t[0])/2-n)/o,(a(this,nl)+(e[1]-t[1])/2-r)/l,(a(this,tl)+(t[0]-e[0])/2-n)/o,(a(this,nl)+(t[1]-e[1])/2-r)/l]},ZE=function(){const[e,t,n,r]=a(this,ti),[o,l,u,h]=C(this,zt,Ld).call(this);return`M${(a(this,Fe)[2]-e)/n} ${(a(this,Fe)[3]-t)/r} L${(a(this,Fe)[4]-e)/n} ${(a(this,Fe)[5]-t)/r} L${o} ${l} L${u} ${h} L${(a(this,Fe)[16]-e)/n} ${(a(this,Fe)[17]-t)/r} L${(a(this,Fe)[14]-e)/n} ${(a(this,Fe)[15]-t)/r} Z`},e_=function(e){const t=a(this,Ki);e.push(`L${t[4]} ${t[5]} Z`)},t_=function(e){const[t,n,r,o]=a(this,ti),l=a(this,Fe).subarray(4,6),u=a(this,Fe).subarray(16,18),[h,p,g,y]=C(this,zt,Ld).call(this);e.push(`L${(l[0]-t)/r} ${(l[1]-n)/o} L${h} ${p} L${g} ${y} L${(u[0]-t)/r} ${(u[1]-n)/o}`)},n_=function(e){const t=a(this,Fe),[n,r,o,l]=a(this,ti),[u,h,p,g]=C(this,zt,Ld).call(this),y=new Float32Array(36);return y.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-r)/l,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-r)/l,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-r)/l,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-r)/l],0),this.newFreeDrawOutline(y,e,a(this,ti),a(this,nu),a(this,eu),a(this,tu))},i_=function(e,t){const n=a(this,Ki);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},s_=function(e,t){const n=a(this,Fe).subarray(4,6),r=a(this,Fe).subarray(16,18),[o,l,u,h]=a(this,ti),[p,g,y,v]=C(this,zt,Ld).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/u,(n[1]-l)/h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(r[0]-o)/u,(r[1]-l)/h],t),t+=24},E(Ks,of,8),E(Ks,nm,2),E(Ks,im,a(Ks,of)+a(Ks,nm));let Og=Ks;var su,il,vr,af,ni,lf,kt,sm,o_;class r_ extends de{constructor(t,n,r,o,l,u){super();E(this,sm);E(this,su);E(this,il,new Float32Array(4));E(this,vr);E(this,af);E(this,ni);E(this,lf);E(this,kt);b(this,kt,t),b(this,ni,n),b(this,su,r),b(this,lf,o),b(this,vr,l),b(this,af,u),this.lastPoint=[NaN,NaN],C(this,sm,o_).call(this,u);const[h,p,g,y]=a(this,il);for(let v=0,x=t.length;v<x;v+=2)t[v]=(t[v]-h)/g,t[v+1]=(t[v+1]-p)/y;for(let v=0,x=n.length;v<x;v+=2)n[v]=(n[v]-h)/g,n[v+1]=(n[v+1]-p)/y}toSVGPath(){const t=[`M${a(this,kt)[4]} ${a(this,kt)[5]}`];for(let n=6,r=a(this,kt).length;n<r;n+=6){if(isNaN(a(this,kt)[n])){t.push(`L${a(this,kt)[n+4]} ${a(this,kt)[n+5]}`);continue}t.push(`C${a(this,kt)[n]} ${a(this,kt)[n+1]} ${a(this,kt)[n+2]} ${a(this,kt)[n+3]} ${a(this,kt)[n+4]} ${a(this,kt)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,r,o],l){const u=r-t,h=o-n;let p,g;switch(l){case 0:p=de._rescale(a(this,kt),t,o,u,-h),g=de._rescale(a(this,ni),t,o,u,-h);break;case 90:p=de._rescaleAndSwap(a(this,kt),t,n,u,h),g=de._rescaleAndSwap(a(this,ni),t,n,u,h);break;case 180:p=de._rescale(a(this,kt),r,n,-u,h),g=de._rescale(a(this,ni),r,n,-u,h);break;case 270:p=de._rescaleAndSwap(a(this,kt),r,o,-u,-h),g=de._rescaleAndSwap(a(this,ni),r,o,-u,-h);break}return{outline:Array.from(p),points:[Array.from(g)]}}get box(){return a(this,il)}newOutliner(t,n,r,o,l,u=0){return new Og(t,n,r,o,l,u)}getNewOutline(t,n){const[r,o,l,u]=a(this,il),[h,p,g,y]=a(this,su),v=l*g,x=u*y,S=r*g+h,A=o*y+p,T=this.newOutliner({x:a(this,ni)[0]*v+S,y:a(this,ni)[1]*x+A},a(this,su),a(this,lf),t,a(this,af),n??a(this,vr));for(let P=2;P<a(this,ni).length;P+=2)T.add({x:a(this,ni)[P]*v+S,y:a(this,ni)[P+1]*x+A});return T.getOutlines()}}su=new WeakMap,il=new WeakMap,vr=new WeakMap,af=new WeakMap,ni=new WeakMap,lf=new WeakMap,kt=new WeakMap,sm=new WeakSet,o_=function(t){const n=a(this,kt);let r=n[4],o=n[5];const l=[r,o,r,o];let u=r,h=o;const p=t?Math.max:Math.min;for(let y=6,v=n.length;y<v;y+=6){const x=n[y+4],S=n[y+5];if(isNaN(n[y]))we.pointBoundingBox(x,S,l),h<S?(u=x,h=S):h===S&&(u=p(u,x));else{const A=[1/0,1/0,-1/0,-1/0];we.bezierBoundingBox(r,o,...n.slice(y,y+6),A),we.rectBoundingBox(...A,l),h<A[3]?(u=A[2],h=A[3]):h===A[3]&&(u=p(u,A[2]))}r=x,o=S}const g=a(this,il);g[0]=l[0]-a(this,vr),g[1]=l[1]-a(this,vr),g[2]=l[2]-l[0]+2*a(this,vr),g[3]=l[3]-l[1]+2*a(this,vr),this.lastPoint=[u,h]};var cf,uf,To,Qi,Rn,a_,Ag,l_,c_,C0;class _0{constructor(e,t=0,n=0,r=!0){E(this,Rn);E(this,cf);E(this,uf);E(this,To,[]);E(this,Qi,[]);const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x,y:S,width:A,height:T}of e){const P=Math.floor((x-t)/l)*l,R=Math.ceil((x+A+t)/l)*l,L=Math.floor((S-t)/l)*l,M=Math.ceil((S+T+t)/l)*l,I=[P,L,M,!0],B=[R,L,M,!1];a(this,To).push(I,B),we.rectBoundingBox(P,L,R,M,o)}const u=o[2]-o[0]+2*n,h=o[3]-o[1]+2*n,p=o[0]-n,g=o[1]-n,y=a(this,To).at(r?-1:-2),v=[y[0],y[2]];for(const x of a(this,To)){const[S,A,T]=x;x[0]=(S-p)/u,x[1]=(A-g)/h,x[2]=(T-g)/h}b(this,cf,new Float32Array([p,g,u,h])),b(this,uf,v)}getOutlines(){a(this,To).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of a(this,To))t[3]?(e.push(...C(this,Rn,C0).call(this,t)),C(this,Rn,l_).call(this,t)):(C(this,Rn,c_).call(this,t),e.push(...C(this,Rn,C0).call(this,t)));return C(this,Rn,a_).call(this,e)}}cf=new WeakMap,uf=new WeakMap,To=new WeakMap,Qi=new WeakMap,Rn=new WeakSet,a_=function(e){const t=[],n=new Set;for(const l of e){const[u,h,p]=l;t.push([u,h,l],[u,p,l])}t.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=t.length;l<u;l+=2){const h=t[l][2],p=t[l+1][2];h.push(p),p.push(h),n.add(h),n.add(p)}const r=[];let o;for(;n.size>0;){const l=n.values().next().value;let[u,h,p,g,y]=l;n.delete(l);let v=u,x=h;for(o=[u,p],r.push(o);;){let S;if(n.has(g))S=g;else if(n.has(y))S=y;else break;n.delete(S),[u,h,p,g,y]=S,v!==u&&(o.push(v,x,u,x===h?h:p),v=u),x=x===h?p:h}o.push(v,x)}return new z2(r,a(this,cf),a(this,uf))},Ag=function(e){const t=a(this,Qi);let n=0,r=t.length-1;for(;n<=r;){const o=n+r>>1,l=t[o][0];if(l===e)return o;l<e?n=o+1:r=o-1}return r+1},l_=function([,e,t]){const n=C(this,Rn,Ag).call(this,e);a(this,Qi).splice(n,0,[e,t])},c_=function([,e,t]){const n=C(this,Rn,Ag).call(this,e);for(let r=n;r<a(this,Qi).length;r++){const[o,l]=a(this,Qi)[r];if(o!==e)break;if(o===e&&l===t){a(this,Qi).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[o,l]=a(this,Qi)[r];if(o!==e)break;if(o===e&&l===t){a(this,Qi).splice(r,1);return}}},C0=function(e){const[t,n,r]=e,o=[[t,n,r]],l=C(this,Rn,Ag).call(this,r);for(let u=0;u<l;u++){const[h,p]=a(this,Qi)[u];for(let g=0,y=o.length;g<y;g++){const[,v,x]=o[g];if(!(p<=v||x<=h)){if(v>=h){if(x>p)o[g][1]=p;else{if(y===1)return[];o.splice(g,1),g--,y--}continue}o[g][2]=h,x>p&&o.push([t,p,x])}}}return o};var df,ru;class z2 extends de{constructor(t,n,r){super();E(this,df);E(this,ru);b(this,ru,t),b(this,df,n),this.lastPoint=r}toSVGPath(){const t=[];for(const n of a(this,ru)){let[r,o]=n;t.push(`M${r} ${o}`);for(let l=2;l<n.length;l+=2){const u=n[l],h=n[l+1];u===r?(t.push(`V${h}`),o=h):h===o&&(t.push(`H${u}`),r=u)}t.push("Z")}return t.join(" ")}serialize([t,n,r,o],l){const u=[],h=r-t,p=o-n;for(const g of a(this,ru)){const y=new Array(g.length);for(let v=0;v<g.length;v+=2)y[v]=t+g[v]*h,y[v+1]=o-g[v+1]*p;u.push(y)}return u}get box(){return a(this,df)}get classNamesForOutlining(){return["highlightOutline"]}}df=new WeakMap,ru=new WeakMap;class k0 extends Og{newFreeDrawOutline(e,t,n,r,o,l){return new B2(e,t,n,r,o,l)}}class B2 extends r_{newOutliner(e,t,n,r,o,l=0){return new k0(e,t,n,r,o,l)}}var ii,sl,ou,jt,hf,au,wr,ff,Po,Ji,lu,pf,Je,T0,P0,R0,ua,u_,no;const zn=class zn{constructor({editor:e=null,uiManager:t=null}){E(this,Je);E(this,ii,null);E(this,sl,null);E(this,ou);E(this,jt,null);E(this,hf,!1);E(this,au,!1);E(this,wr,null);E(this,ff);E(this,Po,null);E(this,Ji,null);E(this,lu);var n,r;e?(b(this,au,!1),b(this,lu,He.HIGHLIGHT_COLOR),b(this,wr,e)):(b(this,au,!0),b(this,lu,He.HIGHLIGHT_DEFAULT_COLOR)),b(this,Ji,(e==null?void 0:e._uiManager)||t),b(this,ff,a(this,Ji)._eventBus),b(this,ou,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((r=a(this,Ji))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),a(zn,pf)||b(zn,pf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return je(this,"_keyboardManager",new kf([[["Escape","mac+Escape"],zn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],zn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],zn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],zn.prototype._moveToPrevious],[["Home","mac+Home"],zn.prototype._moveToBeginning],[["End","mac+End"],zn.prototype._moveToEnd]]))}renderButton(){const e=b(this,ii,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",a(this,wr)&&(e.ariaControls=`${a(this,wr).id}_colorpicker_dropdown`);const t=a(this,Ji)._signal;e.addEventListener("click",C(this,Je,ua).bind(this),{signal:t}),e.addEventListener("keydown",C(this,Je,R0).bind(this),{signal:t});const n=b(this,sl,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=a(this,ou),e.append(n),e}renderMainDropdown(){const e=b(this,jt,C(this,Je,T0).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===a(this,ii)){C(this,Je,ua).call(this,e);return}const t=e.target.getAttribute("data-color");t&&C(this,Je,P0).call(this,t,e)}_moveToNext(e){var t,n;if(!a(this,Je,no)){C(this,Je,ua).call(this,e);return}if(e.target===a(this,ii)){(t=a(this,jt).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=a(this,jt))==null?void 0:t.firstChild)||e.target===a(this,ii)){a(this,Je,no)&&this._hideDropdownFromKeyboard();return}a(this,Je,no)||C(this,Je,ua).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!a(this,Je,no)){C(this,Je,ua).call(this,e);return}(t=a(this,jt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!a(this,Je,no)){C(this,Je,ua).call(this,e);return}(t=a(this,jt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=a(this,jt))==null||e.classList.add("hidden"),a(this,ii).ariaExpanded="false",(t=a(this,Po))==null||t.abort(),b(this,Po,null)}_hideDropdownFromKeyboard(){var e;if(!a(this,au)){if(!a(this,Je,no)){(e=a(this,wr))==null||e.unselect();return}this.hideDropdown(),a(this,ii).focus({preventScroll:!0,focusVisible:a(this,hf)})}}updateColor(e){if(a(this,sl)&&(a(this,sl).style.backgroundColor=e),!a(this,jt))return;const t=a(this,Ji).highlightColors.values();for(const n of a(this,jt).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=a(this,ii))==null||e.remove(),b(this,ii,null),b(this,sl,null),(t=a(this,jt))==null||t.remove(),b(this,jt,null)}};ii=new WeakMap,sl=new WeakMap,ou=new WeakMap,jt=new WeakMap,hf=new WeakMap,au=new WeakMap,wr=new WeakMap,ff=new WeakMap,Po=new WeakMap,Ji=new WeakMap,lu=new WeakMap,pf=new WeakMap,Je=new WeakSet,T0=function(){const e=document.createElement("div"),t=a(this,Ji)._signal;e.addEventListener("contextmenu",Li,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),a(this,wr)&&(e.id=`${a(this,wr).id}_colorpicker_dropdown`);for(const[n,r]of a(this,Ji).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=n,o.setAttribute("data-l10n-id",a(zn,pf)[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=r,o.ariaSelected=r===a(this,ou),o.addEventListener("click",C(this,Je,P0).bind(this,r),{signal:t}),e.append(o)}return e.addEventListener("keydown",C(this,Je,R0).bind(this),{signal:t}),e},P0=function(e,t){t.stopPropagation(),a(this,ff).dispatch("switchannotationeditorparams",{source:this,type:a(this,lu),value:e})},R0=function(e){zn._keyboardManager.exec(this,e)},ua=function(e){if(a(this,Je,no)){this.hideDropdown();return}if(b(this,hf,e.detail===0),a(this,Po)||(b(this,Po,new AbortController),window.addEventListener("pointerdown",C(this,Je,u_).bind(this),{signal:a(this,Ji).combinedSignal(a(this,Po))})),a(this,ii).ariaExpanded="true",a(this,jt)){a(this,jt).classList.remove("hidden");return}const t=b(this,jt,C(this,Je,T0).call(this));a(this,ii).append(t)},u_=function(e){var t;(t=a(this,jt))!=null&&t.contains(e.target)||this.hideDropdown()},no=function(){return a(this,jt)&&!a(this,jt).classList.contains("hidden")},E(zn,pf,null);let Xd=zn;var cu,gf,br,rl,mf,Un,yf,vf,ol,Ci,si,nn,uu,xr,gn,du,ki,wf,Ne,N0,Sg,d_,h_,f_,L0,da,Ri,oc,p_,Eg,Md,g_,m_,y_,v_,w_;const Ge=class Ge extends st{constructor(t){super({...t,name:"highlightEditor"});E(this,Ne);E(this,cu,null);E(this,gf,0);E(this,br);E(this,rl,null);E(this,mf,null);E(this,Un,null);E(this,yf,null);E(this,vf,0);E(this,ol,null);E(this,Ci,null);E(this,si,null);E(this,nn,!1);E(this,uu,null);E(this,xr);E(this,gn,null);E(this,du,"");E(this,ki);E(this,wf,"");this.color=t.color||Ge._defaultColor,b(this,ki,t.thickness||Ge._defaultThickness),b(this,xr,t.opacity||Ge._defaultOpacity),b(this,br,t.boxes||null),b(this,wf,t.methodOfCreation||""),b(this,du,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(b(this,nn,!0),C(this,Ne,Sg).call(this,t),C(this,Ne,da).call(this)):a(this,br)&&(b(this,cu,t.anchorNode),b(this,gf,t.anchorOffset),b(this,yf,t.focusNode),b(this,vf,t.focusOffset),C(this,Ne,N0).call(this),C(this,Ne,da).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ge.prototype;return je(this,"_keyboardManager",new kf([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:a(this,nn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:a(this,ki),methodOfCreation:a(this,wf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var r;st.initialize(t,n),Ge._defaultColor||(Ge._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case He.HIGHLIGHT_DEFAULT_COLOR:Ge._defaultColor=n;break;case He.HIGHLIGHT_THICKNESS:Ge._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return a(this,uu)}updateParams(t,n){switch(t){case He.HIGHLIGHT_COLOR:C(this,Ne,d_).call(this,n);break;case He.HIGHLIGHT_THICKNESS:C(this,Ne,h_).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[He.HIGHLIGHT_DEFAULT_COLOR,Ge._defaultColor],[He.HIGHLIGHT_THICKNESS,Ge._defaultThickness]]}get propertiesToUpdate(){return[[He.HIGHLIGHT_COLOR,this.color||Ge._defaultColor],[He.HIGHLIGHT_THICKNESS,a(this,ki)||Ge._defaultThickness],[He.HIGHLIGHT_FREE,a(this,nn)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",b(this,mf,new Xd({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(C(this,Ne,Md).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,C(this,Ne,Md).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){C(this,Ne,L0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(C(this,Ne,da).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?C(this,Ne,L0).call(this):t&&(C(this,Ne,da).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,l,u;const{drawLayer:n}=this.parent;let r;a(this,nn)?(t=(t-this.rotation+360)%360,r=C(o=Ge,Ri,oc).call(o,a(this,Ci).box,t)):r=C(l=Ge,Ri,oc).call(l,[this.x,this.y,this.width,this.height],t),n.updateProperties(a(this,si),{bbox:r,root:{"data-main-rotation":t}}),n.updateProperties(a(this,gn),{bbox:C(u=Ge,Ri,oc).call(u,a(this,Un).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();a(this,du)&&(t.setAttribute("aria-label",a(this,du)),t.setAttribute("role","mark")),a(this,nn)?t.classList.add("free"):this.div.addEventListener("keydown",C(this,Ne,p_).bind(this),{signal:this._uiManager._signal});const n=b(this,ol,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=a(this,rl);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),zS(this,a(this,ol),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(a(this,gn),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(a(this,gn),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:C(this,Ne,Eg).call(this,!0);break;case 1:case 3:C(this,Ne,Eg).call(this,!1);break}}select(){var t;super.select(),a(this,gn)&&((t=this.parent)==null||t.drawLayer.updateProperties(a(this,gn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),a(this,gn)&&((t=this.parent)==null||t.drawLayer.updateProperties(a(this,gn),{rootClass:{selected:!1}}),a(this,nn)||C(this,Ne,Eg).call(this,!1))}get _mustFixPosition(){return!a(this,nn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(a(this,si),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(a(this,gn),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:r,x:o,y:l}){const{x:u,y:h,width:p,height:g}=r.getBoundingClientRect(),y=new AbortController,v=t.combinedSignal(y),x=S=>{y.abort(),C(this,Ri,v_).call(this,t,S)};window.addEventListener("blur",x,{signal:v}),window.addEventListener("pointerup",x,{signal:v}),window.addEventListener("pointerdown",Tt,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Li,{signal:v}),r.addEventListener("pointermove",C(this,Ri,y_).bind(this,t),{signal:v}),this._freeHighlight=new k0({x:o,y:l},[u,h,p,g],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,r){var A,T,P,R;let o=null;if(t instanceof GE){const{data:{quadPoints:L,rect:M,rotation:I,id:B,color:O,opacity:V,popupRef:G},parent:{page:{pageNumber:K}}}=t;o=t={annotationType:Te.HIGHLIGHT,color:Array.from(O),opacity:V,quadPoints:L,boxes:null,pageIndex:K-1,rect:M.slice(0),rotation:I,annotationElementId:B,id:B,deleted:!1,popupRef:G}}else if(t instanceof gw){const{data:{inkLists:L,rect:M,rotation:I,id:B,color:O,borderStyle:{rawWidth:V},popupRef:G},parent:{page:{pageNumber:K}}}=t;o=t={annotationType:Te.HIGHLIGHT,color:Array.from(O),thickness:V,inkLists:L,boxes:null,pageIndex:K-1,rect:M.slice(0),rotation:I,annotationElementId:B,id:B,deleted:!1,popupRef:G}}const{color:l,quadPoints:u,inkLists:h,opacity:p}=t,g=await super.deserialize(t,n,r);g.color=we.makeHexColor(...l),b(g,xr,p||1),h&&b(g,ki,t.thickness),g._initialData=o;const[y,v]=g.pageDimensions,[x,S]=g.pageTranslation;if(u){const L=b(g,br,[]);for(let M=0;M<u.length;M+=8)L.push({x:(u[M]-x)/y,y:1-(u[M+1]-S)/v,width:(u[M+2]-u[M])/y,height:(u[M+1]-u[M+5])/v});C(A=g,Ne,N0).call(A),C(T=g,Ne,da).call(T),g.rotate(g.rotation)}else if(h){b(g,nn,!0);const L=h[0],M={x:L[0]-x,y:v-(L[1]-S)},I=new k0(M,[0,0,y,v],1,a(g,ki)/2,!0,.001);for(let V=0,G=L.length;V<G;V+=2)M.x=L[V]-x,M.y=v-(L[V+1]-S),I.add(M);const{id:B,clipPathId:O}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:g.color,"fill-opacity":g._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:I.toSVGPath()}},!0,!0);C(P=g,Ne,Sg).call(P,{highlightOutlines:I.getOutlines(),highlightId:B,clipPathId:O}),C(R=g,Ne,da).call(R),g.rotate(g.parentRotation)}return g}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=st._colorManager.convert(this.color),o={annotationType:Te.HIGHLIGHT,color:r,opacity:a(this,xr),thickness:a(this,ki),quadPoints:C(this,Ne,g_).call(this),outlines:C(this,Ne,m_).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:C(this,Ne,Md).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!C(this,Ne,w_).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};cu=new WeakMap,gf=new WeakMap,br=new WeakMap,rl=new WeakMap,mf=new WeakMap,Un=new WeakMap,yf=new WeakMap,vf=new WeakMap,ol=new WeakMap,Ci=new WeakMap,si=new WeakMap,nn=new WeakMap,uu=new WeakMap,xr=new WeakMap,gn=new WeakMap,du=new WeakMap,ki=new WeakMap,wf=new WeakMap,Ne=new WeakSet,N0=function(){const t=new _0(a(this,br),.001);b(this,Ci,t.getOutlines()),[this.x,this.y,this.width,this.height]=a(this,Ci).box;const n=new _0(a(this,br),.0025,.001,this._uiManager.direction==="ltr");b(this,Un,n.getOutlines());const{lastPoint:r}=a(this,Un);b(this,uu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Sg=function({highlightOutlines:t,highlightId:n,clipPathId:r}){var y,v;if(b(this,Ci,t),b(this,Un,t.getNewOutline(a(this,ki)/2+1.5,.0025)),n>=0)b(this,si,n),b(this,rl,r),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),b(this,gn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:a(this,Un).box,path:{d:a(this,Un).toSVGPath()}},!0));else if(this.parent){const x=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(a(this,si),{bbox:C(y=Ge,Ri,oc).call(y,a(this,Ci).box,(x-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(a(this,gn),{bbox:C(v=Ge,Ri,oc).call(v,a(this,Un).box,x),path:{d:a(this,Un).toSVGPath()}})}const[l,u,h,p]=t.box;switch(this.rotation){case 0:this.x=l,this.y=u,this.width=h,this.height=p;break;case 90:{const[x,S]=this.parentDimensions;this.x=u,this.y=1-l,this.width=h*S/x,this.height=p*x/S;break}case 180:this.x=1-l,this.y=1-u,this.width=h,this.height=p;break;case 270:{const[x,S]=this.parentDimensions;this.x=1-u,this.y=l,this.width=h*S/x,this.height=p*x/S;break}}const{lastPoint:g}=a(this,Un);b(this,uu,[(g[0]-l)/h,(g[1]-u)/p])},d_=function(t){const n=(l,u)=>{var h,p;this.color=l,b(this,xr,u),(h=this.parent)==null||h.drawLayer.updateProperties(a(this,si),{root:{fill:l,"fill-opacity":u}}),(p=a(this,mf))==null||p.updateColor(l)},r=this.color,o=a(this,xr);this.addCommands({cmd:n.bind(this,t,Ge._defaultOpacity),undo:n.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},h_=function(t){const n=a(this,ki),r=o=>{b(this,ki,o),C(this,Ne,f_).call(this,o)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},f_=function(t){if(!a(this,nn))return;C(this,Ne,Sg).call(this,{highlightOutlines:a(this,Ci).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},L0=function(){a(this,si)===null||!this.parent||(this.parent.drawLayer.remove(a(this,si)),b(this,si,null),this.parent.drawLayer.remove(a(this,gn)),b(this,gn,null))},da=function(t=this.parent){a(this,si)===null&&({id:bn(this,si)._,clipPathId:bn(this,rl)._}=t.drawLayer.draw({bbox:a(this,Ci).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":a(this,xr)},rootClass:{highlight:!0,free:a(this,nn)},path:{d:a(this,Ci).toSVGPath()}},!1,!0),b(this,gn,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:a(this,nn)},bbox:a(this,Un).box,path:{d:a(this,Un).toSVGPath()}},a(this,nn))),a(this,ol)&&(a(this,ol).style.clipPath=a(this,rl)))},Ri=new WeakSet,oc=function([t,n,r,o],l){switch(l){case 90:return[1-n-o,t,o,r];case 180:return[1-t-r,1-n-o,r,o];case 270:return[n,1-t-r,o,r]}return[t,n,r,o]},p_=function(t){Ge._keyboardManager.exec(this,t)},Eg=function(t){if(!a(this,cu))return;const n=window.getSelection();t?n.setPosition(a(this,cu),a(this,gf)):n.setPosition(a(this,yf),a(this,vf))},Md=function(){return a(this,nn)?this.rotation:0},g_=function(){if(a(this,nn))return null;const[t,n]=this.pageDimensions,[r,o]=this.pageTranslation,l=a(this,br),u=new Float32Array(l.length*8);let h=0;for(const{x:p,y:g,width:y,height:v}of l){const x=p*t+r,S=(1-g)*n+o;u[h]=u[h+4]=x,u[h+1]=u[h+3]=S,u[h+2]=u[h+6]=x+y*t,u[h+5]=u[h+7]=S-v*n,h+=8}return u},m_=function(t){return a(this,Ci).serialize(t,C(this,Ne,Md).call(this))},y_=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},v_=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},w_=function(t){const{color:n}=this._initialData;return t.color.some((r,o)=>r!==n[o])},E(Ge,Ri),te(Ge,"_defaultColor",null),te(Ge,"_defaultOpacity",1),te(Ge,"_defaultThickness",12),te(Ge,"_type","highlight"),te(Ge,"_editorType",Te.HIGHLIGHT),te(Ge,"_freeHighlightId",-1),te(Ge,"_freeHighlight",null),te(Ge,"_freeHighlightClipId","");let jg=Ge;var al;class b_{constructor(){E(this,al,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){a(this,al)[e]=t}toSVGProperties(){const e=a(this,al);return b(this,al,Object.create(null)),{root:e}}reset(){b(this,al,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Ze("Not implemented")}}al=new WeakMap;var ri,hu,Wt,ll,cl,Ro,No,Lo,ul,$e,M0,I0,D0,Id,x_,_g,Dd,ac;const fe=class fe extends st{constructor(t){super(t);E(this,$e);E(this,ri,null);E(this,hu);te(this,"_drawId",null);b(this,hu,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(C(this,$e,M0).call(this,t),C(this,$e,Id).call(this))}static _mergeSVGProperties(t,n){const r=new Set(Object.keys(t));for(const[o,l]of Object.entries(n))r.has(o)?Object.assign(t[o],l):t[o]=l;return t}static getDefaultDrawingOptions(t){Ze("Not implemented")}static get typesMap(){Ze("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(a(fe,Wt).updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[r,o]of this.typesMap)t.push([r,n[o]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[r,o]of this.constructor.typesMap)t.push([r,n[o]]);return t}_updateProperty(t,n,r){const o=this._drawingOptions,l=o[n],u=h=>{var g;o.updateProperty(n,h);const p=a(this,ri).updateProperty(n,h);p&&C(this,$e,Dd).call(this,p),(g=this.parent)==null||g.drawLayer.updateProperties(this._drawId,o.toSVGProperties())};this.addCommands({cmd:u.bind(this,r),undo:u.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties(a(this,ri).getPathResizingSVGProperties(C(this,$e,_g).call(this)),{bbox:C(this,$e,ac).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties(a(this,ri).getPathResizedSVGProperties(C(this,$e,_g).call(this)),{bbox:C(this,$e,ac).call(this)}))}_onTranslating(t,n){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:C(this,$e,ac).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties(a(this,ri).getPathTranslatedSVGProperties(C(this,$e,_g).call(this),this.parentDimensions),{bbox:C(this,$e,ac).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,a(this,hu)&&(b(this,hu,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){C(this,$e,D0).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(C(this,$e,Id).call(this),C(this,$e,Dd).call(this,a(this,ri).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),C(this,$e,D0).call(this)):t&&(this._uiManager.addShouldRescale(this),C(this,$e,Id).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties({bbox:C(this,$e,ac).call(this)},a(this,ri).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&C(this,$e,Dd).call(this,a(this,ri).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const r=super.render();r.classList.add("draw");const o=document.createElement("div");r.append(o),o.setAttribute("aria-hidden","true"),o.className="internal";const[l,u]=this.parentDimensions;return this.setDims(this.width*l,this.height*u),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),r}static createDrawerInstance(t,n,r,o,l){Ze("Not implemented")}static startDrawing(t,n,r,o){var T;const{target:l,offsetX:u,offsetY:h,pointerId:p,pointerType:g}=o;if(a(fe,No)&&a(fe,No)!==g)return;const{viewport:{rotation:y}}=t,{width:v,height:x}=l.getBoundingClientRect(),S=b(fe,ll,new AbortController),A=t.combinedSignal(S);if(a(fe,Ro)||b(fe,Ro,p),a(fe,No)??b(fe,No,g),window.addEventListener("pointerup",P=>{var R;a(fe,Ro)===P.pointerId?this._endDraw(P):(R=a(fe,Lo))==null||R.delete(P.pointerId)},{signal:A}),window.addEventListener("pointercancel",P=>{var R;a(fe,Ro)===P.pointerId?this._currentParent.endDrawingSession():(R=a(fe,Lo))==null||R.delete(P.pointerId)},{signal:A}),window.addEventListener("pointerdown",P=>{a(fe,No)===P.pointerType&&((a(fe,Lo)||b(fe,Lo,new Set)).add(P.pointerId),a(fe,Wt).isCancellable()&&(a(fe,Wt).removeLastElement(),a(fe,Wt).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",Li,{signal:A}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:A}),l.addEventListener("touchmove",P=>{P.timeStamp===a(fe,ul)&&Tt(P)},{signal:A}),t.toggleDrawing(),(T=n._editorUndoBar)==null||T.hide(),a(fe,Wt)){t.drawLayer.updateProperties(this._currentDrawId,a(fe,Wt).startNew(u,h,v,x,y));return}n.updateUIForDefaultProperties(this),b(fe,Wt,this.createDrawerInstance(u,h,v,x,y)),b(fe,cl,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(a(fe,cl).toSVGProperties(),a(fe,Wt).defaultSVGProperties),!0,!1)}static _drawMove(t){var l;if(b(fe,ul,-1),!a(fe,Wt))return;const{offsetX:n,offsetY:r,pointerId:o}=t;if(a(fe,Ro)===o){if(((l=a(fe,Lo))==null?void 0:l.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,a(fe,Wt).add(n,r)),b(fe,ul,t.timeStamp),Tt(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,b(fe,Wt,null),b(fe,cl,null),b(fe,No,null),b(fe,ul,NaN)),a(fe,ll)&&(a(fe,ll).abort(),b(fe,ll,null),b(fe,Ro,NaN),b(fe,Lo,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,a(fe,Wt).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=a(fe,Wt),o=this._currentDrawId,l=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(o,r.setLastElement(l))},undo:()=>{n.drawLayer.updateProperties(o,r.removeLastElement())},mustExec:!1,type:He.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(He.DRAW_STEP),!a(fe,Wt).isEmpty()){const{pageDimensions:[r,o],scale:l}=n,u=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:a(fe,Wt).getOutlines(r*l,o*l,l,this._INNER_MARGIN),drawingOptions:a(fe,cl),mustBeCommitted:!t});return this._cleanup(!0),u}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,r,o,l,u){Ze("Not implemented")}static async deserialize(t,n,r){var y,v;const{rawDims:{pageWidth:o,pageHeight:l,pageX:u,pageY:h}}=n.viewport,p=this.deserializeDraw(u,h,o,l,this._INNER_MARGIN,t),g=await super.deserialize(t,n,r);return g.createDrawingOptions(t),C(y=g,$e,M0).call(y,{drawOutlines:p}),C(v=g,$e,Id).call(v),g.onScaleChanging(),g.rotate(),g}serializeDraw(t){const[n,r]=this.pageTranslation,[o,l]=this.pageDimensions;return a(this,ri).serialize([n,r,o,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};ri=new WeakMap,hu=new WeakMap,Wt=new WeakMap,ll=new WeakMap,cl=new WeakMap,Ro=new WeakMap,No=new WeakMap,Lo=new WeakMap,ul=new WeakMap,$e=new WeakSet,M0=function({drawOutlines:t,drawId:n,drawingOptions:r}){b(this,ri,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=C(this,$e,I0).call(this,t,this.parent),C(this,$e,Dd).call(this,t.box)},I0=function(t,n){const{id:r}=n.drawLayer.draw(fe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},D0=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Id=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=C(this,$e,I0).call(this,a(this,ri),t)}},x_=function([t,n,r,o]){const{parentDimensions:[l,u],rotation:h}=this;switch(h){case 90:return[n,1-t,r*(u/l),o*(l/u)];case 180:return[1-t,1-n,r,o];case 270:return[1-n,t,r*(u/l),o*(l/u)];default:return[t,n,r,o]}},_g=function(){const{x:t,y:n,width:r,height:o,parentDimensions:[l,u],rotation:h}=this;switch(h){case 90:return[1-n,t,r*(l/u),o*(u/l)];case 180:return[1-t,1-n,r,o];case 270:return[n,1-t,r*(l/u),o*(u/l)];default:return[t,n,r,o]}},Dd=function(t){if([this.x,this.y,this.width,this.height]=C(this,$e,x_).call(this,t),this.div){this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)}this._onResized()},ac=function(){const{x:t,y:n,width:r,height:o,rotation:l,parentRotation:u,parentDimensions:[h,p]}=this;switch((l*4+u)/90){case 1:return[1-n-o,t,o,r];case 2:return[1-t-r,1-n-o,r,o];case 3:return[n,1-t-r,o,r];case 4:return[t,n-r*(h/p),o*(p/h),r*(h/p)];case 5:return[1-n,t,r*(h/p),o*(p/h)];case 6:return[1-t-o*(p/h),1-n,o*(p/h),r*(h/p)];case 7:return[n-r*(h/p),1-t-o*(p/h),r*(h/p),o*(p/h)];case 8:return[t-r,n-o,r,o];case 9:return[1-n,t-r,o,r];case 10:return[1-t,1-n,r,o];case 11:return[n-o,1-t,o,r];case 12:return[t-o*(p/h),n,o*(p/h),r*(h/p)];case 13:return[1-n-r*(h/p),t-o*(p/h),r*(h/p),o*(p/h)];case 14:return[1-t,1-n-r*(h/p),o*(p/h),r*(h/p)];case 15:return[n,1-t,r*(h/p),o*(p/h)];default:return[t,n,r,o]}},te(fe,"_currentDrawId",-1),te(fe,"_currentParent",null),E(fe,Wt,null),E(fe,ll,null),E(fe,cl,null),E(fe,Ro,NaN),E(fe,No,null),E(fe,Lo,null),E(fe,ul,NaN),te(fe,"_INNER_MARGIN",3);let zg=fe;var Cs,Gt,Xt,dl,fu,Sn,sn,Ti,hl,fl,pl,pu,Cg;class H2{constructor(e,t,n,r,o,l){E(this,pu);E(this,Cs,new Float64Array(6));E(this,Gt);E(this,Xt);E(this,dl);E(this,fu);E(this,Sn);E(this,sn,"");E(this,Ti,0);E(this,hl,new Pf);E(this,fl);E(this,pl);b(this,fl,n),b(this,pl,r),b(this,dl,o),b(this,fu,l),[e,t]=C(this,pu,Cg).call(this,e,t);const u=b(this,Gt,[NaN,NaN,NaN,NaN,e,t]);b(this,Sn,[e,t]),b(this,Xt,[{line:u,points:a(this,Sn)}]),a(this,Cs).set(u,0)}updateProperty(e,t){e==="stroke-width"&&b(this,fu,t)}isEmpty(){return!a(this,Xt)||a(this,Xt).length===0}isCancellable(){return a(this,Sn).length<=10}add(e,t){[e,t]=C(this,pu,Cg).call(this,e,t);const[n,r,o,l]=a(this,Cs).subarray(2,6),u=e-o,h=t-l;return Math.hypot(a(this,fl)*u,a(this,pl)*h)<=2?null:(a(this,Sn).push(e,t),isNaN(n)?(a(this,Cs).set([o,l,e,t],2),a(this,Gt).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(a(this,Cs)[0])&&a(this,Gt).splice(6,6),a(this,Cs).set([n,r,o,l,e,t],0),a(this,Gt).push(...de.createBezierPoints(n,r,o,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(a(this,Sn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,r,o){b(this,fl,n),b(this,pl,r),b(this,dl,o),[e,t]=C(this,pu,Cg).call(this,e,t);const l=b(this,Gt,[NaN,NaN,NaN,NaN,e,t]);b(this,Sn,[e,t]);const u=a(this,Xt).at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),a(this,Xt).push({line:l,points:a(this,Sn)}),a(this,Cs).set(l,0),b(this,Ti,0),this.toSVGPath(),null}getLastElement(){return a(this,Xt).at(-1)}setLastElement(e){return a(this,Xt)?(a(this,Xt).push(e),b(this,Gt,e.line),b(this,Sn,e.points),b(this,Ti,0),{path:{d:this.toSVGPath()}}):a(this,hl).setLastElement(e)}removeLastElement(){if(!a(this,Xt))return a(this,hl).removeLastElement();a(this,Xt).pop(),b(this,sn,"");for(let e=0,t=a(this,Xt).length;e<t;e++){const{line:n,points:r}=a(this,Xt)[e];b(this,Gt,n),b(this,Sn,r),b(this,Ti,0),this.toSVGPath()}return{path:{d:a(this,sn)}}}toSVGPath(){const e=de.svgRound(a(this,Gt)[4]),t=de.svgRound(a(this,Gt)[5]);if(a(this,Sn).length===2)return b(this,sn,`${a(this,sn)} M ${e} ${t} Z`),a(this,sn);if(a(this,Sn).length<=6){const r=a(this,sn).lastIndexOf("M");b(this,sn,`${a(this,sn).slice(0,r)} M ${e} ${t}`),b(this,Ti,6)}if(a(this,Sn).length===4){const r=de.svgRound(a(this,Gt)[10]),o=de.svgRound(a(this,Gt)[11]);return b(this,sn,`${a(this,sn)} L ${r} ${o}`),b(this,Ti,12),a(this,sn)}const n=[];a(this,Ti)===0&&(n.push(`M ${e} ${t}`),b(this,Ti,6));for(let r=a(this,Ti),o=a(this,Gt).length;r<o;r+=6){const[l,u,h,p,g,y]=a(this,Gt).slice(r,r+6).map(de.svgRound);n.push(`C${l} ${u} ${h} ${p} ${g} ${y}`)}return b(this,sn,a(this,sn)+n.join(" ")),b(this,Ti,a(this,Gt).length),a(this,sn)}getOutlines(e,t,n,r){const o=a(this,Xt).at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),a(this,hl).build(a(this,Xt),e,t,n,a(this,dl),a(this,fu),r),b(this,Cs,null),b(this,Gt,null),b(this,Xt,null),b(this,sn,null),a(this,hl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Cs=new WeakMap,Gt=new WeakMap,Xt=new WeakMap,dl=new WeakMap,fu=new WeakMap,Sn=new WeakMap,sn=new WeakMap,Ti=new WeakMap,hl=new WeakMap,fl=new WeakMap,pl=new WeakMap,pu=new WeakSet,Cg=function(e,t){return de._normalizePoint(e,t,a(this,fl),a(this,pl),a(this,dl))};var En,bf,xf,oi,ks,Ts,gu,mu,gl,on,qs,A_,S_,E_;class Pf extends de{constructor(){super(...arguments);E(this,on);E(this,En);E(this,bf,0);E(this,xf);E(this,oi);E(this,ks);E(this,Ts);E(this,gu);E(this,mu);E(this,gl)}build(t,n,r,o,l,u,h){b(this,ks,n),b(this,Ts,r),b(this,gu,o),b(this,mu,l),b(this,gl,u),b(this,xf,h??0),b(this,oi,t),C(this,on,S_).call(this)}get thickness(){return a(this,gl)}setLastElement(t){return a(this,oi).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return a(this,oi).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of a(this,oi)){if(t.push(`M${de.svgRound(n[4])} ${de.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${de.svgRound(n[10])} ${de.svgRound(n[11])}`);continue}for(let r=6,o=n.length;r<o;r+=6){const[l,u,h,p,g,y]=n.subarray(r,r+6).map(de.svgRound);t.push(`C${l} ${u} ${h} ${p} ${g} ${y}`)}}return t.join("")}serialize([t,n,r,o],l){const u=[],h=[],[p,g,y,v]=C(this,on,A_).call(this);let x,S,A,T,P,R,L,M,I;switch(a(this,mu)){case 0:I=de._rescale,x=t,S=n+o,A=r,T=-o,P=t+p*r,R=n+(1-g-v)*o,L=t+(p+y)*r,M=n+(1-g)*o;break;case 90:I=de._rescaleAndSwap,x=t,S=n,A=r,T=o,P=t+g*r,R=n+p*o,L=t+(g+v)*r,M=n+(p+y)*o;break;case 180:I=de._rescale,x=t+r,S=n,A=-r,T=o,P=t+(1-p-y)*r,R=n+g*o,L=t+(1-p)*r,M=n+(g+v)*o;break;case 270:I=de._rescaleAndSwap,x=t+r,S=n+o,A=-r,T=-o,P=t+(1-g-v)*r,R=n+(1-p-y)*o,L=t+(1-g)*r,M=n+(1-p)*o;break}for(const{line:B,points:O}of a(this,oi))u.push(I(B,x,S,A,T,l?new Array(B.length):null)),h.push(I(O,x,S,A,T,l?new Array(O.length):null));return{lines:u,points:h,rect:[P,R,L,M]}}static deserialize(t,n,r,o,l,{paths:{lines:u,points:h},rotation:p,thickness:g}){const y=[];let v,x,S,A,T;switch(p){case 0:T=de._rescale,v=-t/r,x=n/o+1,S=1/r,A=-1/o;break;case 90:T=de._rescaleAndSwap,v=-n/o,x=-t/r,S=1/o,A=1/r;break;case 180:T=de._rescale,v=t/r+1,x=-n/o,S=-1/r,A=1/o;break;case 270:T=de._rescaleAndSwap,v=n/o+1,x=t/r+1,S=-1/o,A=-1/r;break}if(!u){u=[];for(const R of h){const L=R.length;if(L===2){u.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1]]));continue}if(L===4){u.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1],NaN,NaN,NaN,NaN,R[2],R[3]]));continue}const M=new Float32Array(3*(L-2));u.push(M);let[I,B,O,V]=R.subarray(0,4);M.set([NaN,NaN,NaN,NaN,I,B],0);for(let G=4;G<L;G+=2){const K=R[G],ee=R[G+1];M.set(de.createBezierPoints(I,B,O,V,K,ee),(G-2)*3),[I,B,O,V]=[O,V,K,ee]}}}for(let R=0,L=u.length;R<L;R++)y.push({line:T(u[R].map(M=>M??NaN),v,x,S,A),points:T(h[R].map(M=>M??NaN),v,x,S,A)});const P=new this.prototype.constructor;return P.build(y,r,o,1,p,g,l),P}get box(){return a(this,En)}updateProperty(t,n){return t==="stroke-width"?C(this,on,E_).call(this,n):null}updateParentDimensions([t,n],r){const[o,l]=C(this,on,qs).call(this);b(this,ks,t),b(this,Ts,n),b(this,gu,r);const[u,h]=C(this,on,qs).call(this),p=u-o,g=h-l,y=a(this,En);return y[0]-=p,y[1]-=g,y[2]+=2*p,y[3]+=2*g,y}updateRotation(t){return b(this,bf,t),{path:{transform:this.rotationTransform}}}get viewBox(){return a(this,En).map(de.svgRound).join(" ")}get defaultProperties(){const[t,n]=a(this,En);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(t)} ${de.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=a(this,En);let r=0,o=0,l=0,u=0,h=0,p=0;switch(a(this,bf)){case 90:o=n/t,l=-t/n,h=t;break;case 180:r=-1,u=-1,h=t,p=n;break;case 270:o=-n/t,l=t/n,p=n;break;default:return""}return`matrix(${r} ${o} ${l} ${u} ${de.svgRound(h)} ${de.svgRound(p)})`}getPathResizingSVGProperties([t,n,r,o]){const[l,u]=C(this,on,qs).call(this),[h,p,g,y]=a(this,En);if(Math.abs(g-l)<=de.PRECISION||Math.abs(y-u)<=de.PRECISION){const T=t+r/2-(h+g/2),P=n+o/2-(p+y/2);return{path:{"transform-origin":`${de.svgRound(t)} ${de.svgRound(n)}`,transform:`${this.rotationTransform} translate(${T} ${P})`}}}const v=(r-2*l)/(g-2*l),x=(o-2*u)/(y-2*u),S=g/r,A=y/o;return{path:{"transform-origin":`${de.svgRound(h)} ${de.svgRound(p)}`,transform:`${this.rotationTransform} scale(${S} ${A}) translate(${de.svgRound(l)} ${de.svgRound(u)}) scale(${v} ${x}) translate(${de.svgRound(-l)} ${de.svgRound(-u)})`}}}getPathResizedSVGProperties([t,n,r,o]){const[l,u]=C(this,on,qs).call(this),h=a(this,En),[p,g,y,v]=h;if(h[0]=t,h[1]=n,h[2]=r,h[3]=o,Math.abs(y-l)<=de.PRECISION||Math.abs(v-u)<=de.PRECISION){const P=t+r/2-(p+y/2),R=n+o/2-(g+v/2);for(const{line:L,points:M}of a(this,oi))de._translate(L,P,R,L),de._translate(M,P,R,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(t)} ${de.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const x=(r-2*l)/(y-2*l),S=(o-2*u)/(v-2*u),A=-x*(p+l)+t+l,T=-S*(g+u)+n+u;if(x!==1||S!==1||A!==0||T!==0)for(const{line:P,points:R}of a(this,oi))de._rescale(P,A,T,x,S,P),de._rescale(R,A,T,x,S,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(t)} ${de.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],r){const[o,l]=r,u=a(this,En),h=t-u[0],p=n-u[1];if(a(this,ks)===o&&a(this,Ts)===l)for(const{line:g,points:y}of a(this,oi))de._translate(g,h,p,g),de._translate(y,h,p,y);else{const g=a(this,ks)/o,y=a(this,Ts)/l;b(this,ks,o),b(this,Ts,l);for(const{line:v,points:x}of a(this,oi))de._rescale(v,h,p,g,y,v),de._rescale(x,h,p,g,y,x);u[2]*=g,u[3]*=y}return u[0]=t,u[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${de.svgRound(t)} ${de.svgRound(n)}`}}}get defaultSVGProperties(){const t=a(this,En);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${de.svgRound(t[0])} ${de.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}En=new WeakMap,bf=new WeakMap,xf=new WeakMap,oi=new WeakMap,ks=new WeakMap,Ts=new WeakMap,gu=new WeakMap,mu=new WeakMap,gl=new WeakMap,on=new WeakSet,qs=function(t=a(this,gl)){const n=a(this,xf)+t/2*a(this,gu);return a(this,mu)%180===0?[n/a(this,ks),n/a(this,Ts)]:[n/a(this,Ts),n/a(this,ks)]},A_=function(){const[t,n,r,o]=a(this,En),[l,u]=C(this,on,qs).call(this,0);return[t+l,n+u,r-2*l,o-2*u]},S_=function(){const t=b(this,En,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:o}of a(this,oi)){if(o.length<=12){for(let h=4,p=o.length;h<p;h+=6)we.pointBoundingBox(o[h],o[h+1],t);continue}let l=o[4],u=o[5];for(let h=6,p=o.length;h<p;h+=6){const[g,y,v,x,S,A]=o.subarray(h,h+6);we.bezierBoundingBox(l,u,g,y,v,x,S,A,t),l=S,u=A}}const[n,r]=C(this,on,qs).call(this);t[0]=mn(t[0]-n,0,1),t[1]=mn(t[1]-r,0,1),t[2]=mn(t[2]+n,0,1),t[3]=mn(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},E_=function(t){const[n,r]=C(this,on,qs).call(this);b(this,gl,t);const[o,l]=C(this,on,qs).call(this),[u,h]=[o-n,l-r],p=a(this,En);return p[0]-=u,p[1]-=h,p[2]+=2*u,p[3]+=2*h,p};class ym extends b_{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:st._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new ym(this._viewParameters);return e.updateAll(this),e}}var rm,__;const uc=class uc extends zg{constructor(t){super({...t,name:"inkEditor"});E(this,rm);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){st.initialize(t,n),this._defaultDrawingOptions=new ym(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return je(this,"typesMap",new Map([[He.INK_THICKNESS,"stroke-width"],[He.INK_COLOR,"stroke"],[He.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,r,o,l){return new H2(t,n,r,o,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,r,o,l,u){return Pf.deserialize(t,n,r,o,l,u)}static async deserialize(t,n,r){let o=null;if(t instanceof gw){const{data:{inkLists:u,rect:h,rotation:p,id:g,color:y,opacity:v,borderStyle:{rawWidth:x},popupRef:S},parent:{page:{pageNumber:A}}}=t;o=t={annotationType:Te.INK,color:Array.from(y),thickness:x,opacity:v,paths:{points:u},boxes:null,pageIndex:A-1,rect:h.slice(0),rotation:p,annotationElementId:g,id:g,deleted:!1,popupRef:S}}const l=await super.deserialize(t,n,r);return l._initialData=o,l}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:r}){this._drawingOptions=uc.getDefaultDrawingOptions({stroke:we.makeHexColor(...t),"stroke-width":n,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r,rect:o}=this.serializeDraw(t),{_drawingOptions:{stroke:l,"stroke-opacity":u,"stroke-width":h}}=this,p={annotationType:Te.INK,color:st._colorManager.convert(l),opacity:u,thickness:h,paths:{lines:n,points:r},pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(p.isCopy=!0,p):this.annotationElementId&&!C(this,rm,__).call(this,p)?null:(p.id=this.annotationElementId,p)}renderAnnotationElement(t){const{points:n,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n}),null}};rm=new WeakSet,__=function(t){const{color:n,thickness:r,opacity:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((u,h)=>u!==n[h])||t.thickness!==r||t.opacity!==o||t.pageIndex!==l},te(uc,"_type","ink"),te(uc,"_editorType",Te.INK),te(uc,"_defaultDrawingOptions",null);let F0=uc;class O0 extends Pf{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const eg=8,vd=3;var ml,Xe,j0,Zi,C_,k_,z0,kg,T_,P_,R_,B0,H0,N_;class Is{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:r},o,l,u,h){let p=new OffscreenCanvas(1,1),g=p.getContext("2d",{alpha:!1});const y=200,v=g.font=`${n} ${r} ${y}px ${t}`,{actualBoundingBoxLeft:x,actualBoundingBoxRight:S,actualBoundingBoxAscent:A,actualBoundingBoxDescent:T,fontBoundingBoxAscent:P,fontBoundingBoxDescent:R,width:L}=g.measureText(e),M=1.5,I=Math.ceil(Math.max(Math.abs(x)+Math.abs(S)||0,L)*M),B=Math.ceil(Math.max(Math.abs(A)+Math.abs(T)||y,Math.abs(P)+Math.abs(R)||y)*M);p=new OffscreenCanvas(I,B),g=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=v,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,I,B),g.fillStyle="black",g.fillText(e,I*(M-1)/2,B*(3-M)/2);const O=C(this,Xe,B0).call(this,g.getImageData(0,0,I,B).data),V=C(this,Xe,R_).call(this,O),G=C(this,Xe,H0).call(this,V),K=C(this,Xe,z0).call(this,O,I,B,G);return this.processDrawnLines({lines:{curves:K,width:I,height:B},pageWidth:o,pageHeight:l,rotation:u,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(e,t,n,r,o){const[l,u,h]=C(this,Xe,N_).call(this,e),[p,g]=C(this,Xe,P_).call(this,l,u,h,Math.hypot(u,h)*a(this,ml).sigmaSFactor,a(this,ml).sigmaR,a(this,ml).kernelSize),y=C(this,Xe,H0).call(this,g),v=C(this,Xe,z0).call(this,p,u,h,y);return this.processDrawnLines({lines:{curves:v,width:u,height:h},pageWidth:t,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:l,areContours:u}){r%180!==0&&([t,n]=[n,t]);const{curves:h,width:p,height:g}=e,y=e.thickness??0,v=[],x=Math.min(t/p,n/g),S=x/t,A=x/n,T=[];for(const{points:R}of h){const L=l?C(this,Xe,T_).call(this,R):R;if(!L)continue;T.push(L);const M=L.length,I=new Float32Array(M),B=new Float32Array(3*(M===2?2:M-2));if(v.push({line:B,points:I}),M===2){I[0]=L[0]*S,I[1]=L[1]*A,B.set([NaN,NaN,NaN,NaN,I[0],I[1]],0);continue}let[O,V,G,K]=L;O*=S,V*=A,G*=S,K*=A,I.set([O,V,G,K],0),B.set([NaN,NaN,NaN,NaN,O,V],0);for(let ee=4;ee<M;ee+=2){const re=I[ee]=L[ee]*S,ye=I[ee+1]=L[ee+1]*A;B.set(de.createBezierPoints(O,V,G,K,re,ye),(ee-2)*3),[O,V,G,K]=[G,K,re,ye]}}if(v.length===0)return null;const P=u?new O0:new Pf;return P.build(v,t,n,1,r,u?0:y,o),{outline:P,newCurves:T,areContours:u,thickness:y,width:p,height:g}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:r,height:o}){let l=1/0,u=-1/0,h=0;for(const L of e){h+=L.length;for(let M=2,I=L.length;M<I;M++){const B=L[M]-L[M-2];l=Math.min(l,B),u=Math.max(u,B)}}let p;l>=-128&&u<=127?p=Int8Array:l>=-32768&&u<=32767?p=Int16Array:p=Int32Array;const g=e.length,y=eg+vd*g,v=new Uint32Array(y);let x=0;v[x++]=y*Uint32Array.BYTES_PER_ELEMENT+(h-2*g)*p.BYTES_PER_ELEMENT,v[x++]=0,v[x++]=r,v[x++]=o,v[x++]=t?0:1,v[x++]=Math.max(0,Math.floor(n??0)),v[x++]=g,v[x++]=p.BYTES_PER_ELEMENT;for(const L of e)v[x++]=L.length-2,v[x++]=L[0],v[x++]=L[1];const S=new CompressionStream("deflate-raw"),A=S.writable.getWriter();await A.ready,A.write(v);const T=p.prototype.constructor;for(const L of e){const M=new T(L.length-2);for(let I=2,B=L.length;I<B;I++)M[I-2]=L[I]-L[I-2];A.write(M)}A.close();const P=await new Response(S.readable).arrayBuffer(),R=new Uint8Array(P);return PS(R)}static async decompressSignature(e){try{const t=yN(e),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),o=r.getWriter();await o.ready,o.write(t).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,u=0;for await(const L of n)l||(l=new Uint8Array(new Uint32Array(L.buffer,0,4)[0])),l.set(L,u),u+=L.length;const h=new Uint32Array(l.buffer,0,l.length>>2),p=h[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const g=h[2],y=h[3],v=h[4]===0,x=h[5],S=h[6],A=h[7],T=[],P=(eg+vd*S)*Uint32Array.BYTES_PER_ELEMENT;let R;switch(A){case Int8Array.BYTES_PER_ELEMENT:R=new Int8Array(l.buffer,P);break;case Int16Array.BYTES_PER_ELEMENT:R=new Int16Array(l.buffer,P);break;case Int32Array.BYTES_PER_ELEMENT:R=new Int32Array(l.buffer,P);break}u=0;for(let L=0;L<S;L++){const M=h[vd*L+eg],I=new Float32Array(M+2);T.push(I);for(let B=0;B<vd-1;B++)I[B]=h[vd*L+eg+B+1];for(let B=0;B<M;B++)I[B+2]=I[B]+R[u++]}return{areContours:v,thickness:x,outlines:T,width:g,height:y}}catch(t){return Pe(`decompressSignature: ${t}`),null}}}ml=new WeakMap,Xe=new WeakSet,j0=function(e,t,n,r){return n-=e,r-=t,n===0?r>0?0:4:n===1?r+6:2-r},Zi=new WeakMap,C_=function(e,t,n,r,o,l,u){const h=C(this,Xe,j0).call(this,n,r,o,l);for(let p=0;p<8;p++){const g=(-p+h-u+16)%8,y=a(this,Zi)[2*g],v=a(this,Zi)[2*g+1];if(e[(n+y)*t+(r+v)]!==0)return g}return-1},k_=function(e,t,n,r,o,l,u){const h=C(this,Xe,j0).call(this,n,r,o,l);for(let p=0;p<8;p++){const g=(p+h+u+16)%8,y=a(this,Zi)[2*g],v=a(this,Zi)[2*g+1];if(e[(n+y)*t+(r+v)]!==0)return g}return-1},z0=function(e,t,n,r){const o=e.length,l=new Int32Array(o);for(let g=0;g<o;g++)l[g]=e[g]<=r?1:0;for(let g=1;g<n-1;g++)l[g*t]=l[g*t+t-1]=0;for(let g=0;g<t;g++)l[g]=l[t*n-1-g]=0;let u=1,h;const p=[];for(let g=1;g<n-1;g++){h=1;for(let y=1;y<t-1;y++){const v=g*t+y,x=l[v];if(x===0)continue;let S=g,A=y;if(x===1&&l[v-1]===0)u+=1,A-=1;else if(x>=1&&l[v+1]===0)u+=1,A+=1,x>1&&(h=x);else{x!==1&&(h=Math.abs(x));continue}const T=[y,g],P=A===y+1,R={isHole:P,points:T,id:u,parent:0};p.push(R);let L;for(const ee of p)if(ee.id===h){L=ee;break}L?L.isHole?R.parent=P?L.parent:h:R.parent=P?h:L.parent:R.parent=P?h:0;const M=C(this,Xe,C_).call(this,l,t,g,y,S,A,0);if(M===-1){l[v]=-u,l[v]!==1&&(h=Math.abs(l[v]));continue}let I=a(this,Zi)[2*M],B=a(this,Zi)[2*M+1];const O=g+I,V=y+B;S=O,A=V;let G=g,K=y;for(;;){const ee=C(this,Xe,k_).call(this,l,t,G,K,S,A,1);I=a(this,Zi)[2*ee],B=a(this,Zi)[2*ee+1];const re=G+I,ye=K+B;T.push(ye,re);const oe=G*t+K;if(l[oe+1]===0?l[oe]=-u:l[oe]===1&&(l[oe]=u),re===g&&ye===y&&G===O&&K===V){l[v]!==1&&(h=Math.abs(l[v]));break}else S=G,A=K,G=re,K=ye}}}return p},kg=function(e,t,n,r){if(n-t<=4){for(let O=t;O<n-2;O+=2)r.push(e[O],e[O+1]);return}const o=e[t],l=e[t+1],u=e[n-4]-o,h=e[n-3]-l,p=Math.hypot(u,h),g=u/p,y=h/p,v=g*l-y*o,x=h/u,S=1/p,A=Math.atan(x),T=Math.cos(A),P=Math.sin(A),R=S*(Math.abs(T)+Math.abs(P)),L=S*(1-R+R**2),M=Math.max(Math.atan(Math.abs(P+T)*L),Math.atan(Math.abs(P-T)*L));let I=0,B=t;for(let O=t+2;O<n-2;O+=2){const V=Math.abs(v-g*e[O+1]+y*e[O]);V>I&&(B=O,I=V)}I>(p*M)**2?(C(this,Xe,kg).call(this,e,t,B+2,r),C(this,Xe,kg).call(this,e,B,n,r)):r.push(o,l)},T_=function(e){const t=[],n=e.length;return C(this,Xe,kg).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},P_=function(e,t,n,r,o,l){const u=new Float32Array(l**2),h=-2*r**2,p=l>>1;for(let A=0;A<l;A++){const T=(A-p)**2;for(let P=0;P<l;P++)u[A*l+P]=Math.exp((T+(P-p)**2)/h)}const g=new Float32Array(256),y=-2*o**2;for(let A=0;A<256;A++)g[A]=Math.exp(A**2/y);const v=e.length,x=new Uint8Array(v),S=new Uint32Array(256);for(let A=0;A<n;A++)for(let T=0;T<t;T++){const P=A*t+T,R=e[P];let L=0,M=0;for(let B=0;B<l;B++){const O=A+B-p;if(!(O<0||O>=n))for(let V=0;V<l;V++){const G=T+V-p;if(G<0||G>=t)continue;const K=e[O*t+G],ee=u[B*l+V]*g[Math.abs(K-R)];L+=K*ee,M+=ee}}const I=x[P]=Math.round(L/M);S[I]++}return[x,S]},R_=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},B0=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let r=-1/0,o=1/0;for(let u=0,h=n.length;u<h;u++){if(e[(u<<2)+3]===0){r=n[u]=255;continue}const g=n[u]=e[u<<2];g>r&&(r=g),g<o&&(o=g)}const l=255/(r-o);for(let u=0;u<t;u++)n[u]=(n[u]-o)*l;return n},H0=function(e){let t,n=-1/0,r=-1/0;const o=e.findIndex(h=>h!==0);let l=o,u=o;for(t=o;t<256;t++){const h=e[t];h>n&&(t-l>r&&(r=t-l,u=t-1),n=h,l=t)}for(t=u-1;t>=0&&!(e[t]>e[t+1]);t--);return t},N_=function(e){const t=e,{width:n,height:r}=e,{maxDim:o}=a(this,ml);let l=n,u=r;if(n>o||r>o){let v=n,x=r,S=Math.log2(Math.max(n,r)/o);const A=Math.floor(S);S=S===A?A-1:A;for(let P=0;P<S;P++){l=Math.ceil(v/2),u=Math.ceil(x/2);const R=new OffscreenCanvas(l,u);R.getContext("2d").drawImage(e,0,0,v,x,0,0,l,u),v=l,x=u,e!==t&&e.close(),e=R.transferToImageBitmap()}const T=Math.min(o/l,o/u);l=Math.round(l*T),u=Math.round(u*T)}const p=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});p.filter="grayscale(1)",p.drawImage(e,0,0,e.width,e.height,0,0,l,u);const g=p.getImageData(0,0,l,u).data;return[C(this,Xe,B0).call(this,g),l,u]},E(Is,Xe),E(Is,ml,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),E(Is,Zi,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class yw extends b_{constructor(){super(),super.updateProperties({fill:st._defaultLineColor,"stroke-width":0})}clone(){const e=new yw;return e.updateAll(this),e}}class vw extends ym{constructor(e){super(e),super.updateProperties({stroke:st._defaultLineColor,"stroke-width":1})}clone(){const e=new vw(this._viewParameters);return e.updateAll(this),e}}var Mo,Ps,Io,yl;const qn=class qn extends zg{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});E(this,Mo,!1);E(this,Ps,null);E(this,Io,null);E(this,yl,null);this._willKeepAspectRatio=!0,b(this,Io,t.signatureData||null),b(this,Ps,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){st.initialize(t,n),this._defaultDrawingOptions=new yw,this._defaultDrawnSignatureOptions=new vw(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return je(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!a(this,Ps)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(a(this,Io)){const{lines:o,mustSmooth:l,areContours:u,description:h,uuid:p,heightInPage:g}=a(this,Io),{rawDims:{pageWidth:y,pageHeight:v},rotation:x}=this.parent.viewport,S=Is.processDrawnLines({lines:o,pageWidth:y,pageHeight:v,rotation:x,innerMargin:qn._INNER_MARGIN,mustSmooth:l,areContours:u});this.addSignature(S,g,h,p)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return r&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){b(this,yl,t),this.addEditToolbar()}getUuid(){return a(this,yl)}get description(){return a(this,Ps)}set description(t){b(this,Ps,t),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:r,width:o,height:l}=a(this,Io),u=Math.max(o,l),h=Is.processDrawnLines({lines:{curves:t.map(p=>({points:p})),thickness:r,width:o,height:l},pageWidth:u,pageHeight:u,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:h.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,r,o){const{x:l,y:u}=this,{outline:h}=b(this,Io,t);b(this,Mo,h instanceof O0),this.description=r,this.div.setAttribute("data-l10n-args",JSON.stringify({description:r}));let p;a(this,Mo)?p=qn.getDefaultDrawingOptions():(p=qn._defaultDrawnSignatureOptions.clone(),p.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:p});const[g,y]=this.parentDimensions,[,v]=this.pageDimensions;let x=n/v;x=x>=1?.5:x,this.width*=x/this.height,this.width>=1&&(x*=.9/this.width,this.width=.9),this.height=x,this.setDims(g*this.width,y*this.height),this.x=l,this.y=u,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(o),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!o,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:o}=this.parent.viewport;return Is.process(t,n,r,o,qn._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:r,pageHeight:o},rotation:l}=this.parent.viewport;return Is.extractContoursFromText(t,n,r,o,l,qn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:o}=this.parent.viewport;return Is.processDrawnLines({lines:t,pageWidth:n,pageHeight:r,rotation:o,innerMargin:qn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=qn.getDefaultDrawingOptions():(this._drawingOptions=qn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:r,rect:o}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":l}}=this,u={annotationType:Te.SIGNATURE,isSignature:!0,areContours:a(this,Mo),color:[0,0,0],thickness:a(this,Mo)?0:l,pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(u.paths={lines:n,points:r},u.uuid=a(this,yl),u.isCopy=!0):u.lines=n,a(this,Ps)&&(u.accessibilityData={type:"Figure",alt:a(this,Ps)}),u}static deserializeDraw(t,n,r,o,l,u){return u.areContours?O0.deserialize(t,n,r,o,l,u):Pf.deserialize(t,n,r,o,l,u)}static async deserialize(t,n,r){var l;const o=await super.deserialize(t,n,r);return b(o,Mo,t.areContours),b(o,Ps,((l=t.accessibilityData)==null?void 0:l.alt)||""),b(o,yl,t.uuid),o}};Mo=new WeakMap,Ps=new WeakMap,Io=new WeakMap,yl=new WeakMap,te(qn,"_type","signature"),te(qn,"_editorType",Te.SIGNATURE),te(qn,"_defaultDrawingOptions",null);let U0=qn;var dt,qt,Do,Ar,Fo,yu,Sr,vl,Rs,ai,vu,Ve,Fd,Od,Tg,Pg,Rg,V0,Ng,L_;class $0 extends st{constructor(t){super({...t,name:"stampEditor"});E(this,Ve);E(this,dt,null);E(this,qt,null);E(this,Do,null);E(this,Ar,null);E(this,Fo,null);E(this,yu,"");E(this,Sr,null);E(this,vl,!1);E(this,Rs,null);E(this,ai,!1);E(this,vu,!1);b(this,Ar,t.bitmapUrl),b(this,Fo,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){st.initialize(t,n)}static isHandlingMimeForPasting(t){return Dg.includes(t)}static paste(t,n){n.pasteEditor({mode:Te.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:l,height:u}=t||this.copyCanvas(null,null,!0).imageData,h=await r.guess({name:"altText",request:{data:o,width:l,height:u,channels:o.length/(l*u)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const p=h.output;return await this.setGuessedAltText(p),n&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var t;a(this,qt)&&(b(this,dt,null),this._uiManager.imageManager.deleteId(a(this,qt)),(t=a(this,Sr))==null||t.remove(),b(this,Sr,null),a(this,Rs)&&(clearTimeout(a(this,Rs)),b(this,Rs,null))),super.remove()}rebuild(){if(!this.parent){a(this,qt)&&C(this,Ve,Tg).call(this);return}super.rebuild(),this.div!==null&&(a(this,qt)&&a(this,Sr)===null&&C(this,Ve,Tg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(a(this,Do)||a(this,dt)||a(this,Ar)||a(this,Fo)||a(this,qt)||a(this,vl))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),a(this,vl)||(a(this,dt)?C(this,Ve,Pg).call(this):C(this,Ve,Tg).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:r,bitmap:o}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(b(this,qt,r),o&&b(this,dt,o),b(this,vl,!1),C(this,Ve,Pg).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;a(this,Rs)!==null&&clearTimeout(a(this,Rs)),b(this,Rs,setTimeout(()=>{b(this,Rs,null),C(this,Ve,V0).call(this)},200))}copyCanvas(t,n,r=!1){var x;t||(t=224);const{width:o,height:l}=a(this,dt),u=new is;let h=a(this,dt),p=o,g=l,y=null;if(n){if(o>n||l>n){const V=Math.min(n/o,n/l);p=Math.floor(o*V),g=Math.floor(l*V)}y=document.createElement("canvas");const S=y.width=Math.ceil(p*u.sx),A=y.height=Math.ceil(g*u.sy);a(this,ai)||(h=C(this,Ve,Rg).call(this,S,A));const T=y.getContext("2d");T.filter=this._uiManager.hcmFilter;let P="white",R="#cfcfd8";this._uiManager.hcmFilter!=="none"?R="black":(x=window.matchMedia)!=null&&x.call(window,"(prefers-color-scheme: dark)").matches&&(P="#8f8f9d",R="#42414d");const L=15,M=L*u.sx,I=L*u.sy,B=new OffscreenCanvas(M*2,I*2),O=B.getContext("2d");O.fillStyle=P,O.fillRect(0,0,M*2,I*2),O.fillStyle=R,O.fillRect(0,0,M,I),O.fillRect(M,I,M,I),T.fillStyle=T.createPattern(B,"repeat"),T.fillRect(0,0,S,A),T.drawImage(h,0,0,h.width,h.height,0,0,S,A)}let v=null;if(r){let S,A;if(u.symmetric&&h.width<t&&h.height<t)S=h.width,A=h.height;else if(h=a(this,dt),o>t||l>t){const R=Math.min(t/o,t/l);S=Math.floor(o*R),A=Math.floor(l*R),a(this,ai)||(h=C(this,Ve,Rg).call(this,S,A))}const P=new OffscreenCanvas(S,A).getContext("2d",{willReadFrequently:!0});P.drawImage(h,0,0,h.width,h.height,0,0,S,A),v={width:S,height:A,data:P.getImageData(0,0,S,A).data}}return{canvas:y,width:p,height:g,imageData:v}}static async deserialize(t,n,r){var T;let o=null,l=!1;if(t instanceof XE){const{data:{rect:P,rotation:R,id:L,structParent:M,popupRef:I},container:B,parent:{page:{pageNumber:O}},canvas:V}=t;let G,K;V?(delete t.canvas,{id:G,bitmap:K}=r.imageManager.getFromCanvas(B.id,V),V.remove()):(l=!0,t._hasNoCanvas=!0);const ee=((T=await n._structTree.getAriaAttributes(`${ow}${L}`))==null?void 0:T.get("aria-label"))||"";o=t={annotationType:Te.STAMP,bitmapId:G,bitmap:K,pageIndex:O-1,rect:P.slice(0),rotation:R,annotationElementId:L,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:ee},isSvg:!1,structParent:M,popupRef:I}}const u=await super.deserialize(t,n,r),{rect:h,bitmap:p,bitmapUrl:g,bitmapId:y,isSvg:v,accessibilityData:x}=t;l?(r.addMissingCanvas(t.id,u),b(u,vl,!0)):y&&r.imageManager.isValidId(y)?(b(u,qt,y),p&&b(u,dt,p)):b(u,Ar,g),b(u,ai,v);const[S,A]=u.pageDimensions;return u.width=(h[2]-h[0])/S,u.height=(h[3]-h[1])/A,x&&(u.altTextData=x),u._initialData=o,b(u,vu,!!o),u}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Te.STAMP,bitmapId:a(this,qt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:a(this,ai),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=C(this,Ve,Ng).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:o,altText:l}=this.serializeAltText(!1);if(!o&&l&&(r.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const h=C(this,Ve,L_).call(this,r);if(h.isSame)return null;h.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const u=a(this,ai)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(a(this,qt)))n.stamps.set(a(this,qt),{area:u,serialized:r}),r.bitmap=C(this,Ve,Ng).call(this,!1);else if(a(this,ai)){const h=n.stamps.get(a(this,qt));u>h.area&&(h.area=u,h.serialized.bitmap.close(),h.serialized.bitmap=C(this,Ve,Ng).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}dt=new WeakMap,qt=new WeakMap,Do=new WeakMap,Ar=new WeakMap,Fo=new WeakMap,yu=new WeakMap,Sr=new WeakMap,vl=new WeakMap,Rs=new WeakMap,ai=new WeakMap,vu=new WeakMap,Ve=new WeakSet,Fd=function(t,n=!1){if(!t){this.remove();return}b(this,dt,t.bitmap),n||(b(this,qt,t.id),b(this,ai,t.isSvg)),t.file&&b(this,yu,t.file.name),C(this,Ve,Pg).call(this)},Od=function(){if(b(this,Do,null),this._uiManager.enableWaiting(!1),!!a(this,Sr)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&a(this,dt)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&a(this,dt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Tg=function(){if(a(this,qt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(a(this,qt)).then(r=>C(this,Ve,Fd).call(this,r,!0)).finally(()=>C(this,Ve,Od).call(this));return}if(a(this,Ar)){const r=a(this,Ar);b(this,Ar,null),this._uiManager.enableWaiting(!0),b(this,Do,this._uiManager.imageManager.getFromUrl(r).then(o=>C(this,Ve,Fd).call(this,o)).finally(()=>C(this,Ve,Od).call(this)));return}if(a(this,Fo)){const r=a(this,Fo);b(this,Fo,null),this._uiManager.enableWaiting(!0),b(this,Do,this._uiManager.imageManager.getFromFile(r).then(o=>C(this,Ve,Fd).call(this,o)).finally(()=>C(this,Ve,Od).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Dg.join(",");const n=this._uiManager._signal;b(this,Do,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),C(this,Ve,Fd).call(this,o)}r()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>C(this,Ve,Od).call(this))),t.click()},Pg=function(){var y;const{div:t}=this;let{width:n,height:r}=a(this,dt);const[o,l]=this.pageDimensions,u=.75;if(this.width)n=this.width*o,r=this.height*l;else if(n>u*o||r>u*l){const v=Math.min(u*o/n,u*l/r);n*=v,r*=v}const[h,p]=this.parentDimensions;this.setDims(n*h/o,r*p/l),this._uiManager.enableWaiting(!1);const g=b(this,Sr,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),this.width=n/o,this.height=r/l,(y=this._initialOptions)!=null&&y.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),C(this,Ve,V0).call(this),a(this,vu)||(this.parent.addUndoableEditor(this),b(this,vu,!0)),this._reportTelemetry({action:"inserted_image"}),a(this,yu)&&this.div.setAttribute("aria-description",a(this,yu)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Rg=function(t,n){const{width:r,height:o}=a(this,dt);let l=r,u=o,h=a(this,dt);for(;l>2*t||u>2*n;){const p=l,g=u;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),u>2*n&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const y=new OffscreenCanvas(l,u);y.getContext("2d").drawImage(h,0,0,p,g,0,0,l,u),h=y.transferToImageBitmap()}return h},V0=function(){const[t,n]=this.parentDimensions,{width:r,height:o}=this,l=new is,u=Math.ceil(r*t*l.sx),h=Math.ceil(o*n*l.sy),p=a(this,Sr);if(!p||p.width===u&&p.height===h)return;p.width=u,p.height=h;const g=a(this,ai)?a(this,dt):C(this,Ve,Rg).call(this,u,h),y=p.getContext("2d");y.filter=this._uiManager.hcmFilter,y.drawImage(g,0,0,g.width,g.height,0,0,u,h)},Ng=function(t){if(t){if(a(this,ai)){const o=this._uiManager.imageManager.getSvgUrl(a(this,qt));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=a(this,dt),n.getContext("2d").drawImage(a(this,dt),0,0),n.toDataURL()}if(a(this,ai)){const[n,r]=this.pageDimensions,o=Math.round(this.width*n*Rr.PDF_TO_CSS_UNITS),l=Math.round(this.height*r*Rr.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(o,l);return u.getContext("2d").drawImage(a(this,dt),0,0,a(this,dt).width,a(this,dt).height,0,0,o,l),u.transferToImageBitmap()}return structuredClone(a(this,dt))},L_=function(t){var u;const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,o=t.pageIndex===n,l=(((u=t.accessibilityData)==null?void 0:u.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&o&&l,isSameAltText:l}},te($0,"_type","stamp"),te($0,"_editorType",Te.STAMP);var wl,wu,Ns,Oo,Er,li,jo,bu,bl,es,_r,Yt,Cr,zo,xu,ve,Bo,ht,M_,ps,W0,G0,Lg;const $i=class $i{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:o,annotationLayer:l,drawLayer:u,textLayer:h,viewport:p,l10n:g}){E(this,ht);E(this,wl);E(this,wu,!1);E(this,Ns,null);E(this,Oo,null);E(this,Er,null);E(this,li,new Map);E(this,jo,!1);E(this,bu,!1);E(this,bl,!1);E(this,es,null);E(this,_r,null);E(this,Yt,null);E(this,Cr,null);E(this,zo,null);E(this,xu,-1);E(this,ve);const y=[...a($i,Bo).values()];if(!$i._initialized){$i._initialized=!0;for(const v of y)v.initialize(g,e)}e.registerEditorTypes(y),b(this,ve,e),this.pageIndex=t,this.div=n,b(this,wl,o),b(this,Ns,l),this.viewport=p,b(this,Yt,h),this.drawLayer=u,this._structTree=r,a(this,ve).addLayer(this)}get isEmpty(){return a(this,li).size===0}get isInvisible(){return this.isEmpty&&a(this,ve).getMode()===Te.NONE}updateToolbar(e){a(this,ve).updateToolbar(e)}updateMode(e=a(this,ve).getMode()){switch(C(this,ht,Lg).call(this),e){case Te.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Te.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Te.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of a($i,Bo).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=a(this,Yt))==null?void 0:t.div)}setEditingState(e){a(this,ve).setEditingState(e)}addCommands(e){a(this,ve).addCommands(e)}cleanUndoStack(e){a(this,ve).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=a(this,Ns))==null||t.div.classList.toggle("disabled",!e)}async enable(){var n;b(this,bl,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(n=a(this,zo))==null||n.abort(),b(this,zo,null);const e=new Set;for(const r of a(this,li).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(a(this,ve).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!a(this,Ns)){b(this,bl,!1);return}const t=a(this,Ns).getEditableAnnotations();for(const r of t){if(r.hide(),a(this,ve).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const o=await this.deserialize(r);o&&(this.addOrRebuild(o),o.enableEditing())}b(this,bl,!1)}disable(){var r;if(b(this,bu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),a(this,Yt)&&!a(this,zo)){b(this,zo,new AbortController);const o=a(this,ve).combinedSignal(a(this,zo));a(this,Yt).div.addEventListener("pointerdown",l=>{const{clientX:h,clientY:p,timeStamp:g}=l,y=a(this,xu);if(g-y>500){b(this,xu,g);return}b(this,xu,-1);const{classList:v}=this.div;v.toggle("getElements",!0);const x=document.elementsFromPoint(h,p);if(v.toggle("getElements",!1),!this.div.contains(x[0]))return;let S;const A=new RegExp(`^${ES}[0-9]+$`);for(const P of x)if(A.test(P.id)){S=P.id;break}if(!S)return;const T=a(this,li).get(S);(T==null?void 0:T.annotationElementId)===null&&(l.stopPropagation(),l.preventDefault(),T.dblclick())},{signal:o,capture:!0})}const e=new Map,t=new Map;for(const o of a(this,li).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(a(this,Ns)){const o=a(this,Ns).getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(a(this,ve).isDeletedAnnotationElement(u))continue;let h=t.get(u);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=e.get(u),h&&(a(this,ve).addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}C(this,ht,Lg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of a($i,Bo).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,bu,!1)}getEditableAnnotation(e){var t;return((t=a(this,Ns))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){a(this,ve).getActive()!==e&&a(this,ve).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=a(this,Yt))!=null&&e.div&&!a(this,Cr)){b(this,Cr,new AbortController);const t=a(this,ve).combinedSignal(a(this,Cr));a(this,Yt).div.addEventListener("pointerdown",C(this,ht,M_).bind(this),{signal:t}),a(this,Yt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=a(this,Yt))!=null&&e.div&&a(this,Cr)&&(a(this,Cr).abort(),b(this,Cr,null),a(this,Yt).div.classList.remove("highlighting"))}enableClick(){if(a(this,Oo))return;b(this,Oo,new AbortController);const e=a(this,ve).combinedSignal(a(this,Oo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=a(this,Oo))==null||e.abort(),b(this,Oo,null)}attach(e){a(this,li).set(e.id,e);const{annotationElementId:t}=e;t&&a(this,ve).isDeletedAnnotationElement(t)&&a(this,ve).removeDeletedAnnotationElement(e)}detach(e){var t;a(this,li).delete(e.id),(t=a(this,wl))==null||t.removePointerInTextLayer(e.contentDiv),!a(this,bu)&&e.annotationElementId&&a(this,ve).addDeletedAnnotationElement(e)}remove(e){this.detach(e),a(this,ve).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(a(this,ve).addDeletedAnnotationElement(e.annotationElementId),st.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),a(this,ve).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!a(this,bl)),a(this,ve).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!a(this,Er)&&(e._focusEventsAllowed=!1,b(this,Er,setTimeout(()=>{b(this,Er,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:a(this,ve)._signal}),t.focus())},0))),e._structTreeParentId=(n=a(this,wl))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return a(this,ve).getId()}combinedSignal(e){return a(this,ve).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=a(this,ht,ps))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await a(this,ve).updateMode(e.mode);const{offsetX:n,offsetY:r}=C(this,ht,G0).call(this),o=this.getNextId(),l=C(this,ht,W0).call(this,{parent:this,id:o,x:n,y:r,uiManager:a(this,ve),isCentered:!0,...t});l&&this.add(l)}async deserialize(e){var t;return await((t=a($i,Bo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,a(this,ve)))||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),o=C(this,ht,W0).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:a(this,ve),isCentered:t,...n});return o&&this.add(o),o}addNewEditor(e={}){this.createAndAddNewEditor(C(this,ht,G0).call(this),!0,e)}setSelected(e){a(this,ve).setSelected(e)}toggleSelected(e){a(this,ve).toggleSelected(e)}unselect(e){a(this,ve).unselect(e)}pointerup(e){var r;const{isMac:t}=Kt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!a(this,jo)||(b(this,jo,!1),(r=a(this,ht,ps))!=null&&r.isDrawer&&a(this,ht,ps).supportMultipleDrawings))return;if(!a(this,wu)){b(this,wu,!0);return}const n=a(this,ve).getMode();if(n===Te.STAMP||n===Te.SIGNATURE){a(this,ve).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(a(this,ve).getMode()===Te.HIGHLIGHT&&this.enableTextSelection(),a(this,jo)){b(this,jo,!1);return}const{isMac:t}=Kt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(b(this,jo,!0),(r=a(this,ht,ps))!=null&&r.isDrawer){this.startDrawingSession(e);return}const n=a(this,ve).getActive();b(this,wu,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),a(this,es)){a(this,ht,ps).startDrawing(this,a(this,ve),!1,e);return}a(this,ve).setCurrentDrawingSession(this),b(this,es,new AbortController);const t=a(this,ve).combinedSignal(a(this,es));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(b(this,_r,null),this.commitOrRemove())},{signal:t}),a(this,ht,ps).startDrawing(this,a(this,ve),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&b(this,_r,t);return}a(this,_r)&&setTimeout(()=>{var t;(t=a(this,_r))==null||t.focus(),b(this,_r,null)},0)}endDrawingSession(e=!1){return a(this,es)?(a(this,ve).setCurrentDrawingSession(null),a(this,es).abort(),b(this,es,null),b(this,_r,null),a(this,ht,ps).endDrawing(e)):null}findNewParent(e,t,n){const r=a(this,ve).findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return a(this,es)?(this.endDrawingSession(),!0):!1}onScaleChanging(){a(this,es)&&a(this,ht,ps).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=a(this,ve).getActive())==null?void 0:e.parent)===this&&(a(this,ve).commitOrRemove(),a(this,ve).setActiveEditor(null)),a(this,Er)&&(clearTimeout(a(this,Er)),b(this,Er,null));for(const n of a(this,li).values())(t=a(this,wl))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,a(this,li).clear(),a(this,ve).removeLayer(this)}render({viewport:e}){this.viewport=e,Uo(this.div,e);for(const t of a(this,ve).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){a(this,ve).commitOrRemove(),C(this,ht,Lg).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Uo(this.div,{rotation:n}),t!==n)for(const r of a(this,li).values())r.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return a(this,ve).viewParameters.realScale}};wl=new WeakMap,wu=new WeakMap,Ns=new WeakMap,Oo=new WeakMap,Er=new WeakMap,li=new WeakMap,jo=new WeakMap,bu=new WeakMap,bl=new WeakMap,es=new WeakMap,_r=new WeakMap,Yt=new WeakMap,Cr=new WeakMap,zo=new WeakMap,xu=new WeakMap,ve=new WeakMap,Bo=new WeakMap,ht=new WeakSet,M_=function(e){a(this,ve).unselectAll();const{target:t}=e;if(t===a(this,Yt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&a(this,Yt).div.contains(t)){const{isMac:n}=Kt.platform;if(e.button!==0||e.ctrlKey&&n)return;a(this,ve).showAllEditors("highlight",!0,!0),a(this,Yt).div.classList.add("free"),this.toggleDrawing(),jg.startHighlighting(this,a(this,ve).direction==="ltr",{target:a(this,Yt).div,x:e.x,y:e.y}),a(this,Yt).div.addEventListener("pointerup",()=>{a(this,Yt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:a(this,ve)._signal}),e.preventDefault()}},ps=function(){return a($i,Bo).get(a(this,ve).getMode())},W0=function(e){const t=a(this,ht,ps);return t?new t.prototype.constructor(e):null},G0=function(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,e),l=Math.max(0,t),u=Math.min(window.innerWidth,e+n),h=Math.min(window.innerHeight,t+r),p=(o+u)/2-e,g=(l+h)/2-t,[y,v]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:y,offsetY:v}},Lg=function(){for(const e of a(this,li).values())e.isEmpty()&&e.remove()},te($i,"_initialized",!1),E($i,Bo,new Map([S0,F0,$0,jg,U0].map(e=>[e._editorType,e])));let Bg=$i;var ts,_n,xl,Af,om,I_,Ds,X0,D_,q0;const Ft=class Ft{constructor({pageIndex:e}){E(this,Ds);E(this,ts,null);E(this,_n,new Map);E(this,xl,new Map);this.pageIndex=e}setParent(e){if(!a(this,ts)){b(this,ts,e);return}if(a(this,ts)!==e){if(a(this,_n).size>0)for(const t of a(this,_n).values())t.remove(),e.append(t);b(this,ts,e)}}static get _svgFactory(){return je(this,"_svgFactory",new Gd)}draw(e,t=!1,n=!1){const r=bn(Ft,Af)._++,o=C(this,Ds,X0).call(this),l=Ft._svgFactory.createElement("defs");o.append(l);const u=Ft._svgFactory.createElement("path");l.append(u);const h=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke"),t&&a(this,xl).set(r,u);const p=n?C(this,Ds,D_).call(this,l,h):null,g=Ft._svgFactory.createElement("use");return o.append(g),g.setAttribute("href",`#${h}`),this.updateProperties(o,e),a(this,_n).set(r,o),{id:r,clipPathId:`url(#${p})`}}drawOutline(e,t){const n=bn(Ft,Af)._++,r=C(this,Ds,X0).call(this),o=Ft._svgFactory.createElement("defs");r.append(o);const l=Ft._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(t){const y=Ft._svgFactory.createElement("mask");o.append(y),h=`mask_p${this.pageIndex}_${n}`,y.setAttribute("id",h),y.setAttribute("maskUnits","objectBoundingBox");const v=Ft._svgFactory.createElement("rect");y.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const x=Ft._svgFactory.createElement("use");y.append(x),x.setAttribute("href",`#${u}`),x.setAttribute("stroke","none"),x.setAttribute("fill","black"),x.setAttribute("fill-rule","nonzero"),x.classList.add("mask")}const p=Ft._svgFactory.createElement("use");r.append(p),p.setAttribute("href",`#${u}`),h&&p.setAttribute("mask",`url(#${h})`);const g=p.cloneNode();return r.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(r,e),a(this,_n).set(n,r),n}finalizeDraw(e,t){a(this,xl).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var h;if(!t)return;const{root:n,bbox:r,rootClass:o,path:l}=t,u=typeof e=="number"?a(this,_n).get(e):e;if(u){if(n&&C(this,Ds,q0).call(this,u,n),r&&C(h=Ft,om,I_).call(h,u,r),o){const{classList:p}=u;for(const[g,y]of Object.entries(o))p.toggle(g,y)}if(l){const g=u.firstChild.firstChild;C(this,Ds,q0).call(this,g,l)}}}updateParent(e,t){if(t===this)return;const n=a(this,_n).get(e);n&&(a(t,ts).append(n),a(this,_n).delete(e),a(t,_n).set(e,n))}remove(e){a(this,xl).delete(e),a(this,ts)!==null&&(a(this,_n).get(e).remove(),a(this,_n).delete(e))}destroy(){b(this,ts,null);for(const e of a(this,_n).values())e.remove();a(this,_n).clear(),a(this,xl).clear()}};ts=new WeakMap,_n=new WeakMap,xl=new WeakMap,Af=new WeakMap,om=new WeakSet,I_=function(e,[t,n,r,o]){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*r}%`,l.height=`${100*o}%`},Ds=new WeakSet,X0=function(){const e=Ft._svgFactory.create(1,1,!0);return a(this,ts).append(e),e.setAttribute("aria-hidden",!0),e},D_=function(e,t){const n=Ft._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Ft._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),r},q0=function(e,t){for(const[n,r]of Object.entries(t))r===null?e.removeAttribute(n):e.setAttribute(n,r)},E(Ft,om),E(Ft,Af,0);let Hg=Ft;globalThis._pdfjsTestingUtils={HighlightOutliner:_0};globalThis.pdfjsLib={AbortException:Pr,AnnotationEditorLayer:Bg,AnnotationEditorParamsType:He,AnnotationEditorType:Te,AnnotationEditorUIManager:$o,AnnotationLayer:mw,AnnotationMode:Ms,AnnotationType:_t,build:DE,ColorPicker:Xd,createValidAbsoluteUrl:iw,DOMSVGFactory:Gd,DrawLayer:Hg,FeatureTest:Kt,fetchData:ku,getDocument:dw,getFilenameFromUrl:RS,getPdfFilenameFromUrl:NS,getUuid:rw,getXfaPageViewport:LS,GlobalWorkerOptions:Pi,ImageKind:jd,InvalidPDFException:Ig,isDataScheme:Cf,isPdfFile:pm,isValidExplicitDest:hE,MathClamp:mn,noContextMenu:Li,normalizeUnicode:TS,OPS:Hd,OutputScale:is,PasswordResponses:CS,PDFDataRangeTransport:hw,PDFDateString:gm,PDFWorker:Au,PermissionFlag:_S,PixelsPerInch:Rr,RenderingCancelledException:fm,ResponseException:Ud,setLayerDimensions:Uo,shadow:je,SignatureExtractor:Is,stopEvent:Tt,SupportedImageMimeTypes:Dg,TextLayer:Vd,TouchManager:$d,updateUrlHash:sw,Util:we,VerbosityLevel:Sf,version:fw,XfaLayer:pw};const U2=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Pr,AnnotationEditorLayer:Bg,AnnotationEditorParamsType:He,AnnotationEditorType:Te,AnnotationEditorUIManager:$o,AnnotationLayer:mw,AnnotationMode:Ms,AnnotationType:_t,ColorPicker:Xd,DOMSVGFactory:Gd,DrawLayer:Hg,FeatureTest:Kt,GlobalWorkerOptions:Pi,ImageKind:jd,InvalidPDFException:Ig,MathClamp:mn,OPS:Hd,OutputScale:is,PDFDataRangeTransport:hw,PDFDateString:gm,PDFWorker:Au,PasswordResponses:CS,PermissionFlag:_S,PixelsPerInch:Rr,RenderingCancelledException:fm,ResponseException:Ud,SignatureExtractor:Is,SupportedImageMimeTypes:Dg,TextLayer:Vd,TouchManager:$d,Util:we,VerbosityLevel:Sf,XfaLayer:pw,build:DE,createValidAbsoluteUrl:iw,fetchData:ku,getDocument:dw,getFilenameFromUrl:RS,getPdfFilenameFromUrl:NS,getUuid:rw,getXfaPageViewport:LS,isDataScheme:Cf,isPdfFile:pm,isValidExplicitDest:hE,noContextMenu:Li,normalizeUnicode:TS,setLayerDimensions:Uo,shadow:je,stopEvent:Tt,updateUrlHash:sw,version:fw},Symbol.toStringTag,{value:"Module"}));var s1=Object.prototype.hasOwnProperty;function r1(d,e,t){for(t of d.keys())if(pc(t,e))return t}function pc(d,e){var t,n,r;if(d===e)return!0;if(d&&e&&(t=d.constructor)===e.constructor){if(t===Date)return d.getTime()===e.getTime();if(t===RegExp)return d.toString()===e.toString();if(t===Array){if((n=d.length)===e.length)for(;n--&&pc(d[n],e[n]););return n===-1}if(t===Set){if(d.size!==e.size)return!1;for(n of d)if(r=n,r&&typeof r=="object"&&(r=r1(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(d.size!==e.size)return!1;for(n of d)if(r=n[0],r&&typeof r=="object"&&(r=r1(e,r),!r)||!pc(n[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)d=new Uint8Array(d),e=new Uint8Array(e);else if(t===DataView){if((n=d.byteLength)===e.byteLength)for(;n--&&d.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(d)){if((n=d.byteLength)===e.byteLength)for(;n--&&d[n]===e[n];);return n===-1}if(!t||typeof d=="object"){n=0;for(t in d)if(s1.call(d,t)&&++n&&!s1.call(e,t)||!(t in e)||!pc(d[t],e[t]))return!1;return Object.keys(e).length===n}}return d!==d&&e!==e}function Rf(d){let e=!1;return{promise:new Promise((n,r)=>{d.then(o=>!e&&n(o)).catch(o=>!e&&r(o))}),cancel(){e=!0}}}const $2=["onCopy","onCut","onPaste"],V2=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],W2=["onFocus","onBlur"],G2=["onInput","onInvalid","onReset","onSubmit"],X2=["onLoad","onError"],q2=["onKeyDown","onKeyPress","onKeyUp"],Y2=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],K2=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Q2=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],J2=["onSelect"],Z2=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],eL=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],tL=["onScroll"],nL=["onWheel"],iL=["onAnimationStart","onAnimationEnd","onAnimationIteration"],sL=["onTransitionEnd"],rL=["onToggle"],oL=["onChange"],aL=[...$2,...V2,...W2,...G2,...X2,...q2,...Y2,...K2,...Q2,...J2,...Z2,...eL,...tL,...nL,...iL,...sL,...oL,...rL];function F_(d,e){const t={};for(const n of aL){const r=d[n];r&&(e?t[n]=(o=>r(o,e(n))):t[n]=r)}return t}var lL="Invariant failed";function tt(d,e){if(!d)throw new Error(lL)}var Lv,o1;function cL(){if(o1)return Lv;o1=1;var d=function(){};return Lv=d,Lv}var uL=cL();const yn=am(uL),O_=F.createContext(null),dL="noopener noreferrer nofollow";class hL{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return tt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){tt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{tt(this.pdfDocument),tt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{tt(Array.isArray(t));const n=t[0];new Promise(r=>{tt(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{r(o)}).catch(()=>{tt(!1)}):typeof n=="number"?r(n):tt(!1)}).then(r=>{const o=r+1;tt(this.pdfViewer),tt(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;tt(this.pdfViewer),tt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||dL,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function gc({children:d,type:e}){return _.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:d})}const a1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function fL(d,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return d}}function Su(){return F.useReducer(fL,{value:void 0,error:void 0})}const vm=typeof window<"u",j_=vm&&window.location.protocol==="file:";function pL(d){return typeof d<"u"}function la(d){return pL(d)&&d!==null}function gL(d){return typeof d=="string"}function mL(d){return d instanceof ArrayBuffer}function yL(d){return tt(vm),d instanceof Blob}function Y0(d){return gL(d)&&/^data:/.test(d)}function l1(d){tt(Y0(d));const[e="",t=""]=d.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function vL(){return vm&&window.devicePixelRatio||1}const z_="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function c1(){yn(!j_,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${z_}`)}function wL(){yn(!j_,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${z_}`)}function El(d){d!=null&&d.cancel&&d.cancel()}function K0(d,e){return Object.defineProperty(d,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(d,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(d,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(d,"originalHeight",{get(){return this.view[3]},configurable:!0}),d}function bL(d){return d.name==="RenderingCancelledException"}function xL(d){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(d)})}const{PDFDataRangeTransport:AL}=U2,SL=(d,e)=>{switch(e){case a1.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");d(t);break}case a1.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");d(t);break}}};function u1(d){return typeof d=="object"&&d!==null&&("data"in d||"range"in d||"url"in d)}const EL=F.forwardRef(function({children:e,className:t,error:n="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:h,loading:p="Loading PDF…",noData:g="No PDF file specified.",onItemClick:y,onLoadError:v,onLoadProgress:x,onLoadSuccess:S,onPassword:A=SL,onSourceError:T,onSourceSuccess:P,options:R,renderMode:L,rotate:M,scale:I,...B},O){const[V,G]=Su(),{value:K,error:ee}=V,[re,ye]=Su(),{value:oe,error:Re}=re,Q=F.useRef(new hL),q=F.useRef([]),J=F.useRef(void 0),ae=F.useRef(void 0);l&&l!==J.current&&u1(l)&&(yn(!pc(l,J.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),J.current=l),R&&R!==ae.current&&(yn(!pc(R,ae.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ae.current=R);const ie=F.useRef({scrollPageIntoView:Be=>{const{dest:Ke,pageNumber:vt,pageIndex:At=vt-1}=Be;if(y){y({dest:Ke,pageIndex:At,pageNumber:vt});return}const os=q.current[At];if(os){os.scrollIntoView();return}yn(!1,`An internal link leading to page ${vt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});F.useImperativeHandle(O,()=>({linkService:Q,pages:q,viewer:ie}),[]);function j(){P&&P()}function W(){ee&&(yn(!1,ee.toString()),T&&T(ee))}function ue(){G({type:"RESET"})}F.useEffect(ue,[l,G]);const xe=F.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return Y0(l)?{data:l1(l)}:(c1(),{url:l});if(l instanceof AL)return{range:l};if(mL(l))return{data:l};if(vm&&yL(l))return{data:await xL(l)};if(tt(typeof l=="object"),tt(u1(l)),"url"in l&&typeof l.url=="string"){if(Y0(l.url)){const{url:Be,...Ke}=l;return{data:l1(Be),...Ke}}c1()}return l},[l]);F.useEffect(()=>{const Be=Rf(xe());return Be.promise.then(Ke=>{G({type:"RESOLVE",value:Ke})}).catch(Ke=>{G({type:"REJECT",error:Ke})}),()=>{El(Be)}},[xe,G]),F.useEffect(()=>{if(!(typeof K>"u")){if(K===!1){W();return}j()}},[K]);function Ce(){oe&&(S&&S(oe),q.current=new Array(oe.numPages),Q.current.setDocument(oe))}function _e(){Re&&(yn(!1,Re.toString()),v&&v(Re))}F.useEffect(function(){ye({type:"RESET"})},[ye,K]),F.useEffect(function(){if(!K)return;const Ke=R?{...K,...R}:K,vt=dw(Ke);x&&(vt.onProgress=x),A&&(vt.onPassword=A);const At=vt,os=At.promise.then(Mr=>{ye({type:"RESOLVE",value:Mr})}).catch(Mr=>{At.destroyed||ye({type:"REJECT",error:Mr})});return()=>{os.finally(()=>At.destroy())}},[R,ye,K]),F.useEffect(()=>{if(!(typeof oe>"u")){if(oe===!1){_e();return}Ce()}},[oe]),F.useEffect(function(){Q.current.setViewer(ie.current),Q.current.setExternalLinkRel(r),Q.current.setExternalLinkTarget(o)},[r,o]);const be=F.useCallback((Be,Ke)=>{q.current[Be]=Ke},[]),Me=F.useCallback(Be=>{delete q.current[Be]},[]),ze=F.useMemo(()=>({imageResourcesPath:h,linkService:Q.current,onItemClick:y,pdf:oe,registerPage:be,renderMode:L,rotate:M,scale:I,unregisterPage:Me}),[h,y,oe,be,L,M,I,Me]),Oe=F.useMemo(()=>F_(B,()=>oe),[B,oe]);function Nn(){function Be(vt){return!!(vt!=null&&vt.pdf)}if(!Be(ze))throw new Error("pdf is undefined");const Ke=typeof e=="function"?e(ze):e;return _.jsx(O_.Provider,{value:ze,children:Ke})}function fi(){return l?oe==null?_.jsx(gc,{type:"loading",children:typeof p=="function"?p():p}):oe===!1?_.jsx(gc,{type:"error",children:typeof n=="function"?n():n}):Nn():_.jsx(gc,{type:"no-data",children:typeof g=="function"?g():g})}return _.jsx("div",{className:Eu("react-pdf__Document",t),ref:u,...Oe,children:fi()})});function B_(){return F.useContext(O_)}function H_(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];var t=d.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(o){for(var l=0,u=t;l<u.length;l++){var h=u[l];typeof h=="function"?h(o):h&&(h.current=o)}}}const U_=F.createContext(null);function wm(){return F.useContext(U_)}function _L(){const d=B_(),e=wm();tt(e);const t={...d,...e},{imageResourcesPath:n,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:h,page:p,pdf:g,renderForms:y,rotate:v,scale:x=1}=t;tt(g),tt(p),tt(r);const[S,A]=Su(),{value:T,error:P}=S,R=F.useRef(null);yn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function L(){T&&l&&l(T)}function M(){P&&(yn(!1,P.toString()),o&&o(P))}F.useEffect(function(){A({type:"RESET"})},[A,p]),F.useEffect(function(){if(!p)return;const G=Rf(p.getAnnotations()),K=G;return G.promise.then(ee=>{A({type:"RESOLVE",value:ee})}).catch(ee=>{A({type:"REJECT",error:ee})}),()=>{El(K)}},[A,p]),F.useEffect(()=>{if(T!==void 0){if(T===!1){M();return}L()}},[T]);function I(){h&&h()}function B(V){yn(!1,`${V}`),u&&u(V)}const O=F.useMemo(()=>p.getViewport({scale:x,rotation:v}),[p,v,x]);return F.useEffect(function(){if(!g||!p||!r||!T)return;const{current:G}=R;if(!G)return;const K=O.clone({dontFlip:!0}),ee={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:G,l10n:null,page:p,structTreeLayer:null,viewport:K},re={annotations:T,annotationStorage:g.annotationStorage,div:G,imageResourcesPath:n,linkService:r,page:p,renderForms:y,viewport:K};G.innerHTML="";try{new mw(ee).render(re),I()}catch(ye){B(ye)}return()=>{}},[T,n,r,p,g,y,O]),_.jsx("div",{className:Eu("react-pdf__Page__annotations","annotationLayer"),ref:R})}const $_={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},CL=/^H(\d+)$/;function kL(d){return d in $_}function bm(d){return"children"in d}function V_(d){return bm(d)?d.children.length===1&&0 in d.children&&"id"in d.children[0]:!1}function TL(d){const e={};if(bm(d)){const{role:t}=d,n=t.match(CL);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(kL(t)){const r=$_[t];r&&(e.role=r)}}return e}function W_(d){const e={};if(bm(d)){if(d.alt!==void 0&&(e["aria-label"]=d.alt),d.lang!==void 0&&(e.lang=d.lang),V_(d)){const[t]=d.children;if(t){const n=W_(t);return{...e,...n}}}}else"id"in d&&(e["aria-owns"]=d.id);return e}function PL(d){return d?{...TL(d),...W_(d)}:null}function G_({className:d,node:e}){const t=F.useMemo(()=>PL(e),[e]),n=F.useMemo(()=>!bm(e)||V_(e)?null:e.children.map((r,o)=>_.jsx(G_,{node:r},o)),[e]);return _.jsx("span",{className:d,...t,children:n})}function RL(){const d=wm();tt(d);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=d,[n,r]=Su(),{value:o,error:l}=n,{customTextRenderer:u,page:h}=d;function p(){o&&t&&t(o)}function g(){l&&(yn(!1,l.toString()),e&&e(l))}return F.useEffect(function(){r({type:"RESET"})},[r,h]),F.useEffect(function(){if(u||!h)return;const v=Rf(h.getStructTree()),x=v;return v.promise.then(S=>{r({type:"RESOLVE",value:S})}).catch(S=>{r({type:"REJECT",error:S})}),()=>El(x)},[u,h,r]),F.useEffect(()=>{if(o!==void 0){if(o===!1){g();return}p()}},[o]),o?_.jsx(G_,{className:"react-pdf__Page__structTree structTree",node:o}):null}const d1=Ms;function NL(d){const e=wm();tt(e);const t={...e,...d},{_className:n,canvasBackground:r,devicePixelRatio:o=vL(),onRenderError:l,onRenderSuccess:u,page:h,renderForms:p,renderTextLayer:g,rotate:y,scale:v}=t,{canvasRef:x}=d;tt(h);const S=F.useRef(null);function A(){h&&u&&u(K0(h,v))}function T(M){bL(M)||(yn(!1,M.toString()),l&&l(M))}const P=F.useMemo(()=>h.getViewport({scale:v*o,rotation:y}),[o,h,y,v]),R=F.useMemo(()=>h.getViewport({scale:v,rotation:y}),[h,y,v]);F.useEffect(function(){if(!h)return;h.cleanup();const{current:I}=S;if(!I)return;I.width=P.width,I.height=P.height,I.style.width=`${Math.floor(R.width)}px`,I.style.height=`${Math.floor(R.height)}px`,I.style.visibility="hidden";const B={annotationMode:p?d1.ENABLE_FORMS:d1.ENABLE,canvasContext:I.getContext("2d",{alpha:!1}),viewport:P};r&&(B.background=r);const O=h.render(B),V=O;return O.promise.then(()=>{I.style.visibility="",A()}).catch(T),()=>El(V)},[r,h,p,P,R]);const L=F.useCallback(()=>{const{current:M}=S;M&&(M.width=0,M.height=0)},[]);return F.useEffect(()=>L,[L]),_.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:H_(x,S),style:{display:"block",userSelect:"none"},children:g?_.jsx(RL,{}):null})}function LL(d){return"str"in d}function ML(){const d=wm();tt(d);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:l,pageIndex:u,pageNumber:h,rotate:p,scale:g}=d;tt(l);const[y,v]=Su(),{value:x,error:S}=y,A=F.useRef(null);yn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function T(){x&&n&&n(x)}function P(){S&&(yn(!1,S.toString()),t&&t(S))}F.useEffect(function(){v({type:"RESET"})},[l,v]),F.useEffect(function(){if(!l)return;const V=Rf(l.getTextContent()),G=V;return V.promise.then(K=>{v({type:"RESOLVE",value:K})}).catch(K=>{v({type:"REJECT",error:K})}),()=>El(G)},[l,v]),F.useEffect(()=>{if(x!==void 0){if(x===!1){P();return}T()}},[x]);const R=F.useCallback(()=>{o&&o()},[o]),L=F.useCallback(O=>{yn(!1,O.toString()),r&&r(O)},[r]);function M(){const O=A.current;O&&O.classList.add("selecting")}function I(){const O=A.current;O&&O.classList.remove("selecting")}const B=F.useMemo(()=>l.getViewport({scale:g,rotation:p}),[l,p,g]);return F.useLayoutEffect(function(){if(!l||!x)return;const{current:V}=A;if(!V)return;V.innerHTML="";const G=l.streamTextContent({includeMarkedContent:!0}),K={container:V,textContentSource:G,viewport:B},ee=new Vd(K),re=ee;return ee.render().then(()=>{const ye=document.createElement("div");ye.className="endOfContent",V.append(ye);const oe=V.querySelectorAll('[role="presentation"]');if(e){let Re=0;x.items.forEach((Q,q)=>{if(!LL(Q))return;const J=oe[Re];if(!J)return;const ae=e({pageIndex:u,pageNumber:h,itemIndex:q,...Q});J.innerHTML=ae,Re+=Q.str&&Q.hasEOL?2:1})}R()}).catch(L),()=>El(re)},[e,L,R,l,u,h,x,B]),_.jsx("div",{className:Eu("react-pdf__Page__textContent","textLayer"),onMouseUp:I,onMouseDown:M,ref:A})}const h1=1;function IL(d){const t={...B_(),...d},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:l,children:u,className:h,customRenderer:p,customTextRenderer:g,devicePixelRatio:y,error:v="Failed to load the page.",height:x,inputRef:S,loading:A="Loading page…",noData:T="No page specified.",onGetAnnotationsError:P,onGetAnnotationsSuccess:R,onGetStructTreeError:L,onGetStructTreeSuccess:M,onGetTextError:I,onGetTextSuccess:B,onLoadError:O,onLoadSuccess:V,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:K,onRenderError:ee,onRenderSuccess:re,onRenderTextLayerError:ye,onRenderTextLayerSuccess:oe,pageIndex:Re,pageNumber:Q,pdf:q,registerPage:J,renderAnnotationLayer:ae=!0,renderForms:ie=!1,renderMode:j="canvas",renderTextLayer:W=!0,rotate:ue,scale:xe=h1,unregisterPage:Ce,width:_e,...be}=t,[Me,ze]=Su(),{value:Oe,error:Nn}=Me,fi=F.useRef(null);tt(q);const Be=la(Q)?Q-1:Re??null,Ke=Q??(la(Re)?Re+1:null),vt=ue??(Oe?Oe.rotate:null),At=F.useMemo(()=>{if(!Oe)return null;let pi=1;const Ii=xe??h1;if(_e||x){const Di=Oe.getViewport({scale:1,rotation:vt});_e?pi=_e/Di.width:x&&(pi=x/Di.height)}return Ii*pi},[x,Oe,vt,xe,_e]);F.useEffect(function(){return()=>{la(Be)&&r&&Ce&&Ce(Be)}},[r,q,Be,Ce]);function os(){if(V){if(!Oe||!At)return;V(K0(Oe,At))}if(r&&J){if(!la(Be)||!fi.current)return;J(Be,fi.current)}}function Mr(){Nn&&(yn(!1,Nn.toString()),O&&O(Nn))}F.useEffect(function(){ze({type:"RESET"})},[ze,q,Be]),F.useEffect(function(){if(!q||!Ke)return;const Ii=Rf(q.getPage(Ke)),Di=Ii;return Ii.promise.then(Fs=>{ze({type:"RESOLVE",value:Fs})}).catch(Fs=>{ze({type:"REJECT",error:Fs})}),()=>El(Di)},[ze,q,Ke]),F.useEffect(()=>{if(Oe!==void 0){if(Oe===!1){Mr();return}os()}},[Oe,At]);const Xo=F.useMemo(()=>la(Be)&&Ke&&la(vt)&&la(At)?{_className:n,canvasBackground:o,customTextRenderer:g,devicePixelRatio:y,onGetAnnotationsError:P,onGetAnnotationsSuccess:R,onGetStructTreeError:L,onGetStructTreeSuccess:M,onGetTextError:I,onGetTextSuccess:B,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:K,onRenderError:ee,onRenderSuccess:re,onRenderTextLayerError:ye,onRenderTextLayerSuccess:oe,page:Oe,pageIndex:Be,pageNumber:Ke,renderForms:ie,renderTextLayer:W,rotate:vt,scale:At}:null,[n,o,g,y,P,R,L,M,I,B,G,K,ee,re,ye,oe,Oe,Be,Ke,ie,W,vt,At]),qo=F.useMemo(()=>F_(be,()=>Oe&&(At?K0(Oe,At):void 0)),[be,Oe,At]),Mi=`${Be}@${At}/${vt}`;function Tu(){switch(j){case"custom":return tt(p),_.jsx(p,{},`${Mi}_custom`);case"none":return null;case"canvas":default:return _.jsx(NL,{canvasRef:l},`${Mi}_canvas`)}}function Nf(){return W?_.jsx(ML,{},`${Mi}_text`):null}function Lf(){return ae?_.jsx(_L,{},`${Mi}_annotations`):null}function Mf(){function pi(Di){return!!(Di!=null&&Di.page)}if(!pi(Xo))throw new Error("page is undefined");const Ii=typeof u=="function"?u(Xo):u;return _.jsxs(U_.Provider,{value:Xo,children:[Tu(),Nf(),Lf(),Ii]})}function If(){return Ke?q===null||Oe===void 0||Oe===null?_.jsx(gc,{type:"loading",children:typeof A=="function"?A():A}):q===!1||Oe===!1?_.jsx(gc,{type:"error",children:typeof v=="function"?v():v}):Mf():_.jsx(gc,{type:"no-data",children:typeof T=="function"?T():T})}return _.jsx("div",{className:Eu(n,h),"data-page-number":Ke,ref:H_(S,fi),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${At}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...qo,children:If()})}wL();Pi.workerSrc="pdf.worker.mjs";Pi.workerSrc=`//unpkg.com/pdfjs-dist@${fw}/build/pdf.worker.min.js`;function f1({pdfUrl:d,title:e,className:t=""}){const[n,r]=F.useState(null),[o,l]=F.useState(1),[u,h]=F.useState(!0),[p,g]=F.useState(null);function y({numPages:A}){r(A),h(!1),g(null)}function v(A){g("Failed to load PDF. Please check the file URL."),h(!1),console.error("PDF load error:",A)}const x=()=>{o<(n||1)&&l(o+1)},S=()=>{o>1&&l(o-1)};return _.jsxs("div",{className:`pdf-viewer ${t}`,children:[e&&_.jsx("h3",{className:"text-lg font-semibold mb-4",children:e}),_.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white",children:[u&&_.jsx("div",{className:"flex items-center justify-center h-96 bg-gray-100",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),_.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading PDF..."})]})}),p&&_.jsx("div",{className:"flex items-center justify-center h-96 bg-gray-100",children:_.jsxs("div",{className:"text-center text-red-600",children:[_.jsxs("p",{className:"mb-2",children:["⚠️ ",p]}),_.jsx("p",{className:"text-sm text-muted-foreground",children:"Make sure the PDF file exists and is accessible."})]})}),!u&&!p&&_.jsxs(_.Fragment,{children:[_.jsx(EL,{file:d,onLoadSuccess:y,onLoadError:v,loading:"",className:"flex justify-center",children:_.jsx(IL,{pageNumber:o,renderTextLayer:!1,renderAnnotationLayer:!1,className:"shadow-sm"})}),n&&n>1&&_.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-t",children:[_.jsx(kn,{variant:"outline",size:"sm",onClick:S,disabled:o<=1,children:"Previous"}),_.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",o," of ",n]}),_.jsx(kn,{variant:"outline",size:"sm",onClick:x,disabled:o>=n,children:"Next"})]})]})]})]})}function DL(){var n;const d=[{title:"Poppin' Joe's Kettle Corn E-Commerce Website Redesign",description:"Redesigned the website for a beloved family brand by conducting a site analysis, creating a content strategy report, and developing a full editorial style guide. The project improved navigation, clarified brand voice, and established a cohesive, accessible digital presence.",tags:["User Research","Information Architecture","Style Guide","Brand Voice","Accessibility"],image:"/placeholder-ecommerce.jpg",pdfUrls:["/pdfs/poppin-joe-site-analysis.pdf","/pdfs/poppin-joe-content-strategy.pdf","/pdfs/poppin-joe-style-guide.pdf"],pdfTitles:["Site Analysis Report","Content Strategy Report","Editorial Style Guide"]},{title:"Mobile Banking App",description:"Designed an intuitive mobile banking experience focusing on security and accessibility.",tags:["Mobile Design","Accessibility","Security UX","User Flows"],image:"/placeholder-banking.jpg",pdfUrl:"/pdfs/mobile-banking-case-study.pdf"},{title:"SaaS Dashboard Interface",description:"Simplified complex data visualization for better user decision-making and workflow efficiency.",tags:["Data Visualization","Dashboard Design","Information Architecture","User Testing"],image:"/placeholder-saas.jpg",pdfUrl:"/pdfs/saas-dashboard-case-study.pdf"},{title:"Healthcare Patient Portal",description:"Streamlined patient access to medical records and appointment scheduling with HIPAA-compliant design.",tags:["Healthcare UX","Accessibility","Information Security","User Journey Mapping"],image:"/placeholder-healthcare.jpg",pdfUrl:"/pdfs/healthcare-portal-case-study.pdf"},{title:"Educational Learning Platform",description:"Enhanced student engagement and learning outcomes through gamification and adaptive UI design.",tags:["EdTech","Gamification","Adaptive Design","User Engagement"],image:"/placeholder-education.jpg",pdfUrl:"/pdfs/education-platform-case-study.pdf"},{title:"Travel Booking Website",description:"Optimized the booking flow to reduce cart abandonment by 40% with improved UX patterns.",tags:["Conversion Optimization","User Flows","Mobile-First Design","Usability Testing"],image:"/placeholder-travel.jpg",pdfUrl:"/pdfs/travel-booking-case-study.pdf"}],[e,t]=F.useState(null);return _.jsx("section",{id:"ux-studies",className:"py-20","aria-labelledby":"ux-studies-heading",children:_.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsx("p",{className:"subheading text-primary text-lg mb-4",role:"text",children:"User Experience Research & Design"}),_.jsx("h2",{id:"ux-studies-heading",className:"text-4xl font-bold mb-4",children:"UX Case Studies"}),_.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",role:"text",children:"Real projects, real impact. Here's how I've helped businesses improve their user experience and achieve their goals."})]}),_.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",role:"list","aria-label":"UX case studies",children:d.map((r,o)=>_.jsxs("article",{role:"listitem",className:"group glass-card rounded-xl overflow-hidden focus-within:ring-2 focus-within:ring-primary flex flex-col h-full card-interactive cursor-pointer",onClick:()=>t(r),children:[_.jsx("div",{className:"aspect-video glass-section flex items-center justify-center card-image",role:"img","aria-label":`Preview image for ${r.title}`,children:_.jsx("span",{className:"text-muted-foreground",children:"Project Image"})}),_.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[_.jsx("h3",{className:"text-xl font-semibold mb-3",id:`study-title-${o}`,children:r.title}),_.jsx("p",{className:"text-muted-foreground mb-4 flex-grow","aria-describedby":`study-title-${o}`,children:r.description}),_.jsx("div",{className:"flex flex-wrap gap-2 mb-4",role:"list","aria-label":"Project tags",children:r.tags.map((l,u)=>_.jsx("span",{role:"listitem",className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:l},u))}),_.jsx(kn,{className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground focus:ring-2 focus:ring-primary focus:ring-offset-2 mt-auto btn-animate hover-glow","aria-label":`View case study for ${r.title}`,onClick:l=>{l.stopPropagation(),t(r)},children:"View Case Study"})]})]},o))}),_.jsx(oN,{open:!!e,onOpenChange:()=>t(null),children:_.jsxs(bS,{className:"max-w-4xl",children:[_.jsxs(xS,{children:[_.jsx(AS,{children:e==null?void 0:e.title}),_.jsx(SS,{children:e==null?void 0:e.description})]}),_.jsxs("div",{className:"flex flex-col space-y-6",children:[(e==null?void 0:e.title)==="Poppin' Joe's Kettle Corn E-Commerce Website Redesign"?_.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[_.jsx("div",{className:"lg:col-span-2 space-y-6",children:(n=e.pdfUrls)==null?void 0:n.map((r,o)=>{var l;return _.jsx(f1,{pdfUrl:r,title:((l=e.pdfTitles)==null?void 0:l[o])||`Document ${o+1}`,className:"w-full"},o)})}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Key Skills & Technologies"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:e==null?void 0:e.tags.map((r,o)=>_.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:r},o))})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Project Overview"}),_.jsx("p",{className:"text-muted-foreground",children:"This case study demonstrates my approach to user-centered design, focusing on research-driven solutions that deliver measurable business impact. The project involved comprehensive user research, iterative prototyping, and rigorous usability testing to ensure optimal user experience."})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Key Achievements"}),_.jsxs("ul",{className:"text-muted-foreground space-y-1",children:[_.jsx("li",{children:"• Increased conversion rates by 35%"}),_.jsx("li",{children:"• Improved user satisfaction scores"}),_.jsx("li",{children:"• Reduced task completion time"}),_.jsx("li",{children:"• Enhanced accessibility compliance"})]})]})]})]}):_.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[_.jsx("div",{className:"flex flex-col items-center justify-center",children:_.jsx(f1,{pdfUrl:(e==null?void 0:e.pdfUrl)||"",className:"w-full"})}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Key Skills & Technologies"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:e==null?void 0:e.tags.map((r,o)=>_.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:r},o))})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Project Overview"}),_.jsx("p",{className:"text-muted-foreground",children:"This case study demonstrates my approach to user-centered design, focusing on research-driven solutions that deliver measurable business impact. The project involved comprehensive user research, iterative prototyping, and rigorous usability testing to ensure optimal user experience."})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Key Achievements"}),_.jsxs("ul",{className:"text-muted-foreground space-y-1",children:[_.jsx("li",{children:"• Increased conversion rates by 35%"}),_.jsx("li",{children:"• Improved user satisfaction scores"}),_.jsx("li",{children:"• Reduced task completion time"}),_.jsx("li",{children:"• Enhanced accessibility compliance"})]})]})]})]}),_.jsx("div",{className:"flex justify-end",children:_.jsx(kn,{variant:"outline",onClick:()=>t(null),children:"Close"})})]})]})})]})})}function FL(){const d=[{icon:_.jsx(bT,{className:"w-8 h-8"}),title:"User Guides & Documentation",description:"Clear, step-by-step guides that help users accomplish their goals efficiently.",examples:["SaaS Onboarding Guide","Mobile App Tutorial","Feature Documentation"]},{icon:_.jsx(fT,{className:"w-8 h-8"}),title:"API Documentation",description:"Comprehensive developer resources with code examples and best practices.",examples:["REST API Reference","SDK Documentation","Integration Guides"]},{icon:_.jsx(b1,{className:"w-8 h-8"}),title:"Knowledge Base Articles",description:"Searchable, organized content that reduces support burden and empowers users.",examples:["FAQ Collections","Troubleshooting Guides","Best Practices"]},{icon:_.jsx(E1,{className:"w-8 h-8"}),title:"Process Documentation",description:"Detailed workflows and procedures that improve team efficiency.",examples:["Standard Operating Procedures","Workflow Documentation","Training Materials"]},{icon:_.jsx(P1,{className:"w-8 h-8"}),title:"Content Strategy",description:"Strategic content planning that aligns with business goals and user needs.",examples:["Content Audits","Information Architecture","User Journey Mapping"]},{icon:_.jsx(T1,{className:"w-8 h-8"}),title:"Technical Blog Posts",description:"Engaging articles that explain complex concepts to diverse audiences.",examples:["How-to Articles","Feature Announcements","Technical Tutorials"]}];return _.jsx("section",{id:"tech-writing",className:"py-20 bg-muted/50","aria-labelledby":"tech-writing-heading",children:_.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsx("p",{className:"subheading text-primary text-lg mb-4",role:"text",children:"Content Strategy & Documentation"}),_.jsx("h2",{id:"tech-writing-heading",className:"text-4xl font-bold mb-4",children:"Technical Writing Portfolio"}),_.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",role:"text",children:"I create clear, compelling content that bridges the gap between complex technology and human understanding. My writing empowers users, reduces support burden, and drives product adoption."})]}),_.jsxs("aside",{className:"glass-card-primary p-8 rounded-xl mb-16 max-w-4xl mx-auto","aria-labelledby":"philosophy-heading",children:[_.jsx("h3",{id:"philosophy-heading",className:"text-2xl font-semibold mb-4 text-center",children:"My Writing Philosophy"}),_.jsx("blockquote",{className:"text-lg text-muted-foreground text-center leading-relaxed",children:'"Great technical writing is invisible. It gets users to their destination without them noticing the journey. Every word should have a purpose, every sentence should move the reader forward, and every document should solve a real problem."'})]}),_.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",role:"list","aria-label":"Writing portfolio samples",children:d.map((e,t)=>_.jsxs("article",{role:"listitem",className:"group glass-card p-6 rounded-xl focus-within:ring-2 focus-within:ring-primary",children:[_.jsx("div",{className:"text-primary mb-4",role:"img","aria-label":`${e.title} icon`,children:e.icon}),_.jsx("h3",{className:"text-xl font-semibold mb-3",id:`sample-title-${t}`,children:e.title}),_.jsx("p",{className:"text-muted-foreground mb-4","aria-describedby":`sample-title-${t}`,children:e.description}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Sample Work:"}),_.jsx("ul",{className:"text-sm space-y-1","aria-label":"Examples of work",children:e.examples.map((n,r)=>_.jsxs("li",{className:"flex items-center",children:[_.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-2",role:"presentation"}),n]},r))})]})]},t))}),_.jsxs("aside",{className:"glass-card-accent p-8 rounded-xl","aria-labelledby":"tools-heading",children:[_.jsx("h3",{id:"tools-heading",className:"text-2xl font-semibold mb-6 text-center",children:"Tools & Methodology"}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"text-lg font-medium mb-4",children:"Writing & Documentation Tools"}),_.jsx("div",{className:"flex flex-wrap gap-2",role:"list","aria-label":"Writing tools",children:["Notion","Confluence","GitBook","Markdown","Figma","Miro"].map(e=>_.jsx("span",{role:"listitem",className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:e},e))})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-lg font-medium mb-4",children:"Research & Analysis"}),_.jsx("div",{className:"flex flex-wrap gap-2",role:"list","aria-label":"Research methods",children:["User Interviews","Content Audits","Analytics","A/B Testing","Heuristic Analysis"].map(e=>_.jsx("span",{role:"listitem",className:"px-3 py-1 bg-secondary text-secondary-foreground rounded-full text-sm",children:e},e))})]})]})]})]})})}function OL(){const d=[{icon:_.jsx(k1,{className:"w-12 h-12"}),title:"UI/UX Design",description:"Clean, intuitive interfaces that delight users and drive conversions.",projects:["E-commerce Dashboard","Healthcare App","SaaS Platform"],glassClass:"glass-category-primary"},{icon:_.jsx(DT,{className:"w-12 h-12"}),title:"Mobile Design",description:"Responsive, touch-first experiences optimized for mobile devices.",projects:["Banking App","Fitness Tracker","Food Delivery"],glassClass:"glass-category-secondary"},{icon:_.jsx(A1,{className:"w-12 h-12"}),title:"Web Applications",description:"Scalable web interfaces that work beautifully across all devices.",projects:["CRM System","Learning Platform","Analytics Dashboard"],glassClass:"glass-category-neutral"},{icon:_.jsx(T1,{className:"w-12 h-12"}),title:"Brand Identity",description:"Cohesive visual systems that communicate brand values effectively.",projects:["Tech Startup","Wellness Brand","Creative Agency"],glassClass:"glass-category-green"},{icon:_.jsx(dT,{className:"w-12 h-12"}),title:"Data Visualization",description:"Complex data transformed into clear, actionable insights.",projects:["Sales Analytics","User Behavior","Performance Metrics"],glassClass:"glass-category-dark"},{icon:_.jsx(BT,{className:"w-12 h-12"}),title:"Interactive Prototypes",description:"High-fidelity prototypes that bring designs to life.",projects:["AR Shopping","Voice Interface","Gesture Controls"],glassClass:"glass-category-secondary"}],e=[{icon:_.jsx(vT,{className:"w-6 h-6"}),title:"User-Centered",description:"Every design decision is driven by user needs and behaviors."},{icon:_.jsx(_T,{className:"w-6 h-6"}),title:"Systematic",description:"Consistent design systems that scale across products and teams."},{icon:_.jsx(LT,{className:"w-6 h-6"}),title:"Accessible",description:"Inclusive designs that work for users of all abilities."}];return _.jsx("section",{id:"design-gallery",className:"py-20","aria-labelledby":"design-gallery-heading",children:_.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsx("p",{className:"subheading text-primary text-lg mb-4",role:"text",children:"Visual Design & User Experience"}),_.jsx("h2",{id:"design-gallery-heading",className:"text-4xl font-bold mb-4",children:"Design Gallery"}),_.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",role:"text",children:"Visual storytelling through thoughtful interface design, cohesive branding, and innovative problem-solving. I create digital experiences that are both beautiful and functional."})]}),_.jsxs("aside",{className:"glass-card-primary p-8 rounded-xl mb-16 max-w-4xl mx-auto hover-lift transition-all-smooth","aria-labelledby":"philosophy-heading",children:[_.jsx("h3",{id:"philosophy-heading",className:"text-2xl font-semibold mb-6 text-center",children:"Design Philosophy"}),_.jsx("div",{className:"grid md:grid-cols-3 gap-6",role:"list","aria-label":"Design principles",children:e.map((t,n)=>_.jsxs("article",{role:"listitem",className:"text-center",children:[_.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-primary/10 text-primary rounded-full mb-3",role:"img","aria-label":`${t.title} icon`,children:t.icon}),_.jsx("h4",{className:"text-lg font-semibold mb-2",children:t.title}),_.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},n))})]}),_.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",role:"list","aria-label":"Design categories",children:d.map((t,n)=>_.jsxs("article",{role:"listitem",className:"group glass-card rounded-xl overflow-hidden focus-within:ring-2 focus-within:ring-primary hover-lift transition-all-smooth",children:[_.jsxs("div",{className:`p-8 text-gray-900 ${t.glassClass}`,role:"banner",children:[_.jsx("div",{className:"text-gray-800 mb-4",role:"img","aria-label":`${t.title} icon`,children:t.icon}),_.jsx("h3",{className:"text-xl font-bold text-gray-900",id:`category-title-${n}`,children:t.title})]}),_.jsxs("div",{className:"p-6",children:[_.jsx("p",{className:"text-muted-foreground mb-4","aria-describedby":`category-title-${n}`,children:t.description}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Featured Projects:"}),_.jsx("ul",{className:"space-y-1","aria-label":"Projects in this category",children:t.projects.map((r,o)=>_.jsxs("li",{className:"flex items-center text-sm",children:[_.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-2",role:"presentation"}),r]},o))})]})]})]},n))}),_.jsxs("aside",{className:"glass-card-accent p-8 rounded-xl hover-lift transition-all-smooth","aria-labelledby":"process-heading",children:[_.jsx("h3",{id:"process-heading",className:"text-2xl font-semibold mb-6 text-center",children:"Design Process"}),_.jsx("div",{className:"grid md:grid-cols-4 gap-6",role:"list","aria-label":"Design process steps",children:[{step:"1",title:"Research",description:"Understanding users, market, and constraints"},{step:"2",title:"Ideation",description:"Exploring solutions through sketching and brainstorming"},{step:"3",title:"Design",description:"Creating high-fidelity mockups and prototypes"},{step:"4",title:"Test & Iterate",description:"Validating designs with real users and data"}].map((t,n)=>_.jsxs("article",{role:"listitem",className:"text-center",children:[_.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-primary text-primary-foreground rounded-full font-bold text-lg mb-3",role:"img","aria-label":`Step ${t.step}`,children:t.step}),_.jsx("h4",{className:"text-lg font-semibold mb-2",children:t.title}),_.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},n))})]})]})})}function jL(){const d=[{category:"Design",items:["User Experience Design","Interface Design","Design Systems","Prototyping","User Research"]},{category:"Writing",items:["Technical Documentation","Content Strategy","API Documentation","User Guides","Blog Writing"]},{category:"Tools",items:["Figma","Sketch","Notion","Confluence","React","TypeScript"]},{category:"Methods",items:["Design Thinking","Agile/Scrum","User Testing","Information Architecture","Content Audits"]}],e=[{icon:_.jsx(P1,{className:"w-8 h-8"}),title:"User-Centered",description:"I believe great design starts with understanding real user needs and pain points."},{icon:_.jsx(E1,{className:"w-8 h-8"}),title:"Problem-Solving",description:"Every project is a puzzle to solve, combining creativity with analytical thinking."},{icon:_.jsx(S1,{className:"w-8 h-8"}),title:"Empathy-Driven",description:"Creating inclusive experiences that work for people of all backgrounds and abilities."},{icon:_.jsx(A1,{className:"w-8 h-8"}),title:"Continuous Learning",description:"Technology evolves rapidly, and I'm committed to growing with it."}],t=[{icon:_.jsx(gT,{className:"w-5 h-5"}),fact:"Powered by coffee and curiosity"},{icon:_.jsx(k1,{className:"w-5 h-5"}),fact:"Love experimenting with new design trends"},{icon:_.jsx(b1,{className:"w-5 h-5"}),fact:"Always reading about psychology and design"},{icon:_.jsx(lT,{className:"w-5 h-5"}),fact:"Certified in UX Design and Content Strategy"}];return _.jsx("section",{id:"about",className:"py-20 bg-muted/50","aria-labelledby":"about-heading",children:_.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsx("p",{className:"subheading text-primary text-lg mb-4",role:"text",children:"Professional Background"}),_.jsx("h2",{id:"about-heading",className:"text-4xl font-bold mb-4",children:"About Me"}),_.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",role:"text",children:"I'm a passionate UX designer and technical communicator who believes that great design and clear communication can transform how people interact with technology."})]}),_.jsx("div",{className:"max-w-4xl mx-auto mb-16",children:_.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[_.jsx("div",{className:"space-y-6",children:_.jsxs("article",{className:"glass-card p-8 rounded-xl hover-lift transition-all-smooth","aria-labelledby":"journey-heading",children:[_.jsx("h3",{id:"journey-heading",className:"text-2xl font-semibold mb-4",children:"My Journey"}),_.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"With over 5 years of experience in UX design and technical writing, I've helped startups and established companies create digital experiences that users actually love. My background in both design and communication gives me a unique perspective on how to bridge the gap between complex technology and human understanding."}),_.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"I started my career in technical writing, where I learned the art of making complex information accessible. This foundation in clear communication naturally led me to UX design, where I could apply the same principles to visual and interactive experiences."})]})}),_.jsx("div",{className:"space-y-6",children:_.jsxs("article",{className:"glass-card p-8 rounded-xl hover-lift transition-all-smooth","aria-labelledby":"motivation-heading",children:[_.jsx("h3",{id:"motivation-heading",className:"text-2xl font-semibold mb-4",children:"What Drives Me"}),_.jsx("p",{className:"text-muted-foreground leading-relaxed mb-6",children:"I'm fascinated by the intersection of psychology, technology, and design. Every project is an opportunity to understand how people think, what they need, and how we can create solutions that feel almost invisible in their simplicity."}),_.jsx("div",{className:"grid grid-cols-2 gap-4",role:"list","aria-label":"Personal facts",children:t.map((n,r)=>_.jsxs("div",{role:"listitem",className:"flex items-center space-x-2 text-sm",children:[_.jsx("div",{className:"text-primary",role:"img","aria-label":`${n.fact} icon`,children:n.icon}),_.jsx("span",{className:"text-muted-foreground",children:n.fact})]},r))})]})})]})}),_.jsxs("div",{className:"mb-16",children:[_.jsx("h3",{className:"text-2xl font-semibold text-center mb-8",id:"values-heading",children:"Core Values"}),_.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",role:"list","aria-labelledby":"values-heading",children:e.map((n,r)=>_.jsxs("article",{role:"listitem",className:"glass-card p-6 rounded-xl text-center focus-within:ring-2 focus-within:ring-primary hover-lift transition-all-smooth",children:[_.jsx("div",{className:"text-primary mb-4 flex justify-center",role:"img","aria-label":`${n.title} icon`,children:n.icon}),_.jsx("h4",{className:"text-lg font-semibold mb-3",id:`value-title-${r}`,children:n.title}),_.jsx("p",{className:"text-sm text-muted-foreground","aria-describedby":`value-title-${r}`,children:n.description})]},r))})]}),_.jsxs("aside",{className:"glass-card-accent p-8 rounded-xl hover-lift transition-all-smooth","aria-labelledby":"skills-heading",children:[_.jsx("h3",{id:"skills-heading",className:"text-2xl font-semibold text-center mb-8",children:"Skills & Expertise"}),_.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",role:"list","aria-label":"Skill categories",children:d.map((n,r)=>_.jsxs("div",{role:"listitem",children:[_.jsx("h4",{className:"text-lg font-semibold mb-4 text-primary",id:`skill-category-${r}`,children:n.category}),_.jsx("ul",{className:"space-y-2","aria-labelledby":`skill-category-${r}`,children:n.items.map((o,l)=>_.jsxs("li",{className:"text-sm text-muted-foreground flex items-center",children:[_.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-2",role:"presentation"}),o]},l))})]},r))})]})]})})}function zL(){return _.jsx("section",{id:"contact",className:"py-20 bg-muted/50","aria-labelledby":"contact-heading",children:_.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsx("p",{className:"subheading text-primary text-lg mb-4",children:"Get In Touch"}),_.jsx("h2",{id:"contact-heading",className:"text-4xl font-bold mb-4",children:"Let's Work Together"}),_.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Ready to create something amazing? Let's discuss your project and how I can help bring your vision to life."})]}),_.jsx("div",{className:"max-w-2xl mx-auto",children:_.jsxs("form",{className:"glass-card p-8 rounded-xl space-y-6","aria-label":"Contact form",children:[_.jsxs("div",{children:[_.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",children:["Name ",_.jsx("span",{className:"text-red-500","aria-label":"required",children:"*"})]}),_.jsx("input",{type:"text",id:"name",name:"name",required:!0,"aria-required":"true",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary form-field transition-all-smooth",placeholder:"Your full name"})]}),_.jsxs("div",{children:[_.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:["Email ",_.jsx("span",{className:"text-red-500","aria-label":"required",children:"*"})]}),_.jsx("input",{type:"email",id:"email",name:"email",required:!0,"aria-required":"true","aria-describedby":"email-help",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary form-field transition-all-smooth",placeholder:"your.email@example.com"}),_.jsx("p",{id:"email-help",className:"text-sm text-muted-foreground mt-1",children:"We'll never share your email with anyone else."})]}),_.jsxs("div",{children:[_.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium mb-2",children:["Message ",_.jsx("span",{className:"text-red-500","aria-label":"required",children:"*"})]}),_.jsx("textarea",{id:"message",name:"message",rows:5,required:!0,"aria-required":"true",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary resize-vertical form-field transition-all-smooth",placeholder:"Tell me about your project or how I can help you..."})]}),_.jsx(kn,{type:"submit",size:"lg",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground btn-animate hover-glow","aria-describedby":"submit-help",children:"Send Message"}),_.jsx("p",{id:"submit-help",className:"text-sm text-muted-foreground text-center",children:"I typically respond within 24 hours."})]})})]})})}function BL(){const d=()=>{window.scrollTo({top:0,behavior:"smooth"})};return _.jsx("footer",{style:{backgroundColor:"#042F23"},className:"text-white py-16",role:"contentinfo",children:_.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[_.jsxs("div",{className:"md:col-span-2",children:[_.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Lillian Turner"}),_.jsx("p",{className:"text-white/80 leading-relaxed mb-6 max-w-md",children:"UX Designer & Technical Writer passionate about creating meaningful digital experiences through thoughtful design and clear communication."}),_.jsxs("div",{className:"flex space-x-4",role:"list","aria-label":"Social media links",children:[_.jsx("a",{href:"https://linkedin.com/in/lillianturner",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-10 h-10 rounded-lg glass-logo transition-transform duration-200 hover:scale-105",style:{backgroundColor:"rgba(255, 255, 255, 0.15)"},"aria-label":"LinkedIn profile",role:"listitem",children:_.jsx(_1,{className:"w-5 h-5 text-white"})}),_.jsx("a",{href:"https://github.com/lillianturner",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-10 h-10 rounded-lg glass-logo transition-transform duration-200 hover:scale-105",style:{backgroundColor:"rgba(255, 255, 255, 0.15)"},"aria-label":"GitHub profile",role:"listitem",children:_.jsx(x1,{className:"w-5 h-5 text-white"})}),_.jsx("a",{href:"mailto:hello@lillianturner.com",className:"inline-flex items-center justify-center w-10 h-10 rounded-lg glass-logo transition-transform duration-200 hover:scale-105",style:{backgroundColor:"rgba(255, 255, 255, 0.15)"},"aria-label":"Send email",role:"listitem",children:_.jsx(C1,{className:"w-5 h-5 text-white"})})]})]}),_.jsxs("nav",{children:[_.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),_.jsxs("ul",{className:"space-y-3",children:[_.jsx("li",{children:_.jsx("a",{href:"#home",className:"text-white/80 hover:text-white transition-colors focus:text-white focus:outline-none focus:underline",children:"Home"})}),_.jsx("li",{children:_.jsx("a",{href:"#ux-studies",className:"text-white/80 hover:text-white transition-colors focus:text-white focus:outline-none focus:underline",children:"UX Case Studies"})}),_.jsx("li",{children:_.jsx("a",{href:"#tech-writing",className:"text-white/80 hover:text-white transition-colors focus:text-white focus:outline-none focus:underline",children:"Technical Writing"})}),_.jsx("li",{children:_.jsx("a",{href:"#design-gallery",className:"text-white/80 hover:text-white transition-colors focus:text-white focus:outline-none focus:underline",children:"Design Gallery"})}),_.jsx("li",{children:_.jsx("a",{href:"#about",className:"text-white/80 hover:text-white transition-colors focus:text-white focus:outline-none focus:underline",children:"About"})}),_.jsx("li",{children:_.jsx("a",{href:"#contact",className:"text-white/80 hover:text-white transition-colors focus:text-white focus:outline-none focus:underline",children:"Contact"})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Services"}),_.jsxs("ul",{className:"space-y-3","aria-label":"Services offered",children:[_.jsx("li",{className:"text-white/80",children:"UX/UI Design"}),_.jsx("li",{className:"text-white/80",children:"User Research"}),_.jsx("li",{className:"text-white/80",children:"Technical Writing"}),_.jsx("li",{className:"text-white/80",children:"Content Strategy"}),_.jsx("li",{className:"text-white/80",children:"Design Systems"}),_.jsx("li",{className:"text-white/80",children:"API Documentation"})]})]})]}),_.jsxs("div",{className:"border-t border-white/20 pt-8 flex flex-col md:flex-row justify-between items-center",children:[_.jsxs("div",{className:"text-white/80 mb-4 md:mb-0",children:[_.jsx("p",{children:"© 2025 Lillian Turner. All rights reserved."}),_.jsxs("p",{className:"text-sm mt-1",children:["Made with ",_.jsx(S1,{className:"inline w-4 h-4",style:{color:"#34A853"},role:"img","aria-label":"heart"})," and lots of coffee"]})]}),_.jsxs(kn,{onClick:d,variant:"ghost",size:"sm",className:"text-white focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-[#0F172A]","aria-label":"Scroll to top of page",children:[_.jsx(oT,{className:"w-4 h-4 mr-2"}),"Back to Top"]})]})]})})}function HL(){return _.jsxs("div",{className:"min-h-screen bg-background",children:[_.jsx(kP,{}),_.jsxs("main",{id:"main-content",children:[_.jsx(TP,{}),_.jsx(DL,{}),_.jsx(FL,{}),_.jsx(OL,{}),_.jsx(jL,{}),_.jsx(zL,{})]}),_.jsx(BL,{})]})}eT.createRoot(document.getElementById("root")).render(_.jsx(m1.StrictMode,{children:_.jsx(HL,{})}));
