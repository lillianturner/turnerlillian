var Gk=Object.defineProperty;var m1=u=>{throw TypeError(u)};var Xk=(u,e,t)=>e in u?Gk(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t;var te=(u,e,t)=>Xk(u,typeof e!="symbol"?e+"":e,t),gy=(u,e,t)=>e.has(u)||m1("Cannot "+t);var a=(u,e,t)=>(gy(u,e,"read from private field"),t?t.call(u):e.get(u)),_=(u,e,t)=>e.has(u)?m1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(u):e.set(u,t),b=(u,e,t,n)=>(gy(u,e,"write to private field"),n?n.call(u,t):e.set(u,t),t),k=(u,e,t)=>(gy(u,e,"access private method"),t);var bn=(u,e,t,n)=>({set _(r){b(u,e,r,t)},get _(){return a(u,e,n)}});function qk(u,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in u)){const o=Object.getOwnPropertyDescriptor(n,r);o&&Object.defineProperty(u,r,o.get?o:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function fm(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var my={exports:{}},hd={},vy={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function Kk(){if(v1)return De;v1=1;var u=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function C(O,W,ue){this.props=O,this.context=W,this.refs=S,this.updater=ue||A}C.prototype.isReactComponent={},C.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function N(){}N.prototype=C.prototype;function R(O,W,ue){this.props=O,this.context=W,this.refs=S,this.updater=ue||A}var P=R.prototype=new N;P.constructor=R,E(P,C.prototype),P.isPureReactComponent=!0;var L=Array.isArray,I=Object.prototype.hasOwnProperty,B={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function V(O,W,ue){var be,Ce={},_e=null,xe=null;if(W!=null)for(be in W.ref!==void 0&&(xe=W.ref),W.key!==void 0&&(_e=""+W.key),W)I.call(W,be)&&!F.hasOwnProperty(be)&&(Ce[be]=W[be]);var Me=arguments.length-2;if(Me===1)Ce.children=ue;else if(1<Me){for(var ze=Array(Me),Fe=0;Fe<Me;Fe++)ze[Fe]=arguments[Fe+2];Ce.children=ze}if(O&&O.defaultProps)for(be in Me=O.defaultProps,Me)Ce[be]===void 0&&(Ce[be]=Me[be]);return{$$typeof:u,type:O,key:_e,ref:xe,props:Ce,_owner:B.current}}function G(O,W){return{$$typeof:u,type:O.type,key:W,ref:O.ref,props:O.props,_owner:O._owner}}function Y(O){return typeof O=="object"&&O!==null&&O.$$typeof===u}function ee(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return W[ue]})}var re=/\/+/g;function ve(O,W){return typeof O=="object"&&O!==null&&O.key!=null?ee(""+O.key):W.toString(36)}function oe(O,W,ue,be,Ce){var _e=typeof O;(_e==="undefined"||_e==="boolean")&&(O=null);var xe=!1;if(O===null)xe=!0;else switch(_e){case"string":case"number":xe=!0;break;case"object":switch(O.$$typeof){case u:case e:xe=!0}}if(xe)return xe=O,Ce=Ce(xe),O=be===""?"."+ve(xe,0):be,L(Ce)?(ue="",O!=null&&(ue=O.replace(re,"$&/")+"/"),oe(Ce,W,ue,"",function(Fe){return Fe})):Ce!=null&&(Y(Ce)&&(Ce=G(Ce,ue+(!Ce.key||xe&&xe.key===Ce.key?"":(""+Ce.key).replace(re,"$&/")+"/")+O)),W.push(Ce)),1;if(xe=0,be=be===""?".":be+":",L(O))for(var Me=0;Me<O.length;Me++){_e=O[Me];var ze=be+ve(_e,Me);xe+=oe(_e,W,ue,ze,Ce)}else if(ze=w(O),typeof ze=="function")for(O=ze.call(O),Me=0;!(_e=O.next()).done;)_e=_e.value,ze=be+ve(_e,Me++),xe+=oe(_e,W,ue,ze,Ce);else if(_e==="object")throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return xe}function Pe(O,W,ue){if(O==null)return O;var be=[],Ce=0;return oe(O,be,"","",function(_e){return W.call(ue,_e,Ce++)}),be}function Q(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var q={current:null},J={transition:null},ae={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:J,ReactCurrentOwner:B};function se(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:Pe,forEach:function(O,W,ue){Pe(O,function(){W.apply(this,arguments)},ue)},count:function(O){var W=0;return Pe(O,function(){W++}),W},toArray:function(O){return Pe(O,function(W){return W})||[]},only:function(O){if(!Y(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},De.Component=C,De.Fragment=t,De.Profiler=r,De.PureComponent=R,De.StrictMode=n,De.Suspense=h,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,De.act=se,De.cloneElement=function(O,W,ue){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var be=E({},O.props),Ce=O.key,_e=O.ref,xe=O._owner;if(W!=null){if(W.ref!==void 0&&(_e=W.ref,xe=B.current),W.key!==void 0&&(Ce=""+W.key),O.type&&O.type.defaultProps)var Me=O.type.defaultProps;for(ze in W)I.call(W,ze)&&!F.hasOwnProperty(ze)&&(be[ze]=W[ze]===void 0&&Me!==void 0?Me[ze]:W[ze])}var ze=arguments.length-2;if(ze===1)be.children=ue;else if(1<ze){Me=Array(ze);for(var Fe=0;Fe<ze;Fe++)Me[Fe]=arguments[Fe+2];be.children=Me}return{$$typeof:u,type:O.type,key:Ce,ref:_e,props:be,_owner:xe}},De.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:o,_context:O},O.Consumer=O},De.createElement=V,De.createFactory=function(O){var W=V.bind(null,O);return W.type=O,W},De.createRef=function(){return{current:null}},De.forwardRef=function(O){return{$$typeof:d,render:O}},De.isValidElement=Y,De.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:Q}},De.memo=function(O,W){return{$$typeof:p,type:O,compare:W===void 0?null:W}},De.startTransition=function(O){var W=J.transition;J.transition={};try{O()}finally{J.transition=W}},De.unstable_act=se,De.useCallback=function(O,W){return q.current.useCallback(O,W)},De.useContext=function(O){return q.current.useContext(O)},De.useDebugValue=function(){},De.useDeferredValue=function(O){return q.current.useDeferredValue(O)},De.useEffect=function(O,W){return q.current.useEffect(O,W)},De.useId=function(){return q.current.useId()},De.useImperativeHandle=function(O,W,ue){return q.current.useImperativeHandle(O,W,ue)},De.useInsertionEffect=function(O,W){return q.current.useInsertionEffect(O,W)},De.useLayoutEffect=function(O,W){return q.current.useLayoutEffect(O,W)},De.useMemo=function(O,W){return q.current.useMemo(O,W)},De.useReducer=function(O,W,ue){return q.current.useReducer(O,W,ue)},De.useRef=function(O){return q.current.useRef(O)},De.useState=function(O){return q.current.useState(O)},De.useSyncExternalStore=function(O,W,ue){return q.current.useSyncExternalStore(O,W,ue)},De.useTransition=function(){return q.current.useTransition()},De.version="18.3.1",De}var y1;function rw(){return y1||(y1=1,vy.exports=Kk()),vy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w1;function Yk(){if(w1)return hd;w1=1;var u=rw(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(d,h,p){var g,v={},w=null,A=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(A=h.ref);for(g in h)n.call(h,g)&&!o.hasOwnProperty(g)&&(v[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:d,key:w,ref:A,props:v,_owner:r.current}}return hd.Fragment=t,hd.jsx=l,hd.jsxs=l,hd}var x1;function Qk(){return x1||(x1=1,my.exports=Yk()),my.exports}var y=Qk(),D=rw();const ow=fm(D),SA=qk({__proto__:null,default:ow},[D]);var Up={},yy={exports:{}},Fn={},wy={exports:{}},xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function Jk(){return b1||(b1=1,(function(u){function e(J,ae){var se=J.length;J.push(ae);e:for(;0<se;){var O=se-1>>>1,W=J[O];if(0<r(W,ae))J[O]=ae,J[se]=W,se=O;else break e}}function t(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var ae=J[0],se=J.pop();if(se!==ae){J[0]=se;e:for(var O=0,W=J.length,ue=W>>>1;O<ue;){var be=2*(O+1)-1,Ce=J[be],_e=be+1,xe=J[_e];if(0>r(Ce,se))_e<W&&0>r(xe,Ce)?(J[O]=xe,J[_e]=se,O=_e):(J[O]=Ce,J[be]=se,O=be);else if(_e<W&&0>r(xe,se))J[O]=xe,J[_e]=se,O=_e;else break e}}return ae}function r(J,ae){var se=J.sortIndex-ae.sortIndex;return se!==0?se:J.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;u.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();u.unstable_now=function(){return l.now()-d}}var h=[],p=[],g=1,v=null,w=3,A=!1,E=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(J){for(var ae=t(p);ae!==null;){if(ae.callback===null)n(p);else if(ae.startTime<=J)n(p),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=t(p)}}function L(J){if(S=!1,P(J),!E)if(t(h)!==null)E=!0,Q(I);else{var ae=t(p);ae!==null&&q(L,ae.startTime-J)}}function I(J,ae){E=!1,S&&(S=!1,N(V),V=-1),A=!0;var se=w;try{for(P(ae),v=t(h);v!==null&&(!(v.expirationTime>ae)||J&&!ee());){var O=v.callback;if(typeof O=="function"){v.callback=null,w=v.priorityLevel;var W=O(v.expirationTime<=ae);ae=u.unstable_now(),typeof W=="function"?v.callback=W:v===t(h)&&n(h),P(ae)}else n(h);v=t(h)}if(v!==null)var ue=!0;else{var be=t(p);be!==null&&q(L,be.startTime-ae),ue=!1}return ue}finally{v=null,w=se,A=!1}}var B=!1,F=null,V=-1,G=5,Y=-1;function ee(){return!(u.unstable_now()-Y<G)}function re(){if(F!==null){var J=u.unstable_now();Y=J;var ae=!0;try{ae=F(!0,J)}finally{ae?ve():(B=!1,F=null)}}else B=!1}var ve;if(typeof R=="function")ve=function(){R(re)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Pe=oe.port2;oe.port1.onmessage=re,ve=function(){Pe.postMessage(null)}}else ve=function(){C(re,0)};function Q(J){F=J,B||(B=!0,ve())}function q(J,ae){V=C(function(){J(u.unstable_now())},ae)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(J){J.callback=null},u.unstable_continueExecution=function(){E||A||(E=!0,Q(I))},u.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<J?Math.floor(1e3/J):5},u.unstable_getCurrentPriorityLevel=function(){return w},u.unstable_getFirstCallbackNode=function(){return t(h)},u.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var se=w;w=ae;try{return J()}finally{w=se}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var se=w;w=J;try{return ae()}finally{w=se}},u.unstable_scheduleCallback=function(J,ae,se){var O=u.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?O+se:O):se=O,J){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=se+W,J={id:g++,callback:ae,priorityLevel:J,startTime:se,expirationTime:W,sortIndex:-1},se>O?(J.sortIndex=se,e(p,J),t(h)===null&&J===t(p)&&(S?(N(V),V=-1):S=!0,q(L,se-O))):(J.sortIndex=W,e(h,J),E||A||(E=!0,Q(I))),J},u.unstable_shouldYield=ee,u.unstable_wrapCallback=function(J){var ae=w;return function(){var se=w;w=ae;try{return J.apply(this,arguments)}finally{w=se}}}})(xy)),xy}var A1;function Zk(){return A1||(A1=1,wy.exports=Jk()),wy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function eT(){if(S1)return Fn;S1=1;var u=rw(),e=Zk();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function o(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(r[s]=i,s=0;s<i.length;s++)n.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(s){return h.call(v,s)?!0:h.call(g,s)?!1:p.test(s)?v[s]=!0:(g[s]=!0,!1)}function A(s,i,c,f){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,i,c,f){if(i===null||typeof i>"u"||A(s,i,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(s,i,c,f,m,x,T){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=s,this.type=i,this.sanitizeURL=x,this.removeEmptyString=T}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];C[i]=new S(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function R(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(N,R);C[i]=new S(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(N,R);C[i]=new S(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(N,R);C[i]=new S(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function P(s,i,c,f){var m=C.hasOwnProperty(i)?C[i]:null;(m!==null?m.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(E(i,c,m,f)&&(c=null),f||m===null?w(i)&&(c===null?s.removeAttribute(i):s.setAttribute(i,""+c)):m.mustUseProperty?s[m.propertyName]=c===null?m.type===3?!1:"":c:(i=m.attributeName,f=m.attributeNamespace,c===null?s.removeAttribute(i):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,f?s.setAttributeNS(f,i,c):s.setAttribute(i,c))))}var L=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),B=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ee=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),J=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,O;function W(s){if(O===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+s}var ue=!1;function be(s,i){if(!s||ue)return"";ue=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(U){var f=U}Reflect.construct(s,[],i)}else{try{i.call()}catch(U){f=U}s.call(i.prototype)}else{try{throw Error()}catch(U){f=U}s()}}catch(U){if(U&&f&&typeof U.stack=="string"){for(var m=U.stack.split(`
`),x=f.stack.split(`
`),T=m.length-1,M=x.length-1;1<=T&&0<=M&&m[T]!==x[M];)M--;for(;1<=T&&0<=M;T--,M--)if(m[T]!==x[M]){if(T!==1||M!==1)do if(T--,M--,0>M||m[T]!==x[M]){var j=`
`+m[T].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=T&&0<=M);break}}}finally{ue=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?W(s):""}function Ce(s){switch(s.tag){case 5:return W(s.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function _e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case F:return"Fragment";case B:return"Portal";case G:return"Profiler";case V:return"StrictMode";case ve:return"Suspense";case oe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case ee:return(s.displayName||"Context")+".Consumer";case Y:return(s._context.displayName||"Context")+".Provider";case re:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Pe:return i=s.displayName||null,i!==null?i:_e(s.type)||"Memo";case Q:i=s._payload,s=s._init;try{return _e(s(i))}catch{}}return null}function xe(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(i);case 8:return i===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ze(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fe(s){var i=ze(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),f=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,x=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(T){f=""+T,x.call(this,T)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Rn(s){s._valueTracker||(s._valueTracker=Fe(s))}function fs(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),f="";return s&&(f=ze(s)?s.checked?"true":"false":s.value),s=f,s!==c?(i.setValue(s),!0):!1}function Be(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Qe(s,i){var c=i.checked;return se({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function wt(s,i){var c=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;c=Me(i.value!=null?i.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function St(s,i){i=i.checked,i!=null&&P(s,"checked",i,!1)}function oi(s,i){St(s,i);var c=Me(i.value),f=i.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Xo(s,i.type,c):i.hasOwnProperty("defaultValue")&&Xo(s,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Mr(s,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,c||i===s.value||(s.value=i),s.defaultValue=i}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Xo(s,i,c){(i!=="number"||Be(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var qo=Array.isArray;function Ms(s,i,c,f){if(s=s.options,i){i={};for(var m=0;m<c.length;m++)i["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=i.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Me(c),i=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function Tu(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Lf(s,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(t(92));if(qo(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),c=i}s._wrapperState={initialValue:Me(c)}}function Mf(s,i){var c=Me(i.value),f=Me(i.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),i.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function If(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Df(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ps(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Df(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Is,Ds=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,f,m){MSApp.execUnsafeLocalFunction(function(){return s(i,c,f,m)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Is=Is||document.createElement("div"),Is.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Is.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function ji(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var Nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y_=["Webkit","ms","Moz","O"];Object.keys(Nu).forEach(function(s){Y_.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),Nu[i]=Nu[s]})});function Rw(s,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||Nu.hasOwnProperty(s)&&Nu[s]?(""+i).trim():i+"px"}function Lw(s,i){s=s.style;for(var c in i)if(i.hasOwnProperty(c)){var f=c.indexOf("--")===0,m=Rw(c,i[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,m):s[c]=m}}var Q_=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(s,i){if(i){if(Q_[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Tm(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nm=null;function Pm(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Rm=null,Tl=null,Nl=null;function Mw(s){if(s=Qu(s)){if(typeof Rm!="function")throw Error(t(280));var i=s.stateNode;i&&(i=ip(i),Rm(s.stateNode,s.type,i))}}function Iw(s){Tl?Nl?Nl.push(s):Nl=[s]:Tl=s}function Dw(){if(Tl){var s=Tl,i=Nl;if(Nl=Tl=null,Mw(s),i)for(s=0;s<i.length;s++)Mw(i[s])}}function jw(s,i){return s(i)}function Fw(){}var Lm=!1;function Ow(s,i,c){if(Lm)return s(i,c);Lm=!0;try{return jw(s,i,c)}finally{Lm=!1,(Tl!==null||Nl!==null)&&(Fw(),Dw())}}function Pu(s,i){var c=s.stateNode;if(c===null)return null;var f=ip(c);if(f===null)return null;c=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,i,typeof c));return c}var Mm=!1;if(d)try{var Ru={};Object.defineProperty(Ru,"passive",{get:function(){Mm=!0}}),window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{Mm=!1}function J_(s,i,c,f,m,x,T,M,j){var U=Array.prototype.slice.call(arguments,3);try{i.apply(c,U)}catch(K){this.onError(K)}}var Lu=!1,jf=null,Ff=!1,Im=null,Z_={onError:function(s){Lu=!0,jf=s}};function eC(s,i,c,f,m,x,T,M,j){Lu=!1,jf=null,J_.apply(Z_,arguments)}function tC(s,i,c,f,m,x,T,M,j){if(eC.apply(this,arguments),Lu){if(Lu){var U=jf;Lu=!1,jf=null}else throw Error(t(198));Ff||(Ff=!0,Im=U)}}function Ko(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function zw(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Bw(s){if(Ko(s)!==s)throw Error(t(188))}function nC(s){var i=s.alternate;if(!i){if(i=Ko(s),i===null)throw Error(t(188));return i!==s?null:s}for(var c=s,f=i;;){var m=c.return;if(m===null)break;var x=m.alternate;if(x===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===c)return Bw(m),s;if(x===f)return Bw(m),i;x=x.sibling}throw Error(t(188))}if(c.return!==f.return)c=m,f=x;else{for(var T=!1,M=m.child;M;){if(M===c){T=!0,c=m,f=x;break}if(M===f){T=!0,f=m,c=x;break}M=M.sibling}if(!T){for(M=x.child;M;){if(M===c){T=!0,c=x,f=m;break}if(M===f){T=!0,f=x,c=m;break}M=M.sibling}if(!T)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:i}function Hw(s){return s=nC(s),s!==null?$w(s):null}function $w(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=$w(s);if(i!==null)return i;s=s.sibling}return null}var Uw=e.unstable_scheduleCallback,Vw=e.unstable_cancelCallback,sC=e.unstable_shouldYield,iC=e.unstable_requestPaint,Et=e.unstable_now,rC=e.unstable_getCurrentPriorityLevel,Dm=e.unstable_ImmediatePriority,Ww=e.unstable_UserBlockingPriority,Of=e.unstable_NormalPriority,oC=e.unstable_LowPriority,Gw=e.unstable_IdlePriority,zf=null,ai=null;function aC(s){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(zf,s,void 0,(s.current.flags&128)===128)}catch{}}var js=Math.clz32?Math.clz32:uC,lC=Math.log,cC=Math.LN2;function uC(s){return s>>>=0,s===0?32:31-(lC(s)/cC|0)|0}var Bf=64,Hf=4194304;function Mu(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function $f(s,i){var c=s.pendingLanes;if(c===0)return 0;var f=0,m=s.suspendedLanes,x=s.pingedLanes,T=c&268435455;if(T!==0){var M=T&~m;M!==0?f=Mu(M):(x&=T,x!==0&&(f=Mu(x)))}else T=c&~m,T!==0?f=Mu(T):x!==0&&(f=Mu(x));if(f===0)return 0;if(i!==0&&i!==f&&(i&m)===0&&(m=f&-f,x=i&-i,m>=x||m===16&&(x&4194240)!==0))return i;if((f&4)!==0&&(f|=c&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=f;0<i;)c=31-js(i),m=1<<c,f|=s[c],i&=~m;return f}function dC(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hC(s,i){for(var c=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,x=s.pendingLanes;0<x;){var T=31-js(x),M=1<<T,j=m[T];j===-1?((M&c)===0||(M&f)!==0)&&(m[T]=dC(M,i)):j<=i&&(s.expiredLanes|=M),x&=~M}}function jm(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Xw(){var s=Bf;return Bf<<=1,(Bf&4194240)===0&&(Bf=64),s}function Fm(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function Iu(s,i,c){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-js(i),s[i]=c}function fC(s,i){var c=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var m=31-js(c),x=1<<m;i[m]=0,f[m]=-1,s[m]=-1,c&=~x}}function Om(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var f=31-js(c),m=1<<f;m&i|s[f]&i&&(s[f]|=i),c&=~m}}var Ke=0;function qw(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Kw,zm,Yw,Qw,Jw,Bm=!1,Uf=[],Ir=null,Dr=null,jr=null,Du=new Map,ju=new Map,Fr=[],pC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zw(s,i){switch(s){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Du.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(i.pointerId)}}function Fu(s,i,c,f,m,x){return s===null||s.nativeEvent!==x?(s={blockedOn:i,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[m]},i!==null&&(i=Qu(i),i!==null&&zm(i)),s):(s.eventSystemFlags|=f,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function gC(s,i,c,f,m){switch(i){case"focusin":return Ir=Fu(Ir,s,i,c,f,m),!0;case"dragenter":return Dr=Fu(Dr,s,i,c,f,m),!0;case"mouseover":return jr=Fu(jr,s,i,c,f,m),!0;case"pointerover":var x=m.pointerId;return Du.set(x,Fu(Du.get(x)||null,s,i,c,f,m)),!0;case"gotpointercapture":return x=m.pointerId,ju.set(x,Fu(ju.get(x)||null,s,i,c,f,m)),!0}return!1}function ex(s){var i=Yo(s.target);if(i!==null){var c=Ko(i);if(c!==null){if(i=c.tag,i===13){if(i=zw(c),i!==null){s.blockedOn=i,Jw(s.priority,function(){Yw(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Vf(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=$m(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Nm=f,c.target.dispatchEvent(f),Nm=null}else return i=Qu(c),i!==null&&zm(i),s.blockedOn=c,!1;i.shift()}return!0}function tx(s,i,c){Vf(s)&&c.delete(i)}function mC(){Bm=!1,Ir!==null&&Vf(Ir)&&(Ir=null),Dr!==null&&Vf(Dr)&&(Dr=null),jr!==null&&Vf(jr)&&(jr=null),Du.forEach(tx),ju.forEach(tx)}function Ou(s,i){s.blockedOn===i&&(s.blockedOn=null,Bm||(Bm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mC)))}function zu(s){function i(m){return Ou(m,s)}if(0<Uf.length){Ou(Uf[0],s);for(var c=1;c<Uf.length;c++){var f=Uf[c];f.blockedOn===s&&(f.blockedOn=null)}}for(Ir!==null&&Ou(Ir,s),Dr!==null&&Ou(Dr,s),jr!==null&&Ou(jr,s),Du.forEach(i),ju.forEach(i),c=0;c<Fr.length;c++)f=Fr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Fr.length&&(c=Fr[0],c.blockedOn===null);)ex(c),c.blockedOn===null&&Fr.shift()}var Pl=L.ReactCurrentBatchConfig,Wf=!0;function vC(s,i,c,f){var m=Ke,x=Pl.transition;Pl.transition=null;try{Ke=1,Hm(s,i,c,f)}finally{Ke=m,Pl.transition=x}}function yC(s,i,c,f){var m=Ke,x=Pl.transition;Pl.transition=null;try{Ke=4,Hm(s,i,c,f)}finally{Ke=m,Pl.transition=x}}function Hm(s,i,c,f){if(Wf){var m=$m(s,i,c,f);if(m===null)rv(s,i,f,Gf,c),Zw(s,f);else if(gC(m,s,i,c,f))f.stopPropagation();else if(Zw(s,f),i&4&&-1<pC.indexOf(s)){for(;m!==null;){var x=Qu(m);if(x!==null&&Kw(x),x=$m(s,i,c,f),x===null&&rv(s,i,f,Gf,c),x===m)break;m=x}m!==null&&f.stopPropagation()}else rv(s,i,f,null,c)}}var Gf=null;function $m(s,i,c,f){if(Gf=null,s=Pm(f),s=Yo(s),s!==null)if(i=Ko(s),i===null)s=null;else if(c=i.tag,c===13){if(s=zw(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Gf=s,null}function nx(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rC()){case Dm:return 1;case Ww:return 4;case Of:case oC:return 16;case Gw:return 536870912;default:return 16}default:return 16}}var Or=null,Um=null,Xf=null;function sx(){if(Xf)return Xf;var s,i=Um,c=i.length,f,m="value"in Or?Or.value:Or.textContent,x=m.length;for(s=0;s<c&&i[s]===m[s];s++);var T=c-s;for(f=1;f<=T&&i[c-f]===m[x-f];f++);return Xf=m.slice(s,1<f?1-f:void 0)}function qf(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Kf(){return!0}function ix(){return!1}function Vn(s){function i(c,f,m,x,T){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(c=s[M],this[M]=c?c(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Kf:ix,this.isPropagationStopped=ix,this}return se(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Kf)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Kf)},persist:function(){},isPersistent:Kf}),i}var Rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vm=Vn(Rl),Bu=se({},Rl,{view:0,detail:0}),wC=Vn(Bu),Wm,Gm,Hu,Yf=se({},Bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qm,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hu&&(Hu&&s.type==="mousemove"?(Wm=s.screenX-Hu.screenX,Gm=s.screenY-Hu.screenY):Gm=Wm=0,Hu=s),Wm)},movementY:function(s){return"movementY"in s?s.movementY:Gm}}),rx=Vn(Yf),xC=se({},Yf,{dataTransfer:0}),bC=Vn(xC),AC=se({},Bu,{relatedTarget:0}),Xm=Vn(AC),SC=se({},Rl,{animationName:0,elapsedTime:0,pseudoElement:0}),EC=Vn(SC),_C=se({},Rl,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),CC=Vn(_C),kC=se({},Rl,{data:0}),ox=Vn(kC),TC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RC(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=PC[s])?!!i[s]:!1}function qm(){return RC}var LC=se({},Bu,{key:function(s){if(s.key){var i=TC[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=qf(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?NC[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qm,charCode:function(s){return s.type==="keypress"?qf(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qf(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),MC=Vn(LC),IC=se({},Yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ax=Vn(IC),DC=se({},Bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qm}),jC=Vn(DC),FC=se({},Rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),OC=Vn(FC),zC=se({},Yf,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),BC=Vn(zC),HC=[9,13,27,32],Km=d&&"CompositionEvent"in window,$u=null;d&&"documentMode"in document&&($u=document.documentMode);var $C=d&&"TextEvent"in window&&!$u,lx=d&&(!Km||$u&&8<$u&&11>=$u),cx=" ",ux=!1;function dx(s,i){switch(s){case"keyup":return HC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hx(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ll=!1;function UC(s,i){switch(s){case"compositionend":return hx(i);case"keypress":return i.which!==32?null:(ux=!0,cx);case"textInput":return s=i.data,s===cx&&ux?null:s;default:return null}}function VC(s,i){if(Ll)return s==="compositionend"||!Km&&dx(s,i)?(s=sx(),Xf=Um=Or=null,Ll=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return lx&&i.locale!=="ko"?null:i.data;default:return null}}var WC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fx(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!WC[s.type]:i==="textarea"}function px(s,i,c,f){Iw(f),i=tp(i,"onChange"),0<i.length&&(c=new Vm("onChange","change",null,c,f),s.push({event:c,listeners:i}))}var Uu=null,Vu=null;function GC(s){Lx(s,0)}function Qf(s){var i=Fl(s);if(fs(i))return s}function XC(s,i){if(s==="change")return i}var gx=!1;if(d){var Ym;if(d){var Qm="oninput"in document;if(!Qm){var mx=document.createElement("div");mx.setAttribute("oninput","return;"),Qm=typeof mx.oninput=="function"}Ym=Qm}else Ym=!1;gx=Ym&&(!document.documentMode||9<document.documentMode)}function vx(){Uu&&(Uu.detachEvent("onpropertychange",yx),Vu=Uu=null)}function yx(s){if(s.propertyName==="value"&&Qf(Vu)){var i=[];px(i,Vu,s,Pm(s)),Ow(GC,i)}}function qC(s,i,c){s==="focusin"?(vx(),Uu=i,Vu=c,Uu.attachEvent("onpropertychange",yx)):s==="focusout"&&vx()}function KC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Qf(Vu)}function YC(s,i){if(s==="click")return Qf(i)}function QC(s,i){if(s==="input"||s==="change")return Qf(i)}function JC(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Fs=typeof Object.is=="function"?Object.is:JC;function Wu(s,i){if(Fs(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),f=Object.keys(i);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!h.call(i,m)||!Fs(s[m],i[m]))return!1}return!0}function wx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function xx(s,i){var c=wx(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=i&&f>=i)return{node:c,offset:i-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=wx(c)}}function bx(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?bx(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Ax(){for(var s=window,i=Be();i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=Be(s.document)}return i}function Jm(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function ZC(s){var i=Ax(),c=s.focusedElem,f=s.selectionRange;if(i!==c&&c&&c.ownerDocument&&bx(c.ownerDocument.documentElement,c)){if(f!==null&&Jm(c)){if(i=f.start,s=f.end,s===void 0&&(s=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(s,c.value.length);else if(s=(i=c.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var m=c.textContent.length,x=Math.min(f.start,m);f=f.end===void 0?x:Math.min(f.end,m),!s.extend&&x>f&&(m=f,f=x,x=m),m=xx(c,x);var T=xx(c,f);m&&T&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),s.removeAllRanges(),x>f?(s.addRange(i),s.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),s.addRange(i)))}}for(i=[],s=c;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)s=i[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var ek=d&&"documentMode"in document&&11>=document.documentMode,Ml=null,Zm=null,Gu=null,ev=!1;function Sx(s,i,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ev||Ml==null||Ml!==Be(f)||(f=Ml,"selectionStart"in f&&Jm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Gu&&Wu(Gu,f)||(Gu=f,f=tp(Zm,"onSelect"),0<f.length&&(i=new Vm("onSelect","select",null,i,c),s.push({event:i,listeners:f}),i.target=Ml)))}function Jf(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var Il={animationend:Jf("Animation","AnimationEnd"),animationiteration:Jf("Animation","AnimationIteration"),animationstart:Jf("Animation","AnimationStart"),transitionend:Jf("Transition","TransitionEnd")},tv={},Ex={};d&&(Ex=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function Zf(s){if(tv[s])return tv[s];if(!Il[s])return s;var i=Il[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in Ex)return tv[s]=i[c];return s}var _x=Zf("animationend"),Cx=Zf("animationiteration"),kx=Zf("animationstart"),Tx=Zf("transitionend"),Nx=new Map,Px="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(s,i){Nx.set(s,i),o(i,[s])}for(var nv=0;nv<Px.length;nv++){var sv=Px[nv],tk=sv.toLowerCase(),nk=sv[0].toUpperCase()+sv.slice(1);zr(tk,"on"+nk)}zr(_x,"onAnimationEnd"),zr(Cx,"onAnimationIteration"),zr(kx,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Tx,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xu));function Rx(s,i,c){var f=s.type||"unknown-event";s.currentTarget=c,tC(f,i,void 0,s),s.currentTarget=null}function Lx(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],m=f.event;f=f.listeners;e:{var x=void 0;if(i)for(var T=f.length-1;0<=T;T--){var M=f[T],j=M.instance,U=M.currentTarget;if(M=M.listener,j!==x&&m.isPropagationStopped())break e;Rx(m,M,U),x=j}else for(T=0;T<f.length;T++){if(M=f[T],j=M.instance,U=M.currentTarget,M=M.listener,j!==x&&m.isPropagationStopped())break e;Rx(m,M,U),x=j}}}if(Ff)throw s=Im,Ff=!1,Im=null,s}function ot(s,i){var c=i[dv];c===void 0&&(c=i[dv]=new Set);var f=s+"__bubble";c.has(f)||(Mx(i,s,2,!1),c.add(f))}function iv(s,i,c){var f=0;i&&(f|=4),Mx(c,s,f,i)}var ep="_reactListening"+Math.random().toString(36).slice(2);function qu(s){if(!s[ep]){s[ep]=!0,n.forEach(function(c){c!=="selectionchange"&&(sk.has(c)||iv(c,!1,s),iv(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[ep]||(i[ep]=!0,iv("selectionchange",!1,i))}}function Mx(s,i,c,f){switch(nx(i)){case 1:var m=vC;break;case 4:m=yC;break;default:m=Hm}c=m.bind(null,i,c,s),m=void 0,!Mm||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(i,c,{capture:!0,passive:m}):s.addEventListener(i,c,!0):m!==void 0?s.addEventListener(i,c,{passive:m}):s.addEventListener(i,c,!1)}function rv(s,i,c,f,m){var x=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var M=f.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(T===4)for(T=f.return;T!==null;){var j=T.tag;if((j===3||j===4)&&(j=T.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;T=T.return}for(;M!==null;){if(T=Yo(M),T===null)return;if(j=T.tag,j===5||j===6){f=x=T;continue e}M=M.parentNode}}f=f.return}Ow(function(){var U=x,K=Pm(c),Z=[];e:{var X=Nx.get(s);if(X!==void 0){var le=Vm,pe=s;switch(s){case"keypress":if(qf(c)===0)break e;case"keydown":case"keyup":le=MC;break;case"focusin":pe="focus",le=Xm;break;case"focusout":pe="blur",le=Xm;break;case"beforeblur":case"afterblur":le=Xm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=rx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=bC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=jC;break;case _x:case Cx:case kx:le=EC;break;case Tx:le=OC;break;case"scroll":le=wC;break;case"wheel":le=BC;break;case"copy":case"cut":case"paste":le=CC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=ax}var ge=(i&4)!==0,_t=!ge&&s==="scroll",H=ge?X!==null?X+"Capture":null:X;ge=[];for(var z=U,$;z!==null;){$=z;var ne=$.stateNode;if($.tag===5&&ne!==null&&($=ne,H!==null&&(ne=Pu(z,H),ne!=null&&ge.push(Ku(z,ne,$)))),_t)break;z=z.return}0<ge.length&&(X=new le(X,pe,null,c,K),Z.push({event:X,listeners:ge}))}}if((i&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",X&&c!==Nm&&(pe=c.relatedTarget||c.fromElement)&&(Yo(pe)||pe[Fi]))break e;if((le||X)&&(X=K.window===K?K:(X=K.ownerDocument)?X.defaultView||X.parentWindow:window,le?(pe=c.relatedTarget||c.toElement,le=U,pe=pe?Yo(pe):null,pe!==null&&(_t=Ko(pe),pe!==_t||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(le=null,pe=U),le!==pe)){if(ge=rx,ne="onMouseLeave",H="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(ge=ax,ne="onPointerLeave",H="onPointerEnter",z="pointer"),_t=le==null?X:Fl(le),$=pe==null?X:Fl(pe),X=new ge(ne,z+"leave",le,c,K),X.target=_t,X.relatedTarget=$,ne=null,Yo(K)===U&&(ge=new ge(H,z+"enter",pe,c,K),ge.target=$,ge.relatedTarget=_t,ne=ge),_t=ne,le&&pe)t:{for(ge=le,H=pe,z=0,$=ge;$;$=Dl($))z++;for($=0,ne=H;ne;ne=Dl(ne))$++;for(;0<z-$;)ge=Dl(ge),z--;for(;0<$-z;)H=Dl(H),$--;for(;z--;){if(ge===H||H!==null&&ge===H.alternate)break t;ge=Dl(ge),H=Dl(H)}ge=null}else ge=null;le!==null&&Ix(Z,X,le,ge,!1),pe!==null&&_t!==null&&Ix(Z,_t,pe,ge,!0)}}e:{if(X=U?Fl(U):window,le=X.nodeName&&X.nodeName.toLowerCase(),le==="select"||le==="input"&&X.type==="file")var me=XC;else if(fx(X))if(gx)me=QC;else{me=KC;var Ae=qC}else(le=X.nodeName)&&le.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(me=YC);if(me&&(me=me(s,U))){px(Z,me,c,K);break e}Ae&&Ae(s,X,U),s==="focusout"&&(Ae=X._wrapperState)&&Ae.controlled&&X.type==="number"&&Xo(X,"number",X.value)}switch(Ae=U?Fl(U):window,s){case"focusin":(fx(Ae)||Ae.contentEditable==="true")&&(Ml=Ae,Zm=U,Gu=null);break;case"focusout":Gu=Zm=Ml=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,Sx(Z,c,K);break;case"selectionchange":if(ek)break;case"keydown":case"keyup":Sx(Z,c,K)}var Se;if(Km)e:{switch(s){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ll?dx(s,c)&&(ke="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ke="onCompositionStart");ke&&(lx&&c.locale!=="ko"&&(Ll||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ll&&(Se=sx()):(Or=K,Um="value"in Or?Or.value:Or.textContent,Ll=!0)),Ae=tp(U,ke),0<Ae.length&&(ke=new ox(ke,s,null,c,K),Z.push({event:ke,listeners:Ae}),Se?ke.data=Se:(Se=hx(c),Se!==null&&(ke.data=Se)))),(Se=$C?UC(s,c):VC(s,c))&&(U=tp(U,"onBeforeInput"),0<U.length&&(K=new ox("onBeforeInput","beforeinput",null,c,K),Z.push({event:K,listeners:U}),K.data=Se))}Lx(Z,i)})}function Ku(s,i,c){return{instance:s,listener:i,currentTarget:c}}function tp(s,i){for(var c=i+"Capture",f=[];s!==null;){var m=s,x=m.stateNode;m.tag===5&&x!==null&&(m=x,x=Pu(s,c),x!=null&&f.unshift(Ku(s,x,m)),x=Pu(s,i),x!=null&&f.push(Ku(s,x,m))),s=s.return}return f}function Dl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ix(s,i,c,f,m){for(var x=i._reactName,T=[];c!==null&&c!==f;){var M=c,j=M.alternate,U=M.stateNode;if(j!==null&&j===f)break;M.tag===5&&U!==null&&(M=U,m?(j=Pu(c,x),j!=null&&T.unshift(Ku(c,j,M))):m||(j=Pu(c,x),j!=null&&T.push(Ku(c,j,M)))),c=c.return}T.length!==0&&s.push({event:i,listeners:T})}var ik=/\r\n?/g,rk=/\u0000|\uFFFD/g;function Dx(s){return(typeof s=="string"?s:""+s).replace(ik,`
`).replace(rk,"")}function np(s,i,c){if(i=Dx(i),Dx(s)!==i&&c)throw Error(t(425))}function sp(){}var ov=null,av=null;function lv(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cv=typeof setTimeout=="function"?setTimeout:void 0,ok=typeof clearTimeout=="function"?clearTimeout:void 0,jx=typeof Promise=="function"?Promise:void 0,ak=typeof queueMicrotask=="function"?queueMicrotask:typeof jx<"u"?function(s){return jx.resolve(null).then(s).catch(lk)}:cv;function lk(s){setTimeout(function(){throw s})}function uv(s,i){var c=i,f=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(f===0){s.removeChild(m),zu(i);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=m}while(c);zu(i)}function Br(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Fx(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}var jl=Math.random().toString(36).slice(2),li="__reactFiber$"+jl,Yu="__reactProps$"+jl,Fi="__reactContainer$"+jl,dv="__reactEvents$"+jl,ck="__reactListeners$"+jl,uk="__reactHandles$"+jl;function Yo(s){var i=s[li];if(i)return i;for(var c=s.parentNode;c;){if(i=c[Fi]||c[li]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=Fx(s);s!==null;){if(c=s[li])return c;s=Fx(s)}return i}s=c,c=s.parentNode}return null}function Qu(s){return s=s[li]||s[Fi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Fl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function ip(s){return s[Yu]||null}var hv=[],Ol=-1;function Hr(s){return{current:s}}function at(s){0>Ol||(s.current=hv[Ol],hv[Ol]=null,Ol--)}function st(s,i){Ol++,hv[Ol]=s.current,s.current=i}var $r={},ln=Hr($r),Ln=Hr(!1),Qo=$r;function zl(s,i){var c=s.type.contextTypes;if(!c)return $r;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var m={},x;for(x in c)m[x]=i[x];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=m),m}function Mn(s){return s=s.childContextTypes,s!=null}function rp(){at(Ln),at(ln)}function Ox(s,i,c){if(ln.current!==$r)throw Error(t(168));st(ln,i),st(Ln,c)}function zx(s,i,c){var f=s.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var m in f)if(!(m in i))throw Error(t(108,xe(s)||"Unknown",m));return se({},c,f)}function op(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||$r,Qo=ln.current,st(ln,s),st(Ln,Ln.current),!0}function Bx(s,i,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=zx(s,i,Qo),f.__reactInternalMemoizedMergedChildContext=s,at(Ln),at(ln),st(ln,s)):at(Ln),st(Ln,c)}var Oi=null,ap=!1,fv=!1;function Hx(s){Oi===null?Oi=[s]:Oi.push(s)}function dk(s){ap=!0,Hx(s)}function Ur(){if(!fv&&Oi!==null){fv=!0;var s=0,i=Ke;try{var c=Oi;for(Ke=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}Oi=null,ap=!1}catch(m){throw Oi!==null&&(Oi=Oi.slice(s+1)),Uw(Dm,Ur),m}finally{Ke=i,fv=!1}}return null}var Bl=[],Hl=0,lp=null,cp=0,gs=[],ms=0,Jo=null,zi=1,Bi="";function Zo(s,i){Bl[Hl++]=cp,Bl[Hl++]=lp,lp=s,cp=i}function $x(s,i,c){gs[ms++]=zi,gs[ms++]=Bi,gs[ms++]=Jo,Jo=s;var f=zi;s=Bi;var m=32-js(f)-1;f&=~(1<<m),c+=1;var x=32-js(i)+m;if(30<x){var T=m-m%5;x=(f&(1<<T)-1).toString(32),f>>=T,m-=T,zi=1<<32-js(i)+m|c<<m|f,Bi=x+s}else zi=1<<x|c<<m|f,Bi=s}function pv(s){s.return!==null&&(Zo(s,1),$x(s,1,0))}function gv(s){for(;s===lp;)lp=Bl[--Hl],Bl[Hl]=null,cp=Bl[--Hl],Bl[Hl]=null;for(;s===Jo;)Jo=gs[--ms],gs[ms]=null,Bi=gs[--ms],gs[ms]=null,zi=gs[--ms],gs[ms]=null}var Wn=null,Gn=null,ct=!1,Os=null;function Ux(s,i){var c=xs(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=s,i=s.deletions,i===null?(s.deletions=[c],s.flags|=16):i.push(c)}function Vx(s,i){switch(s.tag){case 5:var c=s.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Wn=s,Gn=Br(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Wn=s,Gn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Jo!==null?{id:zi,overflow:Bi}:null,s.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=xs(18,null,null,0),c.stateNode=i,c.return=s,s.child=c,Wn=s,Gn=null,!0):!1;default:return!1}}function mv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function vv(s){if(ct){var i=Gn;if(i){var c=i;if(!Vx(s,i)){if(mv(s))throw Error(t(418));i=Br(c.nextSibling);var f=Wn;i&&Vx(s,i)?Ux(f,c):(s.flags=s.flags&-4097|2,ct=!1,Wn=s)}}else{if(mv(s))throw Error(t(418));s.flags=s.flags&-4097|2,ct=!1,Wn=s}}}function Wx(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Wn=s}function up(s){if(s!==Wn)return!1;if(!ct)return Wx(s),ct=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!lv(s.type,s.memoizedProps)),i&&(i=Gn)){if(mv(s))throw Gx(),Error(t(418));for(;i;)Ux(s,i),i=Br(i.nextSibling)}if(Wx(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(i===0){Gn=Br(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}s=s.nextSibling}Gn=null}}else Gn=Wn?Br(s.stateNode.nextSibling):null;return!0}function Gx(){for(var s=Gn;s;)s=Br(s.nextSibling)}function $l(){Gn=Wn=null,ct=!1}function yv(s){Os===null?Os=[s]:Os.push(s)}var hk=L.ReactCurrentBatchConfig;function Ju(s,i,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var m=f,x=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(T){var M=m.refs;T===null?delete M[x]:M[x]=T},i._stringRef=x,i)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function dp(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Xx(s){var i=s._init;return i(s._payload)}function qx(s){function i(H,z){if(s){var $=H.deletions;$===null?(H.deletions=[z],H.flags|=16):$.push(z)}}function c(H,z){if(!s)return null;for(;z!==null;)i(H,z),z=z.sibling;return null}function f(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function m(H,z){return H=Qr(H,z),H.index=0,H.sibling=null,H}function x(H,z,$){return H.index=$,s?($=H.alternate,$!==null?($=$.index,$<z?(H.flags|=2,z):$):(H.flags|=2,z)):(H.flags|=1048576,z)}function T(H){return s&&H.alternate===null&&(H.flags|=2),H}function M(H,z,$,ne){return z===null||z.tag!==6?(z=cy($,H.mode,ne),z.return=H,z):(z=m(z,$),z.return=H,z)}function j(H,z,$,ne){var me=$.type;return me===F?K(H,z,$.props.children,ne,$.key):z!==null&&(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Q&&Xx(me)===z.type)?(ne=m(z,$.props),ne.ref=Ju(H,z,$),ne.return=H,ne):(ne=Dp($.type,$.key,$.props,null,H.mode,ne),ne.ref=Ju(H,z,$),ne.return=H,ne)}function U(H,z,$,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=uy($,H.mode,ne),z.return=H,z):(z=m(z,$.children||[]),z.return=H,z)}function K(H,z,$,ne,me){return z===null||z.tag!==7?(z=aa($,H.mode,ne,me),z.return=H,z):(z=m(z,$),z.return=H,z)}function Z(H,z,$){if(typeof z=="string"&&z!==""||typeof z=="number")return z=cy(""+z,H.mode,$),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return $=Dp(z.type,z.key,z.props,null,H.mode,$),$.ref=Ju(H,null,z),$.return=H,$;case B:return z=uy(z,H.mode,$),z.return=H,z;case Q:var ne=z._init;return Z(H,ne(z._payload),$)}if(qo(z)||ae(z))return z=aa(z,H.mode,$,null),z.return=H,z;dp(H,z)}return null}function X(H,z,$,ne){var me=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return me!==null?null:M(H,z,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case I:return $.key===me?j(H,z,$,ne):null;case B:return $.key===me?U(H,z,$,ne):null;case Q:return me=$._init,X(H,z,me($._payload),ne)}if(qo($)||ae($))return me!==null?null:K(H,z,$,ne,null);dp(H,$)}return null}function le(H,z,$,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return H=H.get($)||null,M(z,H,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case I:return H=H.get(ne.key===null?$:ne.key)||null,j(z,H,ne,me);case B:return H=H.get(ne.key===null?$:ne.key)||null,U(z,H,ne,me);case Q:var Ae=ne._init;return le(H,z,$,Ae(ne._payload),me)}if(qo(ne)||ae(ne))return H=H.get($)||null,K(z,H,ne,me,null);dp(z,ne)}return null}function pe(H,z,$,ne){for(var me=null,Ae=null,Se=z,ke=z=0,Ut=null;Se!==null&&ke<$.length;ke++){Se.index>ke?(Ut=Se,Se=null):Ut=Se.sibling;var We=X(H,Se,$[ke],ne);if(We===null){Se===null&&(Se=Ut);break}s&&Se&&We.alternate===null&&i(H,Se),z=x(We,z,ke),Ae===null?me=We:Ae.sibling=We,Ae=We,Se=Ut}if(ke===$.length)return c(H,Se),ct&&Zo(H,ke),me;if(Se===null){for(;ke<$.length;ke++)Se=Z(H,$[ke],ne),Se!==null&&(z=x(Se,z,ke),Ae===null?me=Se:Ae.sibling=Se,Ae=Se);return ct&&Zo(H,ke),me}for(Se=f(H,Se);ke<$.length;ke++)Ut=le(Se,H,ke,$[ke],ne),Ut!==null&&(s&&Ut.alternate!==null&&Se.delete(Ut.key===null?ke:Ut.key),z=x(Ut,z,ke),Ae===null?me=Ut:Ae.sibling=Ut,Ae=Ut);return s&&Se.forEach(function(Jr){return i(H,Jr)}),ct&&Zo(H,ke),me}function ge(H,z,$,ne){var me=ae($);if(typeof me!="function")throw Error(t(150));if($=me.call($),$==null)throw Error(t(151));for(var Ae=me=null,Se=z,ke=z=0,Ut=null,We=$.next();Se!==null&&!We.done;ke++,We=$.next()){Se.index>ke?(Ut=Se,Se=null):Ut=Se.sibling;var Jr=X(H,Se,We.value,ne);if(Jr===null){Se===null&&(Se=Ut);break}s&&Se&&Jr.alternate===null&&i(H,Se),z=x(Jr,z,ke),Ae===null?me=Jr:Ae.sibling=Jr,Ae=Jr,Se=Ut}if(We.done)return c(H,Se),ct&&Zo(H,ke),me;if(Se===null){for(;!We.done;ke++,We=$.next())We=Z(H,We.value,ne),We!==null&&(z=x(We,z,ke),Ae===null?me=We:Ae.sibling=We,Ae=We);return ct&&Zo(H,ke),me}for(Se=f(H,Se);!We.done;ke++,We=$.next())We=le(Se,H,ke,We.value,ne),We!==null&&(s&&We.alternate!==null&&Se.delete(We.key===null?ke:We.key),z=x(We,z,ke),Ae===null?me=We:Ae.sibling=We,Ae=We);return s&&Se.forEach(function(Wk){return i(H,Wk)}),ct&&Zo(H,ke),me}function _t(H,z,$,ne){if(typeof $=="object"&&$!==null&&$.type===F&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case I:e:{for(var me=$.key,Ae=z;Ae!==null;){if(Ae.key===me){if(me=$.type,me===F){if(Ae.tag===7){c(H,Ae.sibling),z=m(Ae,$.props.children),z.return=H,H=z;break e}}else if(Ae.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Q&&Xx(me)===Ae.type){c(H,Ae.sibling),z=m(Ae,$.props),z.ref=Ju(H,Ae,$),z.return=H,H=z;break e}c(H,Ae);break}else i(H,Ae);Ae=Ae.sibling}$.type===F?(z=aa($.props.children,H.mode,ne,$.key),z.return=H,H=z):(ne=Dp($.type,$.key,$.props,null,H.mode,ne),ne.ref=Ju(H,z,$),ne.return=H,H=ne)}return T(H);case B:e:{for(Ae=$.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){c(H,z.sibling),z=m(z,$.children||[]),z.return=H,H=z;break e}else{c(H,z);break}else i(H,z);z=z.sibling}z=uy($,H.mode,ne),z.return=H,H=z}return T(H);case Q:return Ae=$._init,_t(H,z,Ae($._payload),ne)}if(qo($))return pe(H,z,$,ne);if(ae($))return ge(H,z,$,ne);dp(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,z!==null&&z.tag===6?(c(H,z.sibling),z=m(z,$),z.return=H,H=z):(c(H,z),z=cy($,H.mode,ne),z.return=H,H=z),T(H)):c(H,z)}return _t}var Ul=qx(!0),Kx=qx(!1),hp=Hr(null),fp=null,Vl=null,wv=null;function xv(){wv=Vl=fp=null}function bv(s){var i=hp.current;at(hp),s._currentValue=i}function Av(s,i,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),s===c)break;s=s.return}}function Wl(s,i){fp=s,wv=Vl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(In=!0),s.firstContext=null)}function vs(s){var i=s._currentValue;if(wv!==s)if(s={context:s,memoizedValue:i,next:null},Vl===null){if(fp===null)throw Error(t(308));Vl=s,fp.dependencies={lanes:0,firstContext:s}}else Vl=Vl.next=s;return i}var ea=null;function Sv(s){ea===null?ea=[s]:ea.push(s)}function Yx(s,i,c,f){var m=i.interleaved;return m===null?(c.next=c,Sv(i)):(c.next=m.next,m.next=c),i.interleaved=c,Hi(s,f)}function Hi(s,i){s.lanes|=i;var c=s.alternate;for(c!==null&&(c.lanes|=i),c=s,s=s.return;s!==null;)s.childLanes|=i,c=s.alternate,c!==null&&(c.childLanes|=i),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Vr=!1;function Ev(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qx(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function $i(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Wr(s,i,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,($e&2)!==0){var m=f.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),f.pending=i,Hi(s,c)}return m=f.interleaved,m===null?(i.next=i,Sv(f)):(i.next=m.next,m.next=i),f.interleaved=i,Hi(s,c)}function pp(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,Om(s,c)}}function Jx(s,i){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?m=x=T:x=x.next=T,c=c.next}while(c!==null);x===null?m=x=i:x=x.next=i}else m=x=i;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}function gp(s,i,c,f){var m=s.updateQueue;Vr=!1;var x=m.firstBaseUpdate,T=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var j=M,U=j.next;j.next=null,T===null?x=U:T.next=U,T=j;var K=s.alternate;K!==null&&(K=K.updateQueue,M=K.lastBaseUpdate,M!==T&&(M===null?K.firstBaseUpdate=U:M.next=U,K.lastBaseUpdate=j))}if(x!==null){var Z=m.baseState;T=0,K=U=j=null,M=x;do{var X=M.lane,le=M.eventTime;if((f&X)===X){K!==null&&(K=K.next={eventTime:le,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var pe=s,ge=M;switch(X=i,le=c,ge.tag){case 1:if(pe=ge.payload,typeof pe=="function"){Z=pe.call(le,Z,X);break e}Z=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ge.payload,X=typeof pe=="function"?pe.call(le,Z,X):pe,X==null)break e;Z=se({},Z,X);break e;case 2:Vr=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,X=m.effects,X===null?m.effects=[M]:X.push(M))}else le={eventTime:le,lane:X,tag:M.tag,payload:M.payload,callback:M.callback,next:null},K===null?(U=K=le,j=Z):K=K.next=le,T|=X;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;X=M,M=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);if(K===null&&(j=Z),m.baseState=j,m.firstBaseUpdate=U,m.lastBaseUpdate=K,i=m.shared.interleaved,i!==null){m=i;do T|=m.lane,m=m.next;while(m!==i)}else x===null&&(m.shared.lanes=0);sa|=T,s.lanes=T,s.memoizedState=Z}}function Zx(s,i,c){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var f=s[i],m=f.callback;if(m!==null){if(f.callback=null,f=c,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var Zu={},ci=Hr(Zu),ed=Hr(Zu),td=Hr(Zu);function ta(s){if(s===Zu)throw Error(t(174));return s}function _v(s,i){switch(st(td,i),st(ed,s),st(ci,Zu),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ps(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=ps(i,s)}at(ci),st(ci,i)}function Gl(){at(ci),at(ed),at(td)}function eb(s){ta(td.current);var i=ta(ci.current),c=ps(i,s.type);i!==c&&(st(ed,s),st(ci,c))}function Cv(s){ed.current===s&&(at(ci),at(ed))}var gt=Hr(0);function mp(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var kv=[];function Tv(){for(var s=0;s<kv.length;s++)kv[s]._workInProgressVersionPrimary=null;kv.length=0}var vp=L.ReactCurrentDispatcher,Nv=L.ReactCurrentBatchConfig,na=0,mt=null,Dt=null,Ht=null,yp=!1,nd=!1,sd=0,fk=0;function cn(){throw Error(t(321))}function Pv(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!Fs(s[c],i[c]))return!1;return!0}function Rv(s,i,c,f,m,x){if(na=x,mt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,vp.current=s===null||s.memoizedState===null?vk:yk,s=c(f,m),nd){x=0;do{if(nd=!1,sd=0,25<=x)throw Error(t(301));x+=1,Ht=Dt=null,i.updateQueue=null,vp.current=wk,s=c(f,m)}while(nd)}if(vp.current=bp,i=Dt!==null&&Dt.next!==null,na=0,Ht=Dt=mt=null,yp=!1,i)throw Error(t(300));return s}function Lv(){var s=sd!==0;return sd=0,s}function ui(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?mt.memoizedState=Ht=s:Ht=Ht.next=s,Ht}function ys(){if(Dt===null){var s=mt.alternate;s=s!==null?s.memoizedState:null}else s=Dt.next;var i=Ht===null?mt.memoizedState:Ht.next;if(i!==null)Ht=i,Dt=s;else{if(s===null)throw Error(t(310));Dt=s,s={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ht===null?mt.memoizedState=Ht=s:Ht=Ht.next=s}return Ht}function id(s,i){return typeof i=="function"?i(s):i}function Mv(s){var i=ys(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=Dt,m=f.baseQueue,x=c.pending;if(x!==null){if(m!==null){var T=m.next;m.next=x.next,x.next=T}f.baseQueue=m=x,c.pending=null}if(m!==null){x=m.next,f=f.baseState;var M=T=null,j=null,U=x;do{var K=U.lane;if((na&K)===K)j!==null&&(j=j.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),f=U.hasEagerState?U.eagerState:s(f,U.action);else{var Z={lane:K,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};j===null?(M=j=Z,T=f):j=j.next=Z,mt.lanes|=K,sa|=K}U=U.next}while(U!==null&&U!==x);j===null?T=f:j.next=M,Fs(f,i.memoizedState)||(In=!0),i.memoizedState=f,i.baseState=T,i.baseQueue=j,c.lastRenderedState=f}if(s=c.interleaved,s!==null){m=s;do x=m.lane,mt.lanes|=x,sa|=x,m=m.next;while(m!==s)}else m===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function Iv(s){var i=ys(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,m=c.pending,x=i.memoizedState;if(m!==null){c.pending=null;var T=m=m.next;do x=s(x,T.action),T=T.next;while(T!==m);Fs(x,i.memoizedState)||(In=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),c.lastRenderedState=x}return[x,f]}function tb(){}function nb(s,i){var c=mt,f=ys(),m=i(),x=!Fs(f.memoizedState,m);if(x&&(f.memoizedState=m,In=!0),f=f.queue,Dv(rb.bind(null,c,f,s),[s]),f.getSnapshot!==i||x||Ht!==null&&Ht.memoizedState.tag&1){if(c.flags|=2048,rd(9,ib.bind(null,c,f,m,i),void 0,null),$t===null)throw Error(t(349));(na&30)!==0||sb(c,i,m)}return m}function sb(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=mt.updateQueue,i===null?(i={lastEffect:null,stores:null},mt.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function ib(s,i,c,f){i.value=c,i.getSnapshot=f,ob(i)&&ab(s)}function rb(s,i,c){return c(function(){ob(i)&&ab(s)})}function ob(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!Fs(s,c)}catch{return!0}}function ab(s){var i=Hi(s,1);i!==null&&$s(i,s,1,-1)}function lb(s){var i=ui();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:s},i.queue=s,s=s.dispatch=mk.bind(null,mt,s),[i.memoizedState,s]}function rd(s,i,c,f){return s={tag:s,create:i,destroy:c,deps:f,next:null},i=mt.updateQueue,i===null?(i={lastEffect:null,stores:null},mt.updateQueue=i,i.lastEffect=s.next=s):(c=i.lastEffect,c===null?i.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,i.lastEffect=s)),s}function cb(){return ys().memoizedState}function wp(s,i,c,f){var m=ui();mt.flags|=s,m.memoizedState=rd(1|i,c,void 0,f===void 0?null:f)}function xp(s,i,c,f){var m=ys();f=f===void 0?null:f;var x=void 0;if(Dt!==null){var T=Dt.memoizedState;if(x=T.destroy,f!==null&&Pv(f,T.deps)){m.memoizedState=rd(i,c,x,f);return}}mt.flags|=s,m.memoizedState=rd(1|i,c,x,f)}function ub(s,i){return wp(8390656,8,s,i)}function Dv(s,i){return xp(2048,8,s,i)}function db(s,i){return xp(4,2,s,i)}function hb(s,i){return xp(4,4,s,i)}function fb(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function pb(s,i,c){return c=c!=null?c.concat([s]):null,xp(4,4,fb.bind(null,i,s),c)}function jv(){}function gb(s,i){var c=ys();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Pv(i,f[1])?f[0]:(c.memoizedState=[s,i],s)}function mb(s,i){var c=ys();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&Pv(i,f[1])?f[0]:(s=s(),c.memoizedState=[s,i],s)}function vb(s,i,c){return(na&21)===0?(s.baseState&&(s.baseState=!1,In=!0),s.memoizedState=c):(Fs(c,i)||(c=Xw(),mt.lanes|=c,sa|=c,s.baseState=!0),i)}function pk(s,i){var c=Ke;Ke=c!==0&&4>c?c:4,s(!0);var f=Nv.transition;Nv.transition={};try{s(!1),i()}finally{Ke=c,Nv.transition=f}}function yb(){return ys().memoizedState}function gk(s,i,c){var f=Kr(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},wb(s))xb(i,c);else if(c=Yx(s,i,c,f),c!==null){var m=xn();$s(c,s,f,m),bb(c,i,f)}}function mk(s,i,c){var f=Kr(s),m={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(wb(s))xb(i,m);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var T=i.lastRenderedState,M=x(T,c);if(m.hasEagerState=!0,m.eagerState=M,Fs(M,T)){var j=i.interleaved;j===null?(m.next=m,Sv(i)):(m.next=j.next,j.next=m),i.interleaved=m;return}}catch{}finally{}c=Yx(s,i,m,f),c!==null&&(m=xn(),$s(c,s,f,m),bb(c,i,f))}}function wb(s){var i=s.alternate;return s===mt||i!==null&&i===mt}function xb(s,i){nd=yp=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function bb(s,i,c){if((c&4194240)!==0){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,Om(s,c)}}var bp={readContext:vs,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},vk={readContext:vs,useCallback:function(s,i){return ui().memoizedState=[s,i===void 0?null:i],s},useContext:vs,useEffect:ub,useImperativeHandle:function(s,i,c){return c=c!=null?c.concat([s]):null,wp(4194308,4,fb.bind(null,i,s),c)},useLayoutEffect:function(s,i){return wp(4194308,4,s,i)},useInsertionEffect:function(s,i){return wp(4,2,s,i)},useMemo:function(s,i){var c=ui();return i=i===void 0?null:i,s=s(),c.memoizedState=[s,i],s},useReducer:function(s,i,c){var f=ui();return i=c!==void 0?c(i):i,f.memoizedState=f.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},f.queue=s,s=s.dispatch=gk.bind(null,mt,s),[f.memoizedState,s]},useRef:function(s){var i=ui();return s={current:s},i.memoizedState=s},useState:lb,useDebugValue:jv,useDeferredValue:function(s){return ui().memoizedState=s},useTransition:function(){var s=lb(!1),i=s[0];return s=pk.bind(null,s[1]),ui().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,c){var f=mt,m=ui();if(ct){if(c===void 0)throw Error(t(407));c=c()}else{if(c=i(),$t===null)throw Error(t(349));(na&30)!==0||sb(f,i,c)}m.memoizedState=c;var x={value:c,getSnapshot:i};return m.queue=x,ub(rb.bind(null,f,x,s),[s]),f.flags|=2048,rd(9,ib.bind(null,f,x,c,i),void 0,null),c},useId:function(){var s=ui(),i=$t.identifierPrefix;if(ct){var c=Bi,f=zi;c=(f&~(1<<32-js(f)-1)).toString(32)+c,i=":"+i+"R"+c,c=sd++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=fk++,i=":"+i+"r"+c.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},yk={readContext:vs,useCallback:gb,useContext:vs,useEffect:Dv,useImperativeHandle:pb,useInsertionEffect:db,useLayoutEffect:hb,useMemo:mb,useReducer:Mv,useRef:cb,useState:function(){return Mv(id)},useDebugValue:jv,useDeferredValue:function(s){var i=ys();return vb(i,Dt.memoizedState,s)},useTransition:function(){var s=Mv(id)[0],i=ys().memoizedState;return[s,i]},useMutableSource:tb,useSyncExternalStore:nb,useId:yb,unstable_isNewReconciler:!1},wk={readContext:vs,useCallback:gb,useContext:vs,useEffect:Dv,useImperativeHandle:pb,useInsertionEffect:db,useLayoutEffect:hb,useMemo:mb,useReducer:Iv,useRef:cb,useState:function(){return Iv(id)},useDebugValue:jv,useDeferredValue:function(s){var i=ys();return Dt===null?i.memoizedState=s:vb(i,Dt.memoizedState,s)},useTransition:function(){var s=Iv(id)[0],i=ys().memoizedState;return[s,i]},useMutableSource:tb,useSyncExternalStore:nb,useId:yb,unstable_isNewReconciler:!1};function zs(s,i){if(s&&s.defaultProps){i=se({},i),s=s.defaultProps;for(var c in s)i[c]===void 0&&(i[c]=s[c]);return i}return i}function Fv(s,i,c,f){i=s.memoizedState,c=c(f,i),c=c==null?i:se({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Ap={isMounted:function(s){return(s=s._reactInternals)?Ko(s)===s:!1},enqueueSetState:function(s,i,c){s=s._reactInternals;var f=xn(),m=Kr(s),x=$i(f,m);x.payload=i,c!=null&&(x.callback=c),i=Wr(s,x,m),i!==null&&($s(i,s,m,f),pp(i,s,m))},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var f=xn(),m=Kr(s),x=$i(f,m);x.tag=1,x.payload=i,c!=null&&(x.callback=c),i=Wr(s,x,m),i!==null&&($s(i,s,m,f),pp(i,s,m))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=xn(),f=Kr(s),m=$i(c,f);m.tag=2,i!=null&&(m.callback=i),i=Wr(s,m,f),i!==null&&($s(i,s,f,c),pp(i,s,f))}};function Ab(s,i,c,f,m,x,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,T):i.prototype&&i.prototype.isPureReactComponent?!Wu(c,f)||!Wu(m,x):!0}function Sb(s,i,c){var f=!1,m=$r,x=i.contextType;return typeof x=="object"&&x!==null?x=vs(x):(m=Mn(i)?Qo:ln.current,f=i.contextTypes,x=(f=f!=null)?zl(s,m):$r),i=new i(c,x),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ap,s.stateNode=i,i._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=x),i}function Eb(s,i,c,f){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,f),i.state!==s&&Ap.enqueueReplaceState(i,i.state,null)}function Ov(s,i,c,f){var m=s.stateNode;m.props=c,m.state=s.memoizedState,m.refs={},Ev(s);var x=i.contextType;typeof x=="object"&&x!==null?m.context=vs(x):(x=Mn(i)?Qo:ln.current,m.context=zl(s,x)),m.state=s.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(Fv(s,i,x,c),m.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&Ap.enqueueReplaceState(m,m.state,null),gp(s,c,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Xl(s,i){try{var c="",f=i;do c+=Ce(f),f=f.return;while(f);var m=c}catch(x){m=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:i,stack:m,digest:null}}function zv(s,i,c){return{value:s,source:null,stack:c??null,digest:i??null}}function Bv(s,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var xk=typeof WeakMap=="function"?WeakMap:Map;function _b(s,i,c){c=$i(-1,c),c.tag=3,c.payload={element:null};var f=i.value;return c.callback=function(){Np||(Np=!0,ty=f),Bv(s,i)},c}function Cb(s,i,c){c=$i(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=i.value;c.payload=function(){return f(m)},c.callback=function(){Bv(s,i)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){Bv(s,i),typeof f!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),c}function kb(s,i,c){var f=s.pingCache;if(f===null){f=s.pingCache=new xk;var m=new Set;f.set(i,m)}else m=f.get(i),m===void 0&&(m=new Set,f.set(i,m));m.has(c)||(m.add(c),s=Ik.bind(null,s,i,c),i.then(s,s))}function Tb(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Nb(s,i,c,f,m){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=$i(-1,1),i.tag=2,Wr(c,i,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var bk=L.ReactCurrentOwner,In=!1;function wn(s,i,c,f){i.child=s===null?Kx(i,null,c,f):Ul(i,s.child,c,f)}function Pb(s,i,c,f,m){c=c.render;var x=i.ref;return Wl(i,m),f=Rv(s,i,c,f,x,m),c=Lv(),s!==null&&!In?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,Ui(s,i,m)):(ct&&c&&pv(i),i.flags|=1,wn(s,i,f,m),i.child)}function Rb(s,i,c,f,m){if(s===null){var x=c.type;return typeof x=="function"&&!ly(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=x,Lb(s,i,x,f,m)):(s=Dp(c.type,null,f,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(x=s.child,(s.lanes&m)===0){var T=x.memoizedProps;if(c=c.compare,c=c!==null?c:Wu,c(T,f)&&s.ref===i.ref)return Ui(s,i,m)}return i.flags|=1,s=Qr(x,f),s.ref=i.ref,s.return=i,i.child=s}function Lb(s,i,c,f,m){if(s!==null){var x=s.memoizedProps;if(Wu(x,f)&&s.ref===i.ref)if(In=!1,i.pendingProps=f=x,(s.lanes&m)!==0)(s.flags&131072)!==0&&(In=!0);else return i.lanes=s.lanes,Ui(s,i,m)}return Hv(s,i,c,f,m)}function Mb(s,i,c){var f=i.pendingProps,m=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Kl,Xn),Xn|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,st(Kl,Xn),Xn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:c,st(Kl,Xn),Xn|=f}else x!==null?(f=x.baseLanes|c,i.memoizedState=null):f=c,st(Kl,Xn),Xn|=f;return wn(s,i,m,c),i.child}function Ib(s,i){var c=i.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Hv(s,i,c,f,m){var x=Mn(c)?Qo:ln.current;return x=zl(i,x),Wl(i,m),c=Rv(s,i,c,f,x,m),f=Lv(),s!==null&&!In?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,Ui(s,i,m)):(ct&&f&&pv(i),i.flags|=1,wn(s,i,c,m),i.child)}function Db(s,i,c,f,m){if(Mn(c)){var x=!0;op(i)}else x=!1;if(Wl(i,m),i.stateNode===null)Ep(s,i),Sb(i,c,f),Ov(i,c,f,m),f=!0;else if(s===null){var T=i.stateNode,M=i.memoizedProps;T.props=M;var j=T.context,U=c.contextType;typeof U=="object"&&U!==null?U=vs(U):(U=Mn(c)?Qo:ln.current,U=zl(i,U));var K=c.getDerivedStateFromProps,Z=typeof K=="function"||typeof T.getSnapshotBeforeUpdate=="function";Z||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==f||j!==U)&&Eb(i,T,f,U),Vr=!1;var X=i.memoizedState;T.state=X,gp(i,f,T,m),j=i.memoizedState,M!==f||X!==j||Ln.current||Vr?(typeof K=="function"&&(Fv(i,c,K,f),j=i.memoizedState),(M=Vr||Ab(i,c,M,f,X,j,U))?(Z||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=j),T.props=f,T.state=j,T.context=U,f=M):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{T=i.stateNode,Qx(s,i),M=i.memoizedProps,U=i.type===i.elementType?M:zs(i.type,M),T.props=U,Z=i.pendingProps,X=T.context,j=c.contextType,typeof j=="object"&&j!==null?j=vs(j):(j=Mn(c)?Qo:ln.current,j=zl(i,j));var le=c.getDerivedStateFromProps;(K=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==Z||X!==j)&&Eb(i,T,f,j),Vr=!1,X=i.memoizedState,T.state=X,gp(i,f,T,m);var pe=i.memoizedState;M!==Z||X!==pe||Ln.current||Vr?(typeof le=="function"&&(Fv(i,c,le,f),pe=i.memoizedState),(U=Vr||Ab(i,c,U,f,X,pe,j)||!1)?(K||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,pe,j),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,pe,j)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||M===s.memoizedProps&&X===s.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&X===s.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=pe),T.props=f,T.state=pe,T.context=j,f=U):(typeof T.componentDidUpdate!="function"||M===s.memoizedProps&&X===s.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&X===s.memoizedState||(i.flags|=1024),f=!1)}return $v(s,i,c,f,x,m)}function $v(s,i,c,f,m,x){Ib(s,i);var T=(i.flags&128)!==0;if(!f&&!T)return m&&Bx(i,c,!1),Ui(s,i,x);f=i.stateNode,bk.current=i;var M=T&&typeof c.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,s!==null&&T?(i.child=Ul(i,s.child,null,x),i.child=Ul(i,null,M,x)):wn(s,i,M,x),i.memoizedState=f.state,m&&Bx(i,c,!0),i.child}function jb(s){var i=s.stateNode;i.pendingContext?Ox(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Ox(s,i.context,!1),_v(s,i.containerInfo)}function Fb(s,i,c,f,m){return $l(),yv(m),i.flags|=256,wn(s,i,c,f),i.child}var Uv={dehydrated:null,treeContext:null,retryLane:0};function Vv(s){return{baseLanes:s,cachePool:null,transitions:null}}function Ob(s,i,c){var f=i.pendingProps,m=gt.current,x=!1,T=(i.flags&128)!==0,M;if((M=T)||(M=s!==null&&s.memoizedState===null?!1:(m&2)!==0),M?(x=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),st(gt,m&1),s===null)return vv(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(T=f.children,s=f.fallback,x?(f=i.mode,x=i.child,T={mode:"hidden",children:T},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=T):x=jp(T,f,0,null),s=aa(s,f,c,null),x.return=i,s.return=i,x.sibling=s,i.child=x,i.child.memoizedState=Vv(c),i.memoizedState=Uv,s):Wv(i,T));if(m=s.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return Ak(s,i,T,f,M,m,c);if(x){x=f.fallback,T=i.mode,m=s.child,M=m.sibling;var j={mode:"hidden",children:f.children};return(T&1)===0&&i.child!==m?(f=i.child,f.childLanes=0,f.pendingProps=j,i.deletions=null):(f=Qr(m,j),f.subtreeFlags=m.subtreeFlags&14680064),M!==null?x=Qr(M,x):(x=aa(x,T,c,null),x.flags|=2),x.return=i,f.return=i,f.sibling=x,i.child=f,f=x,x=i.child,T=s.child.memoizedState,T=T===null?Vv(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},x.memoizedState=T,x.childLanes=s.childLanes&~c,i.memoizedState=Uv,f}return x=s.child,s=x.sibling,f=Qr(x,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=c),f.return=i,f.sibling=null,s!==null&&(c=i.deletions,c===null?(i.deletions=[s],i.flags|=16):c.push(s)),i.child=f,i.memoizedState=null,f}function Wv(s,i){return i=jp({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Sp(s,i,c,f){return f!==null&&yv(f),Ul(i,s.child,null,c),s=Wv(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Ak(s,i,c,f,m,x,T){if(c)return i.flags&256?(i.flags&=-257,f=zv(Error(t(422))),Sp(s,i,T,f)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(x=f.fallback,m=i.mode,f=jp({mode:"visible",children:f.children},m,0,null),x=aa(x,m,T,null),x.flags|=2,f.return=i,x.return=i,f.sibling=x,i.child=f,(i.mode&1)!==0&&Ul(i,s.child,null,T),i.child.memoizedState=Vv(T),i.memoizedState=Uv,x);if((i.mode&1)===0)return Sp(s,i,T,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var M=f.dgst;return f=M,x=Error(t(419)),f=zv(x,f,void 0),Sp(s,i,T,f)}if(M=(T&s.childLanes)!==0,In||M){if(f=$t,f!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|T))!==0?0:m,m!==0&&m!==x.retryLane&&(x.retryLane=m,Hi(s,m),$s(f,s,m,-1))}return ay(),f=zv(Error(t(421))),Sp(s,i,T,f)}return m.data==="$?"?(i.flags|=128,i.child=s.child,i=Dk.bind(null,s),m._reactRetry=i,null):(s=x.treeContext,Gn=Br(m.nextSibling),Wn=i,ct=!0,Os=null,s!==null&&(gs[ms++]=zi,gs[ms++]=Bi,gs[ms++]=Jo,zi=s.id,Bi=s.overflow,Jo=i),i=Wv(i,f.children),i.flags|=4096,i)}function zb(s,i,c){s.lanes|=i;var f=s.alternate;f!==null&&(f.lanes|=i),Av(s.return,i,c)}function Gv(s,i,c,f,m){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=m)}function Bb(s,i,c){var f=i.pendingProps,m=f.revealOrder,x=f.tail;if(wn(s,i,f.children,c),f=gt.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&zb(s,c,i);else if(s.tag===19)zb(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(st(gt,f),(i.mode&1)===0)i.memoizedState=null;else switch(m){case"forwards":for(c=i.child,m=null;c!==null;)s=c.alternate,s!==null&&mp(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=i.child,i.child=null):(m=c.sibling,c.sibling=null),Gv(i,!1,m,c,x);break;case"backwards":for(c=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&mp(s)===null){i.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Gv(i,!0,c,null,x);break;case"together":Gv(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ep(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Ui(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),sa|=i.lanes,(c&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,c=Qr(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=Qr(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function Sk(s,i,c){switch(i.tag){case 3:jb(i),$l();break;case 5:eb(i);break;case 1:Mn(i.type)&&op(i);break;case 4:_v(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,m=i.memoizedProps.value;st(hp,f._currentValue),f._currentValue=m;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(st(gt,gt.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?Ob(s,i,c):(st(gt,gt.current&1),s=Ui(s,i,c),s!==null?s.sibling:null);st(gt,gt.current&1);break;case 19:if(f=(c&i.childLanes)!==0,(s.flags&128)!==0){if(f)return Bb(s,i,c);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),st(gt,gt.current),f)break;return null;case 22:case 23:return i.lanes=0,Mb(s,i,c)}return Ui(s,i,c)}var Hb,Xv,$b,Ub;Hb=function(s,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Xv=function(){},$b=function(s,i,c,f){var m=s.memoizedProps;if(m!==f){s=i.stateNode,ta(ci.current);var x=null;switch(c){case"input":m=Qe(s,m),f=Qe(s,f),x=[];break;case"select":m=se({},m,{value:void 0}),f=se({},f,{value:void 0}),x=[];break;case"textarea":m=Tu(s,m),f=Tu(s,f),x=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=sp)}km(c,f);var T;c=null;for(U in m)if(!f.hasOwnProperty(U)&&m.hasOwnProperty(U)&&m[U]!=null)if(U==="style"){var M=m[U];for(T in M)M.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(r.hasOwnProperty(U)?x||(x=[]):(x=x||[]).push(U,null));for(U in f){var j=f[U];if(M=m!=null?m[U]:void 0,f.hasOwnProperty(U)&&j!==M&&(j!=null||M!=null))if(U==="style")if(M){for(T in M)!M.hasOwnProperty(T)||j&&j.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in j)j.hasOwnProperty(T)&&M[T]!==j[T]&&(c||(c={}),c[T]=j[T])}else c||(x||(x=[]),x.push(U,c)),c=j;else U==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(x=x||[]).push(U,j)):U==="children"?typeof j!="string"&&typeof j!="number"||(x=x||[]).push(U,""+j):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(r.hasOwnProperty(U)?(j!=null&&U==="onScroll"&&ot("scroll",s),x||M===j||(x=[])):(x=x||[]).push(U,j))}c&&(x=x||[]).push("style",c);var U=x;(i.updateQueue=U)&&(i.flags|=4)}},Ub=function(s,i,c,f){c!==f&&(i.flags|=4)};function od(s,i){if(!ct)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function un(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(i)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=c,i}function Ek(s,i,c){var f=i.pendingProps;switch(gv(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(i),null;case 1:return Mn(i.type)&&rp(),un(i),null;case 3:return f=i.stateNode,Gl(),at(Ln),at(ln),Tv(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(up(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Os!==null&&(iy(Os),Os=null))),Xv(s,i),un(i),null;case 5:Cv(i);var m=ta(td.current);if(c=i.type,s!==null&&i.stateNode!=null)$b(s,i,c,f,m),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(t(166));return un(i),null}if(s=ta(ci.current),up(i)){f=i.stateNode,c=i.type;var x=i.memoizedProps;switch(f[li]=i,f[Yu]=x,s=(i.mode&1)!==0,c){case"dialog":ot("cancel",f),ot("close",f);break;case"iframe":case"object":case"embed":ot("load",f);break;case"video":case"audio":for(m=0;m<Xu.length;m++)ot(Xu[m],f);break;case"source":ot("error",f);break;case"img":case"image":case"link":ot("error",f),ot("load",f);break;case"details":ot("toggle",f);break;case"input":wt(f,x),ot("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},ot("invalid",f);break;case"textarea":Lf(f,x),ot("invalid",f)}km(c,x),m=null;for(var T in x)if(x.hasOwnProperty(T)){var M=x[T];T==="children"?typeof M=="string"?f.textContent!==M&&(x.suppressHydrationWarning!==!0&&np(f.textContent,M,s),m=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(x.suppressHydrationWarning!==!0&&np(f.textContent,M,s),m=["children",""+M]):r.hasOwnProperty(T)&&M!=null&&T==="onScroll"&&ot("scroll",f)}switch(c){case"input":Rn(f),Mr(f,x,!0);break;case"textarea":Rn(f),If(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=sp)}f=m,i.updateQueue=f,f!==null&&(i.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Df(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=T.createElement(c,{is:f.is}):(s=T.createElement(c),c==="select"&&(T=s,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):s=T.createElementNS(s,c),s[li]=i,s[Yu]=f,Hb(s,i,!1,!1),i.stateNode=s;e:{switch(T=Tm(c,f),c){case"dialog":ot("cancel",s),ot("close",s),m=f;break;case"iframe":case"object":case"embed":ot("load",s),m=f;break;case"video":case"audio":for(m=0;m<Xu.length;m++)ot(Xu[m],s);m=f;break;case"source":ot("error",s),m=f;break;case"img":case"image":case"link":ot("error",s),ot("load",s),m=f;break;case"details":ot("toggle",s),m=f;break;case"input":wt(s,f),m=Qe(s,f),ot("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=se({},f,{value:void 0}),ot("invalid",s);break;case"textarea":Lf(s,f),m=Tu(s,f),ot("invalid",s);break;default:m=f}km(c,m),M=m;for(x in M)if(M.hasOwnProperty(x)){var j=M[x];x==="style"?Lw(s,j):x==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Ds(s,j)):x==="children"?typeof j=="string"?(c!=="textarea"||j!=="")&&ji(s,j):typeof j=="number"&&ji(s,""+j):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(r.hasOwnProperty(x)?j!=null&&x==="onScroll"&&ot("scroll",s):j!=null&&P(s,x,j,T))}switch(c){case"input":Rn(s),Mr(s,f,!1);break;case"textarea":Rn(s),If(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Me(f.value));break;case"select":s.multiple=!!f.multiple,x=f.value,x!=null?Ms(s,!!f.multiple,x,!1):f.defaultValue!=null&&Ms(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=sp)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return un(i),null;case 6:if(s&&i.stateNode!=null)Ub(s,i,s.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(t(166));if(c=ta(td.current),ta(ci.current),up(i)){if(f=i.stateNode,c=i.memoizedProps,f[li]=i,(x=f.nodeValue!==c)&&(s=Wn,s!==null))switch(s.tag){case 3:np(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&np(f.nodeValue,c,(s.mode&1)!==0)}x&&(i.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[li]=i,i.stateNode=f}return un(i),null;case 13:if(at(gt),f=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ct&&Gn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Gx(),$l(),i.flags|=98560,x=!1;else if(x=up(i),f!==null&&f.dehydrated!==null){if(s===null){if(!x)throw Error(t(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[li]=i}else $l(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;un(i),x=!1}else Os!==null&&(iy(Os),Os=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(gt.current&1)!==0?jt===0&&(jt=3):ay())),i.updateQueue!==null&&(i.flags|=4),un(i),null);case 4:return Gl(),Xv(s,i),s===null&&qu(i.stateNode.containerInfo),un(i),null;case 10:return bv(i.type._context),un(i),null;case 17:return Mn(i.type)&&rp(),un(i),null;case 19:if(at(gt),x=i.memoizedState,x===null)return un(i),null;if(f=(i.flags&128)!==0,T=x.rendering,T===null)if(f)od(x,!1);else{if(jt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(T=mp(s),T!==null){for(i.flags|=128,od(x,!1),f=T.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=c,c=i.child;c!==null;)x=c,s=f,x.flags&=14680066,T=x.alternate,T===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=T.childLanes,x.lanes=T.lanes,x.child=T.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=T.memoizedProps,x.memoizedState=T.memoizedState,x.updateQueue=T.updateQueue,x.type=T.type,s=T.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return st(gt,gt.current&1|2),i.child}s=s.sibling}x.tail!==null&&Et()>Yl&&(i.flags|=128,f=!0,od(x,!1),i.lanes=4194304)}else{if(!f)if(s=mp(T),s!==null){if(i.flags|=128,f=!0,c=s.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),od(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!ct)return un(i),null}else 2*Et()-x.renderingStartTime>Yl&&c!==1073741824&&(i.flags|=128,f=!0,od(x,!1),i.lanes=4194304);x.isBackwards?(T.sibling=i.child,i.child=T):(c=x.last,c!==null?c.sibling=T:i.child=T,x.last=T)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=Et(),i.sibling=null,c=gt.current,st(gt,f?c&1|2:c&1),i):(un(i),null);case 22:case 23:return oy(),f=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(Xn&1073741824)!==0&&(un(i),i.subtreeFlags&6&&(i.flags|=8192)):un(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function _k(s,i){switch(gv(i),i.tag){case 1:return Mn(i.type)&&rp(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Gl(),at(Ln),at(ln),Tv(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Cv(i),null;case 13:if(at(gt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));$l()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return at(gt),null;case 4:return Gl(),null;case 10:return bv(i.type._context),null;case 22:case 23:return oy(),null;case 24:return null;default:return null}}var _p=!1,dn=!1,Ck=typeof WeakSet=="function"?WeakSet:Set,he=null;function ql(s,i){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){xt(s,i,f)}else c.current=null}function qv(s,i,c){try{c()}catch(f){xt(s,i,f)}}var Vb=!1;function kk(s,i){if(ov=Wf,s=Ax(),Jm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var T=0,M=-1,j=-1,U=0,K=0,Z=s,X=null;t:for(;;){for(var le;Z!==c||m!==0&&Z.nodeType!==3||(M=T+m),Z!==x||f!==0&&Z.nodeType!==3||(j=T+f),Z.nodeType===3&&(T+=Z.nodeValue.length),(le=Z.firstChild)!==null;)X=Z,Z=le;for(;;){if(Z===s)break t;if(X===c&&++U===m&&(M=T),X===x&&++K===f&&(j=T),(le=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=le}c=M===-1||j===-1?null:{start:M,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(av={focusedElem:s,selectionRange:c},Wf=!1,he=i;he!==null;)if(i=he,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,he=s;else for(;he!==null;){i=he;try{var pe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ge=pe.memoizedProps,_t=pe.memoizedState,H=i.stateNode,z=H.getSnapshotBeforeUpdate(i.elementType===i.type?ge:zs(i.type,ge),_t);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var $=i.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){xt(i,i.return,ne)}if(s=i.sibling,s!==null){s.return=i.return,he=s;break}he=i.return}return pe=Vb,Vb=!1,pe}function ad(s,i,c){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var x=m.destroy;m.destroy=void 0,x!==void 0&&qv(i,c,x)}m=m.next}while(m!==f)}}function Cp(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==i)}}function Kv(s){var i=s.ref;if(i!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof i=="function"?i(s):i.current=s}}function Wb(s){var i=s.alternate;i!==null&&(s.alternate=null,Wb(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[li],delete i[Yu],delete i[dv],delete i[ck],delete i[uk])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Gb(s){return s.tag===5||s.tag===3||s.tag===4}function Xb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Gb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yv(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(s,i):c.insertBefore(s,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(s,c)):(i=c,i.appendChild(s)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=sp));else if(f!==4&&(s=s.child,s!==null))for(Yv(s,i,c),s=s.sibling;s!==null;)Yv(s,i,c),s=s.sibling}function Qv(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Qv(s,i,c),s=s.sibling;s!==null;)Qv(s,i,c),s=s.sibling}var Jt=null,Bs=!1;function Gr(s,i,c){for(c=c.child;c!==null;)qb(s,i,c),c=c.sibling}function qb(s,i,c){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(zf,c)}catch{}switch(c.tag){case 5:dn||ql(c,i);case 6:var f=Jt,m=Bs;Jt=null,Gr(s,i,c),Jt=f,Bs=m,Jt!==null&&(Bs?(s=Jt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Jt.removeChild(c.stateNode));break;case 18:Jt!==null&&(Bs?(s=Jt,c=c.stateNode,s.nodeType===8?uv(s.parentNode,c):s.nodeType===1&&uv(s,c),zu(s)):uv(Jt,c.stateNode));break;case 4:f=Jt,m=Bs,Jt=c.stateNode.containerInfo,Bs=!0,Gr(s,i,c),Jt=f,Bs=m;break;case 0:case 11:case 14:case 15:if(!dn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var x=m,T=x.destroy;x=x.tag,T!==void 0&&((x&2)!==0||(x&4)!==0)&&qv(c,i,T),m=m.next}while(m!==f)}Gr(s,i,c);break;case 1:if(!dn&&(ql(c,i),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(M){xt(c,i,M)}Gr(s,i,c);break;case 21:Gr(s,i,c);break;case 22:c.mode&1?(dn=(f=dn)||c.memoizedState!==null,Gr(s,i,c),dn=f):Gr(s,i,c);break;default:Gr(s,i,c)}}function Kb(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new Ck),i.forEach(function(f){var m=jk.bind(null,s,f);c.has(f)||(c.add(f),f.then(m,m))})}}function Hs(s,i){var c=i.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];try{var x=s,T=i,M=T;e:for(;M!==null;){switch(M.tag){case 5:Jt=M.stateNode,Bs=!1;break e;case 3:Jt=M.stateNode.containerInfo,Bs=!0;break e;case 4:Jt=M.stateNode.containerInfo,Bs=!0;break e}M=M.return}if(Jt===null)throw Error(t(160));qb(x,T,m),Jt=null,Bs=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(U){xt(m,i,U)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Yb(i,s),i=i.sibling}function Yb(s,i){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Hs(i,s),di(s),f&4){try{ad(3,s,s.return),Cp(3,s)}catch(ge){xt(s,s.return,ge)}try{ad(5,s,s.return)}catch(ge){xt(s,s.return,ge)}}break;case 1:Hs(i,s),di(s),f&512&&c!==null&&ql(c,c.return);break;case 5:if(Hs(i,s),di(s),f&512&&c!==null&&ql(c,c.return),s.flags&32){var m=s.stateNode;try{ji(m,"")}catch(ge){xt(s,s.return,ge)}}if(f&4&&(m=s.stateNode,m!=null)){var x=s.memoizedProps,T=c!==null?c.memoizedProps:x,M=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{M==="input"&&x.type==="radio"&&x.name!=null&&St(m,x),Tm(M,T);var U=Tm(M,x);for(T=0;T<j.length;T+=2){var K=j[T],Z=j[T+1];K==="style"?Lw(m,Z):K==="dangerouslySetInnerHTML"?Ds(m,Z):K==="children"?ji(m,Z):P(m,K,Z,U)}switch(M){case"input":oi(m,x);break;case"textarea":Mf(m,x);break;case"select":var X=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!x.multiple;var le=x.value;le!=null?Ms(m,!!x.multiple,le,!1):X!==!!x.multiple&&(x.defaultValue!=null?Ms(m,!!x.multiple,x.defaultValue,!0):Ms(m,!!x.multiple,x.multiple?[]:"",!1))}m[Yu]=x}catch(ge){xt(s,s.return,ge)}}break;case 6:if(Hs(i,s),di(s),f&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,x=s.memoizedProps;try{m.nodeValue=x}catch(ge){xt(s,s.return,ge)}}break;case 3:if(Hs(i,s),di(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{zu(i.containerInfo)}catch(ge){xt(s,s.return,ge)}break;case 4:Hs(i,s),di(s);break;case 13:Hs(i,s),di(s),m=s.child,m.flags&8192&&(x=m.memoizedState!==null,m.stateNode.isHidden=x,!x||m.alternate!==null&&m.alternate.memoizedState!==null||(ey=Et())),f&4&&Kb(s);break;case 22:if(K=c!==null&&c.memoizedState!==null,s.mode&1?(dn=(U=dn)||K,Hs(i,s),dn=U):Hs(i,s),di(s),f&8192){if(U=s.memoizedState!==null,(s.stateNode.isHidden=U)&&!K&&(s.mode&1)!==0)for(he=s,K=s.child;K!==null;){for(Z=he=K;he!==null;){switch(X=he,le=X.child,X.tag){case 0:case 11:case 14:case 15:ad(4,X,X.return);break;case 1:ql(X,X.return);var pe=X.stateNode;if(typeof pe.componentWillUnmount=="function"){f=X,c=X.return;try{i=f,pe.props=i.memoizedProps,pe.state=i.memoizedState,pe.componentWillUnmount()}catch(ge){xt(f,c,ge)}}break;case 5:ql(X,X.return);break;case 22:if(X.memoizedState!==null){Zb(Z);continue}}le!==null?(le.return=X,he=le):Zb(Z)}K=K.sibling}e:for(K=null,Z=s;;){if(Z.tag===5){if(K===null){K=Z;try{m=Z.stateNode,U?(x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(M=Z.stateNode,j=Z.memoizedProps.style,T=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=Rw("display",T))}catch(ge){xt(s,s.return,ge)}}}else if(Z.tag===6){if(K===null)try{Z.stateNode.nodeValue=U?"":Z.memoizedProps}catch(ge){xt(s,s.return,ge)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===s)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===s)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===s)break e;K===Z&&(K=null),Z=Z.return}K===Z&&(K=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Hs(i,s),di(s),f&4&&Kb(s);break;case 21:break;default:Hs(i,s),di(s)}}function di(s){var i=s.flags;if(i&2){try{e:{for(var c=s.return;c!==null;){if(Gb(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(ji(m,""),f.flags&=-33);var x=Xb(s);Qv(s,x,m);break;case 3:case 4:var T=f.stateNode.containerInfo,M=Xb(s);Yv(s,M,T);break;default:throw Error(t(161))}}catch(j){xt(s,s.return,j)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Tk(s,i,c){he=s,Qb(s)}function Qb(s,i,c){for(var f=(s.mode&1)!==0;he!==null;){var m=he,x=m.child;if(m.tag===22&&f){var T=m.memoizedState!==null||_p;if(!T){var M=m.alternate,j=M!==null&&M.memoizedState!==null||dn;M=_p;var U=dn;if(_p=T,(dn=j)&&!U)for(he=m;he!==null;)T=he,j=T.child,T.tag===22&&T.memoizedState!==null?e1(m):j!==null?(j.return=T,he=j):e1(m);for(;x!==null;)he=x,Qb(x),x=x.sibling;he=m,_p=M,dn=U}Jb(s)}else(m.subtreeFlags&8772)!==0&&x!==null?(x.return=m,he=x):Jb(s)}}function Jb(s){for(;he!==null;){var i=he;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:dn||Cp(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!dn)if(c===null)f.componentDidMount();else{var m=i.elementType===i.type?c.memoizedProps:zs(i.type,c.memoizedProps);f.componentDidUpdate(m,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&Zx(i,x,f);break;case 3:var T=i.updateQueue;if(T!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Zx(i,T,c)}break;case 5:var M=i.stateNode;if(c===null&&i.flags&4){c=M;var j=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&c.focus();break;case"img":j.src&&(c.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var U=i.alternate;if(U!==null){var K=U.memoizedState;if(K!==null){var Z=K.dehydrated;Z!==null&&zu(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}dn||i.flags&512&&Kv(i)}catch(X){xt(i,i.return,X)}}if(i===s){he=null;break}if(c=i.sibling,c!==null){c.return=i.return,he=c;break}he=i.return}}function Zb(s){for(;he!==null;){var i=he;if(i===s){he=null;break}var c=i.sibling;if(c!==null){c.return=i.return,he=c;break}he=i.return}}function e1(s){for(;he!==null;){var i=he;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{Cp(4,i)}catch(j){xt(i,c,j)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var m=i.return;try{f.componentDidMount()}catch(j){xt(i,m,j)}}var x=i.return;try{Kv(i)}catch(j){xt(i,x,j)}break;case 5:var T=i.return;try{Kv(i)}catch(j){xt(i,T,j)}}}catch(j){xt(i,i.return,j)}if(i===s){he=null;break}var M=i.sibling;if(M!==null){M.return=i.return,he=M;break}he=i.return}}var Nk=Math.ceil,kp=L.ReactCurrentDispatcher,Jv=L.ReactCurrentOwner,ws=L.ReactCurrentBatchConfig,$e=0,$t=null,Rt=null,Zt=0,Xn=0,Kl=Hr(0),jt=0,ld=null,sa=0,Tp=0,Zv=0,cd=null,Dn=null,ey=0,Yl=1/0,Vi=null,Np=!1,ty=null,Xr=null,Pp=!1,qr=null,Rp=0,ud=0,ny=null,Lp=-1,Mp=0;function xn(){return($e&6)!==0?Et():Lp!==-1?Lp:Lp=Et()}function Kr(s){return(s.mode&1)===0?1:($e&2)!==0&&Zt!==0?Zt&-Zt:hk.transition!==null?(Mp===0&&(Mp=Xw()),Mp):(s=Ke,s!==0||(s=window.event,s=s===void 0?16:nx(s.type)),s)}function $s(s,i,c,f){if(50<ud)throw ud=0,ny=null,Error(t(185));Iu(s,c,f),(($e&2)===0||s!==$t)&&(s===$t&&(($e&2)===0&&(Tp|=c),jt===4&&Yr(s,Zt)),jn(s,f),c===1&&$e===0&&(i.mode&1)===0&&(Yl=Et()+500,ap&&Ur()))}function jn(s,i){var c=s.callbackNode;hC(s,i);var f=$f(s,s===$t?Zt:0);if(f===0)c!==null&&Vw(c),s.callbackNode=null,s.callbackPriority=0;else if(i=f&-f,s.callbackPriority!==i){if(c!=null&&Vw(c),i===1)s.tag===0?dk(n1.bind(null,s)):Hx(n1.bind(null,s)),ak(function(){($e&6)===0&&Ur()}),c=null;else{switch(qw(f)){case 1:c=Dm;break;case 4:c=Ww;break;case 16:c=Of;break;case 536870912:c=Gw;break;default:c=Of}c=u1(c,t1.bind(null,s))}s.callbackPriority=i,s.callbackNode=c}}function t1(s,i){if(Lp=-1,Mp=0,($e&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Ql()&&s.callbackNode!==c)return null;var f=$f(s,s===$t?Zt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||i)i=Ip(s,f);else{i=f;var m=$e;$e|=2;var x=i1();($t!==s||Zt!==i)&&(Vi=null,Yl=Et()+500,ra(s,i));do try{Lk();break}catch(M){s1(s,M)}while(!0);xv(),kp.current=x,$e=m,Rt!==null?i=0:($t=null,Zt=0,i=jt)}if(i!==0){if(i===2&&(m=jm(s),m!==0&&(f=m,i=sy(s,m))),i===1)throw c=ld,ra(s,0),Yr(s,f),jn(s,Et()),c;if(i===6)Yr(s,f);else{if(m=s.current.alternate,(f&30)===0&&!Pk(m)&&(i=Ip(s,f),i===2&&(x=jm(s),x!==0&&(f=x,i=sy(s,x))),i===1))throw c=ld,ra(s,0),Yr(s,f),jn(s,Et()),c;switch(s.finishedWork=m,s.finishedLanes=f,i){case 0:case 1:throw Error(t(345));case 2:oa(s,Dn,Vi);break;case 3:if(Yr(s,f),(f&130023424)===f&&(i=ey+500-Et(),10<i)){if($f(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){xn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=cv(oa.bind(null,s,Dn,Vi),i);break}oa(s,Dn,Vi);break;case 4:if(Yr(s,f),(f&4194240)===f)break;for(i=s.eventTimes,m=-1;0<f;){var T=31-js(f);x=1<<T,T=i[T],T>m&&(m=T),f&=~x}if(f=m,f=Et()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Nk(f/1960))-f,10<f){s.timeoutHandle=cv(oa.bind(null,s,Dn,Vi),f);break}oa(s,Dn,Vi);break;case 5:oa(s,Dn,Vi);break;default:throw Error(t(329))}}}return jn(s,Et()),s.callbackNode===c?t1.bind(null,s):null}function sy(s,i){var c=cd;return s.current.memoizedState.isDehydrated&&(ra(s,i).flags|=256),s=Ip(s,i),s!==2&&(i=Dn,Dn=c,i!==null&&iy(i)),s}function iy(s){Dn===null?Dn=s:Dn.push.apply(Dn,s)}function Pk(s){for(var i=s;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var m=c[f],x=m.getSnapshot;m=m.value;try{if(!Fs(x(),m))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yr(s,i){for(i&=~Zv,i&=~Tp,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var c=31-js(i),f=1<<c;s[c]=-1,i&=~f}}function n1(s){if(($e&6)!==0)throw Error(t(327));Ql();var i=$f(s,0);if((i&1)===0)return jn(s,Et()),null;var c=Ip(s,i);if(s.tag!==0&&c===2){var f=jm(s);f!==0&&(i=f,c=sy(s,f))}if(c===1)throw c=ld,ra(s,0),Yr(s,i),jn(s,Et()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,oa(s,Dn,Vi),jn(s,Et()),null}function ry(s,i){var c=$e;$e|=1;try{return s(i)}finally{$e=c,$e===0&&(Yl=Et()+500,ap&&Ur())}}function ia(s){qr!==null&&qr.tag===0&&($e&6)===0&&Ql();var i=$e;$e|=1;var c=ws.transition,f=Ke;try{if(ws.transition=null,Ke=1,s)return s()}finally{Ke=f,ws.transition=c,$e=i,($e&6)===0&&Ur()}}function oy(){Xn=Kl.current,at(Kl)}function ra(s,i){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,ok(c)),Rt!==null)for(c=Rt.return;c!==null;){var f=c;switch(gv(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&rp();break;case 3:Gl(),at(Ln),at(ln),Tv();break;case 5:Cv(f);break;case 4:Gl();break;case 13:at(gt);break;case 19:at(gt);break;case 10:bv(f.type._context);break;case 22:case 23:oy()}c=c.return}if($t=s,Rt=s=Qr(s.current,null),Zt=Xn=i,jt=0,ld=null,Zv=Tp=sa=0,Dn=cd=null,ea!==null){for(i=0;i<ea.length;i++)if(c=ea[i],f=c.interleaved,f!==null){c.interleaved=null;var m=f.next,x=c.pending;if(x!==null){var T=x.next;x.next=m,f.next=T}c.pending=f}ea=null}return s}function s1(s,i){do{var c=Rt;try{if(xv(),vp.current=bp,yp){for(var f=mt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}yp=!1}if(na=0,Ht=Dt=mt=null,nd=!1,sd=0,Jv.current=null,c===null||c.return===null){jt=1,ld=i,Rt=null;break}e:{var x=s,T=c.return,M=c,j=i;if(i=Zt,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var U=j,K=M,Z=K.tag;if((K.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=K.alternate;X?(K.updateQueue=X.updateQueue,K.memoizedState=X.memoizedState,K.lanes=X.lanes):(K.updateQueue=null,K.memoizedState=null)}var le=Tb(T);if(le!==null){le.flags&=-257,Nb(le,T,M,x,i),le.mode&1&&kb(x,U,i),i=le,j=U;var pe=i.updateQueue;if(pe===null){var ge=new Set;ge.add(j),i.updateQueue=ge}else pe.add(j);break e}else{if((i&1)===0){kb(x,U,i),ay();break e}j=Error(t(426))}}else if(ct&&M.mode&1){var _t=Tb(T);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),Nb(_t,T,M,x,i),yv(Xl(j,M));break e}}x=j=Xl(j,M),jt!==4&&(jt=2),cd===null?cd=[x]:cd.push(x),x=T;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var H=_b(x,j,i);Jx(x,H);break e;case 1:M=j;var z=x.type,$=x.stateNode;if((x.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Xr===null||!Xr.has($)))){x.flags|=65536,i&=-i,x.lanes|=i;var ne=Cb(x,M,i);Jx(x,ne);break e}}x=x.return}while(x!==null)}o1(c)}catch(me){i=me,Rt===c&&c!==null&&(Rt=c=c.return);continue}break}while(!0)}function i1(){var s=kp.current;return kp.current=bp,s===null?bp:s}function ay(){(jt===0||jt===3||jt===2)&&(jt=4),$t===null||(sa&268435455)===0&&(Tp&268435455)===0||Yr($t,Zt)}function Ip(s,i){var c=$e;$e|=2;var f=i1();($t!==s||Zt!==i)&&(Vi=null,ra(s,i));do try{Rk();break}catch(m){s1(s,m)}while(!0);if(xv(),$e=c,kp.current=f,Rt!==null)throw Error(t(261));return $t=null,Zt=0,jt}function Rk(){for(;Rt!==null;)r1(Rt)}function Lk(){for(;Rt!==null&&!sC();)r1(Rt)}function r1(s){var i=c1(s.alternate,s,Xn);s.memoizedProps=s.pendingProps,i===null?o1(s):Rt=i,Jv.current=null}function o1(s){var i=s;do{var c=i.alternate;if(s=i.return,(i.flags&32768)===0){if(c=Ek(c,i,Xn),c!==null){Rt=c;return}}else{if(c=_k(c,i),c!==null){c.flags&=32767,Rt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{jt=6,Rt=null;return}}if(i=i.sibling,i!==null){Rt=i;return}Rt=i=s}while(i!==null);jt===0&&(jt=5)}function oa(s,i,c){var f=Ke,m=ws.transition;try{ws.transition=null,Ke=1,Mk(s,i,c,f)}finally{ws.transition=m,Ke=f}return null}function Mk(s,i,c,f){do Ql();while(qr!==null);if(($e&6)!==0)throw Error(t(327));c=s.finishedWork;var m=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(fC(s,x),s===$t&&(Rt=$t=null,Zt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Pp||(Pp=!0,u1(Of,function(){return Ql(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=ws.transition,ws.transition=null;var T=Ke;Ke=1;var M=$e;$e|=4,Jv.current=null,kk(s,c),Yb(c,s),ZC(av),Wf=!!ov,av=ov=null,s.current=c,Tk(c),iC(),$e=M,Ke=T,ws.transition=x}else s.current=c;if(Pp&&(Pp=!1,qr=s,Rp=m),x=s.pendingLanes,x===0&&(Xr=null),aC(c.stateNode),jn(s,Et()),i!==null)for(f=s.onRecoverableError,c=0;c<i.length;c++)m=i[c],f(m.value,{componentStack:m.stack,digest:m.digest});if(Np)throw Np=!1,s=ty,ty=null,s;return(Rp&1)!==0&&s.tag!==0&&Ql(),x=s.pendingLanes,(x&1)!==0?s===ny?ud++:(ud=0,ny=s):ud=0,Ur(),null}function Ql(){if(qr!==null){var s=qw(Rp),i=ws.transition,c=Ke;try{if(ws.transition=null,Ke=16>s?16:s,qr===null)var f=!1;else{if(s=qr,qr=null,Rp=0,($e&6)!==0)throw Error(t(331));var m=$e;for($e|=4,he=s.current;he!==null;){var x=he,T=x.child;if((he.flags&16)!==0){var M=x.deletions;if(M!==null){for(var j=0;j<M.length;j++){var U=M[j];for(he=U;he!==null;){var K=he;switch(K.tag){case 0:case 11:case 15:ad(8,K,x)}var Z=K.child;if(Z!==null)Z.return=K,he=Z;else for(;he!==null;){K=he;var X=K.sibling,le=K.return;if(Wb(K),K===U){he=null;break}if(X!==null){X.return=le,he=X;break}he=le}}}var pe=x.alternate;if(pe!==null){var ge=pe.child;if(ge!==null){pe.child=null;do{var _t=ge.sibling;ge.sibling=null,ge=_t}while(ge!==null)}}he=x}}if((x.subtreeFlags&2064)!==0&&T!==null)T.return=x,he=T;else e:for(;he!==null;){if(x=he,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:ad(9,x,x.return)}var H=x.sibling;if(H!==null){H.return=x.return,he=H;break e}he=x.return}}var z=s.current;for(he=z;he!==null;){T=he;var $=T.child;if((T.subtreeFlags&2064)!==0&&$!==null)$.return=T,he=$;else e:for(T=z;he!==null;){if(M=he,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Cp(9,M)}}catch(me){xt(M,M.return,me)}if(M===T){he=null;break e}var ne=M.sibling;if(ne!==null){ne.return=M.return,he=ne;break e}he=M.return}}if($e=m,Ur(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(zf,s)}catch{}f=!0}return f}finally{Ke=c,ws.transition=i}}return!1}function a1(s,i,c){i=Xl(c,i),i=_b(s,i,1),s=Wr(s,i,1),i=xn(),s!==null&&(Iu(s,1,i),jn(s,i))}function xt(s,i,c){if(s.tag===3)a1(s,s,c);else for(;i!==null;){if(i.tag===3){a1(i,s,c);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xr===null||!Xr.has(f))){s=Xl(c,s),s=Cb(i,s,1),i=Wr(i,s,1),s=xn(),i!==null&&(Iu(i,1,s),jn(i,s));break}}i=i.return}}function Ik(s,i,c){var f=s.pingCache;f!==null&&f.delete(i),i=xn(),s.pingedLanes|=s.suspendedLanes&c,$t===s&&(Zt&c)===c&&(jt===4||jt===3&&(Zt&130023424)===Zt&&500>Et()-ey?ra(s,0):Zv|=c),jn(s,i)}function l1(s,i){i===0&&((s.mode&1)===0?i=1:(i=Hf,Hf<<=1,(Hf&130023424)===0&&(Hf=4194304)));var c=xn();s=Hi(s,i),s!==null&&(Iu(s,i,c),jn(s,c))}function Dk(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),l1(s,c)}function jk(s,i){var c=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(i),l1(s,c)}var c1;c1=function(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps||Ln.current)In=!0;else{if((s.lanes&c)===0&&(i.flags&128)===0)return In=!1,Sk(s,i,c);In=(s.flags&131072)!==0}else In=!1,ct&&(i.flags&1048576)!==0&&$x(i,cp,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;Ep(s,i),s=i.pendingProps;var m=zl(i,ln.current);Wl(i,c),m=Rv(null,i,f,s,m,c);var x=Lv();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Mn(f)?(x=!0,op(i)):x=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Ev(i),m.updater=Ap,i.stateNode=m,m._reactInternals=i,Ov(i,f,s,c),i=$v(null,i,f,!0,x,c)):(i.tag=0,ct&&x&&pv(i),wn(null,i,m,c),i=i.child),i;case 16:f=i.elementType;e:{switch(Ep(s,i),s=i.pendingProps,m=f._init,f=m(f._payload),i.type=f,m=i.tag=Ok(f),s=zs(f,s),m){case 0:i=Hv(null,i,f,s,c);break e;case 1:i=Db(null,i,f,s,c);break e;case 11:i=Pb(null,i,f,s,c);break e;case 14:i=Rb(null,i,f,zs(f.type,s),c);break e}throw Error(t(306,f,""))}return i;case 0:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:zs(f,m),Hv(s,i,f,m,c);case 1:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:zs(f,m),Db(s,i,f,m,c);case 3:e:{if(jb(i),s===null)throw Error(t(387));f=i.pendingProps,x=i.memoizedState,m=x.element,Qx(s,i),gp(i,f,null,c);var T=i.memoizedState;if(f=T.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){m=Xl(Error(t(423)),i),i=Fb(s,i,f,c,m);break e}else if(f!==m){m=Xl(Error(t(424)),i),i=Fb(s,i,f,c,m);break e}else for(Gn=Br(i.stateNode.containerInfo.firstChild),Wn=i,ct=!0,Os=null,c=Kx(i,null,f,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if($l(),f===m){i=Ui(s,i,c);break e}wn(s,i,f,c)}i=i.child}return i;case 5:return eb(i),s===null&&vv(i),f=i.type,m=i.pendingProps,x=s!==null?s.memoizedProps:null,T=m.children,lv(f,m)?T=null:x!==null&&lv(f,x)&&(i.flags|=32),Ib(s,i),wn(s,i,T,c),i.child;case 6:return s===null&&vv(i),null;case 13:return Ob(s,i,c);case 4:return _v(i,i.stateNode.containerInfo),f=i.pendingProps,s===null?i.child=Ul(i,null,f,c):wn(s,i,f,c),i.child;case 11:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:zs(f,m),Pb(s,i,f,m,c);case 7:return wn(s,i,i.pendingProps,c),i.child;case 8:return wn(s,i,i.pendingProps.children,c),i.child;case 12:return wn(s,i,i.pendingProps.children,c),i.child;case 10:e:{if(f=i.type._context,m=i.pendingProps,x=i.memoizedProps,T=m.value,st(hp,f._currentValue),f._currentValue=T,x!==null)if(Fs(x.value,T)){if(x.children===m.children&&!Ln.current){i=Ui(s,i,c);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var M=x.dependencies;if(M!==null){T=x.child;for(var j=M.firstContext;j!==null;){if(j.context===f){if(x.tag===1){j=$i(-1,c&-c),j.tag=2;var U=x.updateQueue;if(U!==null){U=U.shared;var K=U.pending;K===null?j.next=j:(j.next=K.next,K.next=j),U.pending=j}}x.lanes|=c,j=x.alternate,j!==null&&(j.lanes|=c),Av(x.return,c,i),M.lanes|=c;break}j=j.next}}else if(x.tag===10)T=x.type===i.type?null:x.child;else if(x.tag===18){if(T=x.return,T===null)throw Error(t(341));T.lanes|=c,M=T.alternate,M!==null&&(M.lanes|=c),Av(T,c,i),T=x.sibling}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===i){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}wn(s,i,m.children,c),i=i.child}return i;case 9:return m=i.type,f=i.pendingProps.children,Wl(i,c),m=vs(m),f=f(m),i.flags|=1,wn(s,i,f,c),i.child;case 14:return f=i.type,m=zs(f,i.pendingProps),m=zs(f.type,m),Rb(s,i,f,m,c);case 15:return Lb(s,i,i.type,i.pendingProps,c);case 17:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:zs(f,m),Ep(s,i),i.tag=1,Mn(f)?(s=!0,op(i)):s=!1,Wl(i,c),Sb(i,f,m),Ov(i,f,m,c),$v(null,i,f,!0,s,c);case 19:return Bb(s,i,c);case 22:return Mb(s,i,c)}throw Error(t(156,i.tag))};function u1(s,i){return Uw(s,i)}function Fk(s,i,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(s,i,c,f){return new Fk(s,i,c,f)}function ly(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ok(s){if(typeof s=="function")return ly(s)?1:0;if(s!=null){if(s=s.$$typeof,s===re)return 11;if(s===Pe)return 14}return 2}function Qr(s,i){var c=s.alternate;return c===null?(c=xs(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Dp(s,i,c,f,m,x){var T=2;if(f=s,typeof s=="function")ly(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case F:return aa(c.children,m,x,i);case V:T=8,m|=8;break;case G:return s=xs(12,c,i,m|2),s.elementType=G,s.lanes=x,s;case ve:return s=xs(13,c,i,m),s.elementType=ve,s.lanes=x,s;case oe:return s=xs(19,c,i,m),s.elementType=oe,s.lanes=x,s;case q:return jp(c,m,x,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Y:T=10;break e;case ee:T=9;break e;case re:T=11;break e;case Pe:T=14;break e;case Q:T=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=xs(T,c,i,m),i.elementType=s,i.type=f,i.lanes=x,i}function aa(s,i,c,f){return s=xs(7,s,f,i),s.lanes=c,s}function jp(s,i,c,f){return s=xs(22,s,f,i),s.elementType=q,s.lanes=c,s.stateNode={isHidden:!1},s}function cy(s,i,c){return s=xs(6,s,null,i),s.lanes=c,s}function uy(s,i,c){return i=xs(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function zk(s,i,c,f,m){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fm(0),this.expirationTimes=Fm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fm(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function dy(s,i,c,f,m,x,T,M,j){return s=new zk(s,i,c,M,j),i===1?(i=1,x===!0&&(i|=8)):i=0,x=xs(3,null,null,i),s.current=x,x.stateNode=s,x.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ev(x),s}function Bk(s,i,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:f==null?null:""+f,children:s,containerInfo:i,implementation:c}}function d1(s){if(!s)return $r;s=s._reactInternals;e:{if(Ko(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Mn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Mn(c))return zx(s,c,i)}return i}function h1(s,i,c,f,m,x,T,M,j){return s=dy(c,f,!0,s,m,x,T,M,j),s.context=d1(null),c=s.current,f=xn(),m=Kr(c),x=$i(f,m),x.callback=i??null,Wr(c,x,m),s.current.lanes=m,Iu(s,m,f),jn(s,f),s}function Fp(s,i,c,f){var m=i.current,x=xn(),T=Kr(m);return c=d1(c),i.context===null?i.context=c:i.pendingContext=c,i=$i(x,T),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=Wr(m,i,T),s!==null&&($s(s,m,T,x),pp(s,m,T)),T}function Op(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function f1(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function hy(s,i){f1(s,i),(s=s.alternate)&&f1(s,i)}function Hk(){return null}var p1=typeof reportError=="function"?reportError:function(s){console.error(s)};function fy(s){this._internalRoot=s}zp.prototype.render=fy.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));Fp(s,i,null,null)},zp.prototype.unmount=fy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;ia(function(){Fp(null,s,null,null)}),i[Fi]=null}};function zp(s){this._internalRoot=s}zp.prototype.unstable_scheduleHydration=function(s){if(s){var i=Qw();s={blockedOn:null,target:s,priority:i};for(var c=0;c<Fr.length&&i!==0&&i<Fr[c].priority;c++);Fr.splice(c,0,s),c===0&&ex(s)}};function py(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Bp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function g1(){}function $k(s,i,c,f,m){if(m){if(typeof f=="function"){var x=f;f=function(){var U=Op(T);x.call(U)}}var T=h1(i,f,s,0,null,!1,!1,"",g1);return s._reactRootContainer=T,s[Fi]=T.current,qu(s.nodeType===8?s.parentNode:s),ia(),T}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var M=f;f=function(){var U=Op(j);M.call(U)}}var j=dy(s,0,!1,null,null,!1,!1,"",g1);return s._reactRootContainer=j,s[Fi]=j.current,qu(s.nodeType===8?s.parentNode:s),ia(function(){Fp(i,j,c,f)}),j}function Hp(s,i,c,f,m){var x=c._reactRootContainer;if(x){var T=x;if(typeof m=="function"){var M=m;m=function(){var j=Op(T);M.call(j)}}Fp(i,T,s,m)}else T=$k(c,i,s,m,f);return Op(T)}Kw=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var c=Mu(i.pendingLanes);c!==0&&(Om(i,c|1),jn(i,Et()),($e&6)===0&&(Yl=Et()+500,Ur()))}break;case 13:ia(function(){var f=Hi(s,1);if(f!==null){var m=xn();$s(f,s,1,m)}}),hy(s,1)}},zm=function(s){if(s.tag===13){var i=Hi(s,134217728);if(i!==null){var c=xn();$s(i,s,134217728,c)}hy(s,134217728)}},Yw=function(s){if(s.tag===13){var i=Kr(s),c=Hi(s,i);if(c!==null){var f=xn();$s(c,s,i,f)}hy(s,i)}},Qw=function(){return Ke},Jw=function(s,i){var c=Ke;try{return Ke=s,i()}finally{Ke=c}},Rm=function(s,i,c){switch(i){case"input":if(oi(s,c),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var f=c[i];if(f!==s&&f.form===s.form){var m=ip(f);if(!m)throw Error(t(90));fs(f),oi(f,m)}}}break;case"textarea":Mf(s,c);break;case"select":i=c.value,i!=null&&Ms(s,!!c.multiple,i,!1)}},jw=ry,Fw=ia;var Uk={usingClientEntryPoint:!1,Events:[Qu,Fl,ip,Iw,Dw,ry]},dd={findFiberByHostInstance:Yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vk={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Hw(s),s===null?null:s.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||Hk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$p.isDisabled&&$p.supportsFiber)try{zf=$p.inject(Vk),ai=$p}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uk,Fn.createPortal=function(s,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!py(i))throw Error(t(200));return Bk(s,i,null,c)},Fn.createRoot=function(s,i){if(!py(s))throw Error(t(299));var c=!1,f="",m=p1;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=dy(s,1,!1,null,null,c,!1,f,m),s[Fi]=i.current,qu(s.nodeType===8?s.parentNode:s),new fy(i)},Fn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Hw(i),s=s===null?null:s.stateNode,s},Fn.flushSync=function(s){return ia(s)},Fn.hydrate=function(s,i,c){if(!Bp(i))throw Error(t(200));return Hp(null,s,i,!0,c)},Fn.hydrateRoot=function(s,i,c){if(!py(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,m=!1,x="",T=p1;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),i=h1(i,null,s,1,c??null,m,!1,x,T),s[Fi]=i.current,qu(s),f)for(s=0;s<f.length;s++)c=f[s],m=c._getVersion,m=m(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,m]:i.mutableSourceEagerHydrationData.push(c,m);return new zp(i)},Fn.render=function(s,i,c){if(!Bp(i))throw Error(t(200));return Hp(null,s,i,!1,c)},Fn.unmountComponentAtNode=function(s){if(!Bp(s))throw Error(t(40));return s._reactRootContainer?(ia(function(){Hp(null,null,s,!1,function(){s._reactRootContainer=null,s[Fi]=null})}),!0):!1},Fn.unstable_batchedUpdates=ry,Fn.unstable_renderSubtreeIntoContainer=function(s,i,c,f){if(!Bp(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Hp(s,i,c,!1,f)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var E1;function EA(){if(E1)return yy.exports;E1=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(e){console.error(e)}}return u(),yy.exports=eT(),yy.exports}var _1;function tT(){if(_1)return Up;_1=1;var u=EA();return Up.createRoot=u.createRoot,Up.hydrateRoot=u.hydrateRoot,Up}var nT=tT();const sT=fm(nT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rT=u=>u.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),C1=u=>{const e=rT(u);return e.charAt(0).toUpperCase()+e.slice(1)},_A=(...u)=>u.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=D.forwardRef(({color:u="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:o,iconNode:l,...d},h)=>D.createElement("svg",{ref:h,...oT,width:e,height:e,stroke:u,strokeWidth:n?Number(t)*24/Number(e):t,className:_A("lucide",r),...d},[...l.map(([p,g])=>D.createElement(p,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(u,e)=>{const t=D.forwardRef(({className:n,...r},o)=>D.createElement(aT,{ref:o,iconNode:e,className:_A(`lucide-${iT(C1(u))}`,`lucide-${u}`,n),...r}));return t.displayName=C1(u),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],cT=pt("arrow-up",lT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],dT=pt("award",uT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],CA=pt("book-open",hT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],pT=pt("chart-column",fT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],mT=pt("code",gT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],yT=pt("coffee",vT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Vp=pt("download",wT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bT=pt("eye",xT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zy=pt("file-text",AT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],kA=pt("github",ST);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],TA=pt("globe",ET);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],NA=pt("heart",_T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],kT=pt("layers",CT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],PA=pt("lightbulb",TT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],RA=pt("linkedin",NT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],LA=pt("mail",PT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],LT=pt("menu",RT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],IT=pt("mouse-pointer",MT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],MA=pt("palette",DT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],FT=pt("smartphone",jT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],IA=pt("target",OT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],DA=pt("users",zT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jA=pt("x",BT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$T=pt("zap",HT);function k1(u,e){if(typeof u=="function")return u(e);u!=null&&(u.current=e)}function FA(...u){return e=>{let t=!1;const n=u.map(r=>{const o=k1(r,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let r=0;r<n.length;r++){const o=n[r];typeof o=="function"?o():k1(u[r],null)}}}}function _l(...u){return D.useCallback(FA(...u),u)}function aw(u){const e=VT(u),t=D.forwardRef((n,r)=>{const{children:o,...l}=n,d=D.Children.toArray(o),h=d.find(GT);if(h){const p=h.props.children,g=d.map(v=>v===h?D.Children.count(p)>1?D.Children.only(null):D.isValidElement(p)?p.props.children:null:v);return y.jsx(e,{...l,ref:r,children:D.isValidElement(p)?D.cloneElement(p,void 0,g):null})}return y.jsx(e,{...l,ref:r,children:o})});return t.displayName=`${u}.Slot`,t}var UT=aw("Slot");function VT(u){const e=D.forwardRef((t,n)=>{const{children:r,...o}=t;if(D.isValidElement(r)){const l=qT(r),d=XT(o,r.props);return r.type!==D.Fragment&&(d.ref=n?FA(n,l):l),D.cloneElement(r,d)}return D.Children.count(r)>1?D.Children.only(null):null});return e.displayName=`${u}.SlotClone`,e}var WT=Symbol("radix.slottable");function GT(u){return D.isValidElement(u)&&typeof u.type=="function"&&"__radixId"in u.type&&u.type.__radixId===WT}function XT(u,e){const t={...e};for(const n in e){const r=u[n],o=e[n];/^on[A-Z]/.test(n)?r&&o?t[n]=(...d)=>{const h=o(...d);return r(...d),h}:r&&(t[n]=r):n==="style"?t[n]={...r,...o}:n==="className"&&(t[n]=[r,o].filter(Boolean).join(" "))}return{...u,...t}}function qT(u){var n,r;let e=(n=Object.getOwnPropertyDescriptor(u.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?u.ref:(e=(r=Object.getOwnPropertyDescriptor(u,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?u.props.ref:u.props.ref||u.ref)}function OA(u){var e,t,n="";if(typeof u=="string"||typeof u=="number")n+=u;else if(typeof u=="object")if(Array.isArray(u)){var r=u.length;for(e=0;e<r;e++)u[e]&&(t=OA(u[e]))&&(n&&(n+=" "),n+=t)}else for(t in u)u[t]&&(n&&(n+=" "),n+=t);return n}function Eu(){for(var u,e,t=0,n="",r=arguments.length;t<r;t++)(u=arguments[t])&&(e=OA(u))&&(n&&(n+=" "),n+=e);return n}const T1=u=>typeof u=="boolean"?`${u}`:u===0?"0":u,N1=Eu,KT=(u,e)=>t=>{var n;if((e==null?void 0:e.variants)==null)return N1(u,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:o}=e,l=Object.keys(r).map(p=>{const g=t==null?void 0:t[p],v=o==null?void 0:o[p];if(g===null)return null;const w=T1(g)||T1(v);return r[p][w]}),d=t&&Object.entries(t).reduce((p,g)=>{let[v,w]=g;return w===void 0||(p[v]=w),p},{}),h=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((p,g)=>{let{class:v,className:w,...A}=g;return Object.entries(A).every(E=>{let[S,C]=E;return Array.isArray(C)?C.includes({...o,...d}[S]):{...o,...d}[S]===C})?[...p,v,w]:p},[]);return N1(u,l,h,t==null?void 0:t.class,t==null?void 0:t.className)},lw="-",YT=u=>{const e=JT(u),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=u;return{getClassGroupId:l=>{const d=l.split(lw);return d[0]===""&&d.length!==1&&d.shift(),zA(d,e)||QT(l)},getConflictingClassGroupIds:(l,d)=>{const h=t[l]||[];return d&&n[l]?[...h,...n[l]]:h}}},zA=(u,e)=>{var l;if(u.length===0)return e.classGroupId;const t=u[0],n=e.nextPart.get(t),r=n?zA(u.slice(1),n):void 0;if(r)return r;if(e.validators.length===0)return;const o=u.join(lw);return(l=e.validators.find(({validator:d})=>d(o)))==null?void 0:l.classGroupId},P1=/^\[(.+)\]$/,QT=u=>{if(P1.test(u)){const e=P1.exec(u)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},JT=u=>{const{theme:e,prefix:t}=u,n={nextPart:new Map,validators:[]};return eN(Object.entries(u.classGroups),t).forEach(([o,l])=>{By(l,n,o,e)}),n},By=(u,e,t,n)=>{u.forEach(r=>{if(typeof r=="string"){const o=r===""?e:R1(e,r);o.classGroupId=t;return}if(typeof r=="function"){if(ZT(r)){By(r(n),e,t,n);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([o,l])=>{By(l,R1(e,o),t,n)})})},R1=(u,e)=>{let t=u;return e.split(lw).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},ZT=u=>u.isThemeGetter,eN=(u,e)=>e?u.map(([t,n])=>{const r=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,d])=>[e+l,d])):o);return[t,r]}):u,tN=u=>{if(u<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const r=(o,l)=>{t.set(o,l),e++,e>u&&(e=0,n=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return r(o,l),l},set(o,l){t.has(o)?t.set(o,l):r(o,l)}}},BA="!",nN=u=>{const{separator:e,experimentalParseClassName:t}=u,n=e.length===1,r=e[0],o=e.length,l=d=>{const h=[];let p=0,g=0,v;for(let C=0;C<d.length;C++){let N=d[C];if(p===0){if(N===r&&(n||d.slice(C,C+o)===e)){h.push(d.slice(g,C)),g=C+o;continue}if(N==="/"){v=C;continue}}N==="["?p++:N==="]"&&p--}const w=h.length===0?d:d.substring(g),A=w.startsWith(BA),E=A?w.substring(1):w,S=v&&v>g?v-g:void 0;return{modifiers:h,hasImportantModifier:A,baseClassName:E,maybePostfixModifierPosition:S}};return t?d=>t({className:d,parseClassName:l}):l},sN=u=>{if(u.length<=1)return u;const e=[];let t=[];return u.forEach(n=>{n[0]==="["?(e.push(...t.sort(),n),t=[]):t.push(n)}),e.push(...t.sort()),e},iN=u=>({cache:tN(u.cacheSize),parseClassName:nN(u),...YT(u)}),rN=/\s+/,oN=(u,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:r}=e,o=[],l=u.trim().split(rN);let d="";for(let h=l.length-1;h>=0;h-=1){const p=l[h],{modifiers:g,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:A}=t(p);let E=!!A,S=n(E?w.substring(0,A):w);if(!S){if(!E){d=p+(d.length>0?" "+d:d);continue}if(S=n(w),!S){d=p+(d.length>0?" "+d:d);continue}E=!1}const C=sN(g).join(":"),N=v?C+BA:C,R=N+S;if(o.includes(R))continue;o.push(R);const P=r(S,E);for(let L=0;L<P.length;++L){const I=P[L];o.push(N+I)}d=p+(d.length>0?" "+d:d)}return d};function aN(){let u=0,e,t,n="";for(;u<arguments.length;)(e=arguments[u++])&&(t=HA(e))&&(n&&(n+=" "),n+=t);return n}const HA=u=>{if(typeof u=="string")return u;let e,t="";for(let n=0;n<u.length;n++)u[n]&&(e=HA(u[n]))&&(t&&(t+=" "),t+=e);return t};function lN(u,...e){let t,n,r,o=l;function l(h){const p=e.reduce((g,v)=>v(g),u());return t=iN(p),n=t.cache.get,r=t.cache.set,o=d,d(h)}function d(h){const p=n(h);if(p)return p;const g=oN(h,t);return r(h,g),g}return function(){return o(aN.apply(null,arguments))}}const lt=u=>{const e=t=>t[u]||[];return e.isThemeGetter=!0,e},$A=/^\[(?:([a-z-]+):)?(.+)\]$/i,cN=/^\d+\/\d+$/,uN=new Set(["px","full","screen"]),dN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wi=u=>dc(u)||uN.has(u)||cN.test(u),Zr=u=>_u(u,"length",SN),dc=u=>!!u&&!Number.isNaN(Number(u)),by=u=>_u(u,"number",dc),fd=u=>!!u&&Number.isInteger(Number(u)),mN=u=>u.endsWith("%")&&dc(u.slice(0,-1)),Le=u=>$A.test(u),eo=u=>dN.test(u),vN=new Set(["length","size","percentage"]),yN=u=>_u(u,vN,UA),wN=u=>_u(u,"position",UA),xN=new Set(["image","url"]),bN=u=>_u(u,xN,_N),AN=u=>_u(u,"",EN),pd=()=>!0,_u=(u,e,t)=>{const n=$A.exec(u);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):t(n[2]):!1},SN=u=>hN.test(u)&&!fN.test(u),UA=()=>!1,EN=u=>pN.test(u),_N=u=>gN.test(u),CN=()=>{const u=lt("colors"),e=lt("spacing"),t=lt("blur"),n=lt("brightness"),r=lt("borderColor"),o=lt("borderRadius"),l=lt("borderSpacing"),d=lt("borderWidth"),h=lt("contrast"),p=lt("grayscale"),g=lt("hueRotate"),v=lt("invert"),w=lt("gap"),A=lt("gradientColorStops"),E=lt("gradientColorStopPositions"),S=lt("inset"),C=lt("margin"),N=lt("opacity"),R=lt("padding"),P=lt("saturate"),L=lt("scale"),I=lt("sepia"),B=lt("skew"),F=lt("space"),V=lt("translate"),G=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",Le,e],re=()=>[Le,e],ve=()=>["",Wi,Zr],oe=()=>["auto",dc,Le],Pe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Le],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[dc,Le];return{cacheSize:500,separator:":",theme:{colors:[pd],spacing:[Wi,Zr],blur:["none","",eo,Le],brightness:O(),borderColor:[u],borderRadius:["none","","full",eo,Le],borderSpacing:re(),borderWidth:ve(),contrast:O(),grayscale:ae(),hueRotate:O(),invert:ae(),gap:re(),gradientColorStops:[u],gradientColorStopPositions:[mN,Zr],inset:ee(),margin:ee(),opacity:O(),padding:re(),saturate:O(),scale:O(),sepia:ae(),skew:O(),space:re(),translate:re()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[eo]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Pe(),Le]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fd,Le]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",fd,Le]}],"grid-cols":[{"grid-cols":[pd]}],"col-start-end":[{col:["auto",{span:["full",fd,Le]},Le]}],"col-start":[{"col-start":oe()}],"col-end":[{"col-end":oe()}],"grid-rows":[{"grid-rows":[pd]}],"row-start-end":[{row:["auto",{span:[fd,Le]},Le]}],"row-start":[{"row-start":oe()}],"row-end":[{"row-end":oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[eo]},eo]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",eo,Zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",by]}],"font-family":[{font:[pd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",dc,by]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wi,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[u]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[u]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wi,Zr]}],"underline-offset":[{"underline-offset":["auto",Wi,Le]}],"text-decoration-color":[{decoration:[u]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:re()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Pe(),wN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bN]}],"bg-color":[{bg:[u]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:Q()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Wi,Le]}],"outline-w":[{outline:[Wi,Zr]}],"outline-color":[{outline:[u]}],"ring-w":[{ring:ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[u]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Wi,Zr]}],"ring-offset-color":[{"ring-offset":[u]}],shadow:[{shadow:["","inner","none",eo,AN]}],"shadow-color":[{shadow:[pd]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[n]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",eo,Le]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[v]}],saturate:[{saturate:[P]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[fd,Le]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",u]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[u]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":re()}],"scroll-mx":[{"scroll-mx":re()}],"scroll-my":[{"scroll-my":re()}],"scroll-ms":[{"scroll-ms":re()}],"scroll-me":[{"scroll-me":re()}],"scroll-mt":[{"scroll-mt":re()}],"scroll-mr":[{"scroll-mr":re()}],"scroll-mb":[{"scroll-mb":re()}],"scroll-ml":[{"scroll-ml":re()}],"scroll-p":[{"scroll-p":re()}],"scroll-px":[{"scroll-px":re()}],"scroll-py":[{"scroll-py":re()}],"scroll-ps":[{"scroll-ps":re()}],"scroll-pe":[{"scroll-pe":re()}],"scroll-pt":[{"scroll-pt":re()}],"scroll-pr":[{"scroll-pr":re()}],"scroll-pb":[{"scroll-pb":re()}],"scroll-pl":[{"scroll-pl":re()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[u,"none"]}],"stroke-w":[{stroke:[Wi,Zr,by]}],stroke:[{stroke:[u,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kN=lN(CN);function Cu(...u){return kN(Eu(u))}const TN=KT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-300 focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"glass-button-primary",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"glass-button text-foreground",secondary:"glass-button-accent",ghost:"glass-button text-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Xe=D.forwardRef(({className:u,variant:e,size:t,asChild:n=!1,...r},o)=>{const l=n?UT:"button";return y.jsx(l,{className:Cu(TN({variant:e,size:t,className:u})),ref:o,...r})});Xe.displayName="Button";function Ho(u,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(u==null||u(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function NN(u,e){const t=D.createContext(e),n=o=>{const{children:l,...d}=o,h=D.useMemo(()=>d,Object.values(d));return y.jsx(t.Provider,{value:h,children:l})};n.displayName=u+"Provider";function r(o){const l=D.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${u}\``)}return[n,r]}function PN(u,e=[]){let t=[];function n(o,l){const d=D.createContext(l),h=t.length;t=[...t,l];const p=v=>{var N;const{scope:w,children:A,...E}=v,S=((N=w==null?void 0:w[u])==null?void 0:N[h])||d,C=D.useMemo(()=>E,Object.values(E));return y.jsx(S.Provider,{value:C,children:A})};p.displayName=o+"Provider";function g(v,w){var S;const A=((S=w==null?void 0:w[u])==null?void 0:S[h])||d,E=D.useContext(A);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[p,g]}const r=()=>{const o=t.map(l=>D.createContext(l));return function(d){const h=(d==null?void 0:d[u])||o;return D.useMemo(()=>({[`__scope${u}`]:{...d,[u]:h}}),[d,h])}};return r.scopeName=u,[n,RN(r,...e)]}function RN(...u){const e=u[0];if(u.length===1)return e;const t=()=>{const n=u.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(o){const l=n.reduce((d,{useScope:h,scopeName:p})=>{const v=h(o)[`__scope${p}`];return{...d,...v}},{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var Bd=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},LN=SA[" useId ".trim().toString()]||(()=>{}),MN=0;function Ay(u){const[e,t]=D.useState(LN());return Bd(()=>{t(n=>n??String(MN++))},[u]),u||(e?`radix-${e}`:"")}var IN=SA[" useInsertionEffect ".trim().toString()]||Bd;function DN({prop:u,defaultProp:e,onChange:t=()=>{},caller:n}){const[r,o,l]=jN({defaultProp:e,onChange:t}),d=u!==void 0,h=d?u:r;{const g=D.useRef(u!==void 0);D.useEffect(()=>{const v=g.current;v!==d&&console.warn(`${n} is changing from ${v?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,n])}const p=D.useCallback(g=>{var v;if(d){const w=FN(g)?g(u):g;w!==u&&((v=l.current)==null||v.call(l,w))}else o(g)},[d,u,o,l]);return[h,p]}function jN({defaultProp:u,onChange:e}){const[t,n]=D.useState(u),r=D.useRef(t),o=D.useRef(e);return IN(()=>{o.current=e},[e]),D.useEffect(()=>{var l;r.current!==t&&((l=o.current)==null||l.call(o,t),r.current=t)},[t,r]),[t,n,o]}function FN(u){return typeof u=="function"}var VA=EA();const ON=fm(VA);var zN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lr=zN.reduce((u,e)=>{const t=aw(`Primitive.${e}`),n=D.forwardRef((r,o)=>{const{asChild:l,...d}=r,h=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(h,{...d,ref:o})});return n.displayName=`Primitive.${e}`,{...u,[e]:n}},{});function BN(u,e){u&&VA.flushSync(()=>u.dispatchEvent(e))}function Hd(u){const e=D.useRef(u);return D.useEffect(()=>{e.current=u}),D.useMemo(()=>(...t)=>{var n;return(n=e.current)==null?void 0:n.call(e,...t)},[])}function HN(u,e=globalThis==null?void 0:globalThis.document){const t=Hd(u);D.useEffect(()=>{const n=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var $N="DismissableLayer",Hy="dismissableLayer.update",UN="dismissableLayer.pointerDownOutside",VN="dismissableLayer.focusOutside",L1,WA=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),GA=D.forwardRef((u,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:o,onInteractOutside:l,onDismiss:d,...h}=u,p=D.useContext(WA),[g,v]=D.useState(null),w=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=D.useState({}),E=_l(e,F=>v(F)),S=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),N=S.indexOf(C),R=g?S.indexOf(g):-1,P=p.layersWithOutsidePointerEventsDisabled.size>0,L=R>=N,I=XN(F=>{const V=F.target,G=[...p.branches].some(Y=>Y.contains(V));!L||G||(r==null||r(F),l==null||l(F),F.defaultPrevented||d==null||d())},w),B=qN(F=>{const V=F.target;[...p.branches].some(Y=>Y.contains(V))||(o==null||o(F),l==null||l(F),F.defaultPrevented||d==null||d())},w);return HN(F=>{R===p.layers.size-1&&(n==null||n(F),!F.defaultPrevented&&d&&(F.preventDefault(),d()))},w),D.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(L1=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),M1(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=L1)}},[g,w,t,p]),D.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),M1())},[g,p]),D.useEffect(()=>{const F=()=>A({});return document.addEventListener(Hy,F),()=>document.removeEventListener(Hy,F)},[]),y.jsx(Lr.div,{...h,ref:E,style:{pointerEvents:P?L?"auto":"none":void 0,...u.style},onFocusCapture:Ho(u.onFocusCapture,B.onFocusCapture),onBlurCapture:Ho(u.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Ho(u.onPointerDownCapture,I.onPointerDownCapture)})});GA.displayName=$N;var WN="DismissableLayerBranch",GN=D.forwardRef((u,e)=>{const t=D.useContext(WA),n=D.useRef(null),r=_l(e,n);return D.useEffect(()=>{const o=n.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),y.jsx(Lr.div,{...u,ref:r})});GN.displayName=WN;function XN(u,e=globalThis==null?void 0:globalThis.document){const t=Hd(u),n=D.useRef(!1),r=D.useRef(()=>{});return D.useEffect(()=>{const o=d=>{if(d.target&&!n.current){let h=function(){XA(UN,t,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=h,e.addEventListener("click",r.current,{once:!0})):h()}else e.removeEventListener("click",r.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function qN(u,e=globalThis==null?void 0:globalThis.document){const t=Hd(u),n=D.useRef(!1);return D.useEffect(()=>{const r=o=>{o.target&&!n.current&&XA(VN,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function M1(){const u=new CustomEvent(Hy);document.dispatchEvent(u)}function XA(u,e,t,{discrete:n}){const r=t.originalEvent.target,o=new CustomEvent(u,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(u,e,{once:!0}),n?BN(r,o):r.dispatchEvent(o)}var Sy="focusScope.autoFocusOnMount",Ey="focusScope.autoFocusOnUnmount",I1={bubbles:!1,cancelable:!0},KN="FocusScope",qA=D.forwardRef((u,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:o,...l}=u,[d,h]=D.useState(null),p=Hd(r),g=Hd(o),v=D.useRef(null),w=_l(e,S=>h(S)),A=D.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;D.useEffect(()=>{if(n){let S=function(P){if(A.paused||!d)return;const L=P.target;d.contains(L)?v.current=L:to(v.current,{select:!0})},C=function(P){if(A.paused||!d)return;const L=P.relatedTarget;L!==null&&(d.contains(L)||to(v.current,{select:!0}))},N=function(P){if(document.activeElement===document.body)for(const I of P)I.removedNodes.length>0&&to(d)};document.addEventListener("focusin",S),document.addEventListener("focusout",C);const R=new MutationObserver(N);return d&&R.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",C),R.disconnect()}}},[n,d,A.paused]),D.useEffect(()=>{if(d){j1.add(A);const S=document.activeElement;if(!d.contains(S)){const N=new CustomEvent(Sy,I1);d.addEventListener(Sy,p),d.dispatchEvent(N),N.defaultPrevented||(YN(tP(KA(d)),{select:!0}),document.activeElement===S&&to(d))}return()=>{d.removeEventListener(Sy,p),setTimeout(()=>{const N=new CustomEvent(Ey,I1);d.addEventListener(Ey,g),d.dispatchEvent(N),N.defaultPrevented||to(S??document.body,{select:!0}),d.removeEventListener(Ey,g),j1.remove(A)},0)}}},[d,p,g,A]);const E=D.useCallback(S=>{if(!t&&!n||A.paused)return;const C=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,N=document.activeElement;if(C&&N){const R=S.currentTarget,[P,L]=QN(R);P&&L?!S.shiftKey&&N===L?(S.preventDefault(),t&&to(P,{select:!0})):S.shiftKey&&N===P&&(S.preventDefault(),t&&to(L,{select:!0})):N===R&&S.preventDefault()}},[t,n,A.paused]);return y.jsx(Lr.div,{tabIndex:-1,...l,ref:w,onKeyDown:E})});qA.displayName=KN;function YN(u,{select:e=!1}={}){const t=document.activeElement;for(const n of u)if(to(n,{select:e}),document.activeElement!==t)return}function QN(u){const e=KA(u),t=D1(e,u),n=D1(e.reverse(),u);return[t,n]}function KA(u){const e=[],t=document.createTreeWalker(u,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function D1(u,e){for(const t of u)if(!JN(t,{upTo:e}))return t}function JN(u,{upTo:e}){if(getComputedStyle(u).visibility==="hidden")return!0;for(;u;){if(e!==void 0&&u===e)return!1;if(getComputedStyle(u).display==="none")return!0;u=u.parentElement}return!1}function ZN(u){return u instanceof HTMLInputElement&&"select"in u}function to(u,{select:e=!1}={}){if(u&&u.focus){const t=document.activeElement;u.focus({preventScroll:!0}),u!==t&&ZN(u)&&e&&u.select()}}var j1=eP();function eP(){let u=[];return{add(e){const t=u[0];e!==t&&(t==null||t.pause()),u=F1(u,e),u.unshift(e)},remove(e){var t;u=F1(u,e),(t=u[0])==null||t.resume()}}}function F1(u,e){const t=[...u],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function tP(u){return u.filter(e=>e.tagName!=="A")}var nP="Portal",YA=D.forwardRef((u,e)=>{var d;const{container:t,...n}=u,[r,o]=D.useState(!1);Bd(()=>o(!0),[]);const l=t||r&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return l?ON.createPortal(y.jsx(Lr.div,{...n,ref:e}),l):null});YA.displayName=nP;function sP(u,e){return D.useReducer((t,n)=>e[t][n]??t,u)}var pm=u=>{const{present:e,children:t}=u,n=iP(e),r=typeof t=="function"?t({present:n.isPresent}):D.Children.only(t),o=_l(n.ref,rP(r));return typeof t=="function"||n.isPresent?D.cloneElement(r,{ref:o}):null};pm.displayName="Presence";function iP(u){const[e,t]=D.useState(),n=D.useRef(null),r=D.useRef(u),o=D.useRef("none"),l=u?"mounted":"unmounted",[d,h]=sP(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const p=Wp(n.current);o.current=d==="mounted"?p:"none"},[d]),Bd(()=>{const p=n.current,g=r.current;if(g!==u){const w=o.current,A=Wp(p);u?h("MOUNT"):A==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(g&&w!==A?"ANIMATION_OUT":"UNMOUNT"),r.current=u}},[u,h]),Bd(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,v=A=>{const S=Wp(n.current).includes(CSS.escape(A.animationName));if(A.target===e&&S&&(h("ANIMATION_END"),!r.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},w=A=>{A.target===e&&(o.current=Wp(n.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:D.useCallback(p=>{n.current=p?getComputedStyle(p):null,t(p)},[])}}function Wp(u){return(u==null?void 0:u.animationName)||"none"}function rP(u){var n,r;let e=(n=Object.getOwnPropertyDescriptor(u.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?u.ref:(e=(r=Object.getOwnPropertyDescriptor(u,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?u.props.ref:u.props.ref||u.ref)}var _y=0;function oP(){D.useEffect(()=>{const u=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",u[0]??O1()),document.body.insertAdjacentElement("beforeend",u[1]??O1()),_y++,()=>{_y===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_y--}},[])}function O1(){const u=document.createElement("span");return u.setAttribute("data-radix-focus-guard",""),u.tabIndex=0,u.style.outline="none",u.style.opacity="0",u.style.position="fixed",u.style.pointerEvents="none",u}var Li=function(){return Li=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Li.apply(this,arguments)};function QA(u,e){var t={};for(var n in u)Object.prototype.hasOwnProperty.call(u,n)&&e.indexOf(n)<0&&(t[n]=u[n]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(u);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(u,n[r])&&(t[n[r]]=u[n[r]]);return t}function aP(u,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return u.concat(o||Array.prototype.slice.call(e))}var sg="right-scroll-bar-position",ig="width-before-scroll-bar",lP="with-scroll-bars-hidden",cP="--removed-body-scroll-bar-size";function Cy(u,e){return typeof u=="function"?u(e):u&&(u.current=e),u}function uP(u,e){var t=D.useState(function(){return{value:u,callback:e,facade:{get current(){return t.value},set current(n){var r=t.value;r!==n&&(t.value=n,t.callback(n,r))}}}})[0];return t.callback=e,t.facade}var dP=typeof window<"u"?D.useLayoutEffect:D.useEffect,z1=new WeakMap;function hP(u,e){var t=uP(null,function(n){return u.forEach(function(r){return Cy(r,n)})});return dP(function(){var n=z1.get(t);if(n){var r=new Set(n),o=new Set(u),l=t.current;r.forEach(function(d){o.has(d)||Cy(d,null)}),o.forEach(function(d){r.has(d)||Cy(d,l)})}z1.set(t,u)},[u]),t}function fP(u){return u}function pP(u,e){e===void 0&&(e=fP);var t=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:u},useMedium:function(o){var l=e(o,n);return t.push(l),function(){t=t.filter(function(d){return d!==l})}},assignSyncMedium:function(o){for(n=!0;t.length;){var l=t;t=[],l.forEach(o)}t={push:function(d){return o(d)},filter:function(){return t}}},assignMedium:function(o){n=!0;var l=[];if(t.length){var d=t;t=[],d.forEach(o),l=t}var h=function(){var g=l;l=[],g.forEach(o)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),t}}}};return r}function gP(u){u===void 0&&(u={});var e=pP(null);return e.options=Li({async:!0,ssr:!1},u),e}var JA=function(u){var e=u.sideCar,t=QA(u,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return D.createElement(n,Li({},t))};JA.isSideCarExport=!0;function mP(u,e){return u.useMedium(e),JA}var ZA=gP(),ky=function(){},gm=D.forwardRef(function(u,e){var t=D.useRef(null),n=D.useState({onScrollCapture:ky,onWheelCapture:ky,onTouchMoveCapture:ky}),r=n[0],o=n[1],l=u.forwardProps,d=u.children,h=u.className,p=u.removeScrollBar,g=u.enabled,v=u.shards,w=u.sideCar,A=u.noRelative,E=u.noIsolation,S=u.inert,C=u.allowPinchZoom,N=u.as,R=N===void 0?"div":N,P=u.gapMode,L=QA(u,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=w,B=hP([t,e]),F=Li(Li({},L),r);return D.createElement(D.Fragment,null,g&&D.createElement(I,{sideCar:ZA,removeScrollBar:p,shards:v,noRelative:A,noIsolation:E,inert:S,setCallbacks:o,allowPinchZoom:!!C,lockRef:t,gapMode:P}),l?D.cloneElement(D.Children.only(d),Li(Li({},F),{ref:B})):D.createElement(R,Li({},F,{className:h,ref:B}),d))});gm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gm.classNames={fullWidth:ig,zeroRight:sg};var vP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yP(){if(!document)return null;var u=document.createElement("style");u.type="text/css";var e=vP();return e&&u.setAttribute("nonce",e),u}function wP(u,e){u.styleSheet?u.styleSheet.cssText=e:u.appendChild(document.createTextNode(e))}function xP(u){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(u)}var bP=function(){var u=0,e=null;return{add:function(t){u==0&&(e=yP())&&(wP(e,t),xP(e)),u++},remove:function(){u--,!u&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AP=function(){var u=bP();return function(e,t){D.useEffect(function(){return u.add(e),function(){u.remove()}},[e&&t])}},eS=function(){var u=AP(),e=function(t){var n=t.styles,r=t.dynamic;return u(n,r),null};return e},SP={left:0,top:0,right:0,gap:0},Ty=function(u){return parseInt(u||"",10)||0},EP=function(u){var e=window.getComputedStyle(document.body),t=e[u==="padding"?"paddingLeft":"marginLeft"],n=e[u==="padding"?"paddingTop":"marginTop"],r=e[u==="padding"?"paddingRight":"marginRight"];return[Ty(t),Ty(n),Ty(r)]},_P=function(u){if(u===void 0&&(u="margin"),typeof window>"u")return SP;var e=EP(u),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},CP=eS(),hc="data-scroll-locked",kP=function(u,e,t,n){var r=u.left,o=u.top,l=u.right,d=u.gap;return t===void 0&&(t="margin"),`
  .`.concat(lP,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(hc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sg,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(ig,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(sg," .").concat(sg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ig," .").concat(ig,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(hc,`] {
    `).concat(cP,": ").concat(d,`px;
  }
`)},B1=function(){var u=parseInt(document.body.getAttribute(hc)||"0",10);return isFinite(u)?u:0},TP=function(){D.useEffect(function(){return document.body.setAttribute(hc,(B1()+1).toString()),function(){var u=B1()-1;u<=0?document.body.removeAttribute(hc):document.body.setAttribute(hc,u.toString())}},[])},NP=function(u){var e=u.noRelative,t=u.noImportant,n=u.gapMode,r=n===void 0?"margin":n;TP();var o=D.useMemo(function(){return _P(r)},[r]);return D.createElement(CP,{styles:kP(o,!e,r,t?"":"!important")})},$y=!1;if(typeof window<"u")try{var Gp=Object.defineProperty({},"passive",{get:function(){return $y=!0,!0}});window.addEventListener("test",Gp,Gp),window.removeEventListener("test",Gp,Gp)}catch{$y=!1}var Jl=$y?{passive:!1}:!1,PP=function(u){return u.tagName==="TEXTAREA"},tS=function(u,e){if(!(u instanceof Element))return!1;var t=window.getComputedStyle(u);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!PP(u)&&t[e]==="visible")},RP=function(u){return tS(u,"overflowY")},LP=function(u){return tS(u,"overflowX")},H1=function(u,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=nS(u,n);if(r){var o=sS(u,n),l=o[1],d=o[2];if(l>d)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},MP=function(u){var e=u.scrollTop,t=u.scrollHeight,n=u.clientHeight;return[e,t,n]},IP=function(u){var e=u.scrollLeft,t=u.scrollWidth,n=u.clientWidth;return[e,t,n]},nS=function(u,e){return u==="v"?RP(e):LP(e)},sS=function(u,e){return u==="v"?MP(e):IP(e)},DP=function(u,e){return u==="h"&&e==="rtl"?-1:1},jP=function(u,e,t,n,r){var o=DP(u,window.getComputedStyle(e).direction),l=o*n,d=t.target,h=e.contains(d),p=!1,g=l>0,v=0,w=0;do{if(!d)break;var A=sS(u,d),E=A[0],S=A[1],C=A[2],N=S-C-o*E;(E||N)&&nS(u,d)&&(v+=N,w+=E);var R=d.parentNode;d=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(g&&Math.abs(v)<1||!g&&Math.abs(w)<1)&&(p=!0),p},Xp=function(u){return"changedTouches"in u?[u.changedTouches[0].clientX,u.changedTouches[0].clientY]:[0,0]},$1=function(u){return[u.deltaX,u.deltaY]},U1=function(u){return u&&"current"in u?u.current:u},FP=function(u,e){return u[0]===e[0]&&u[1]===e[1]},OP=function(u){return`
  .block-interactivity-`.concat(u,` {pointer-events: none;}
  .allow-interactivity-`).concat(u,` {pointer-events: all;}
`)},zP=0,Zl=[];function BP(u){var e=D.useRef([]),t=D.useRef([0,0]),n=D.useRef(),r=D.useState(zP++)[0],o=D.useState(eS)[0],l=D.useRef(u);D.useEffect(function(){l.current=u},[u]),D.useEffect(function(){if(u.inert){document.body.classList.add("block-interactivity-".concat(r));var S=aP([u.lockRef.current],(u.shards||[]).map(U1),!0).filter(Boolean);return S.forEach(function(C){return C.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),S.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(r))})}}},[u.inert,u.lockRef.current,u.shards]);var d=D.useCallback(function(S,C){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var N=Xp(S),R=t.current,P="deltaX"in S?S.deltaX:R[0]-N[0],L="deltaY"in S?S.deltaY:R[1]-N[1],I,B=S.target,F=Math.abs(P)>Math.abs(L)?"h":"v";if("touches"in S&&F==="h"&&B.type==="range")return!1;var V=H1(F,B);if(!V)return!0;if(V?I=F:(I=F==="v"?"h":"v",V=H1(F,B)),!V)return!1;if(!n.current&&"changedTouches"in S&&(P||L)&&(n.current=I),!I)return!0;var G=n.current||I;return jP(G,C,S,G==="h"?P:L)},[]),h=D.useCallback(function(S){var C=S;if(!(!Zl.length||Zl[Zl.length-1]!==o)){var N="deltaY"in C?$1(C):Xp(C),R=e.current.filter(function(I){return I.name===C.type&&(I.target===C.target||C.target===I.shadowParent)&&FP(I.delta,N)})[0];if(R&&R.should){C.cancelable&&C.preventDefault();return}if(!R){var P=(l.current.shards||[]).map(U1).filter(Boolean).filter(function(I){return I.contains(C.target)}),L=P.length>0?d(C,P[0]):!l.current.noIsolation;L&&C.cancelable&&C.preventDefault()}}},[]),p=D.useCallback(function(S,C,N,R){var P={name:S,delta:C,target:N,should:R,shadowParent:HP(N)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(L){return L!==P})},1)},[]),g=D.useCallback(function(S){t.current=Xp(S),n.current=void 0},[]),v=D.useCallback(function(S){p(S.type,$1(S),S.target,d(S,u.lockRef.current))},[]),w=D.useCallback(function(S){p(S.type,Xp(S),S.target,d(S,u.lockRef.current))},[]);D.useEffect(function(){return Zl.push(o),u.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",h,Jl),document.addEventListener("touchmove",h,Jl),document.addEventListener("touchstart",g,Jl),function(){Zl=Zl.filter(function(S){return S!==o}),document.removeEventListener("wheel",h,Jl),document.removeEventListener("touchmove",h,Jl),document.removeEventListener("touchstart",g,Jl)}},[]);var A=u.removeScrollBar,E=u.inert;return D.createElement(D.Fragment,null,E?D.createElement(o,{styles:OP(r)}):null,A?D.createElement(NP,{noRelative:u.noRelative,gapMode:u.gapMode}):null)}function HP(u){for(var e=null;u!==null;)u instanceof ShadowRoot&&(e=u.host,u=u.host),u=u.parentNode;return e}const $P=mP(ZA,BP);var iS=D.forwardRef(function(u,e){return D.createElement(gm,Li({},u,{ref:e,sideCar:$P}))});iS.classNames=gm.classNames;var UP=function(u){if(typeof document>"u")return null;var e=Array.isArray(u)?u[0]:u;return e.ownerDocument.body},ec=new WeakMap,qp=new WeakMap,Kp={},Ny=0,rS=function(u){return u&&(u.host||rS(u.parentNode))},VP=function(u,e){return e.map(function(t){if(u.contains(t))return t;var n=rS(t);return n&&u.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",u,". Doing nothing"),null)}).filter(function(t){return!!t})},WP=function(u,e,t,n){var r=VP(e,Array.isArray(u)?u:[u]);Kp[t]||(Kp[t]=new WeakMap);var o=Kp[t],l=[],d=new Set,h=new Set(r),p=function(v){!v||d.has(v)||(d.add(v),p(v.parentNode))};r.forEach(p);var g=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(w){if(d.has(w))g(w);else try{var A=w.getAttribute(n),E=A!==null&&A!=="false",S=(ec.get(w)||0)+1,C=(o.get(w)||0)+1;ec.set(w,S),o.set(w,C),l.push(w),S===1&&E&&qp.set(w,!0),C===1&&w.setAttribute(t,"true"),E||w.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",w,N)}})};return g(e),d.clear(),Ny++,function(){l.forEach(function(v){var w=ec.get(v)-1,A=o.get(v)-1;ec.set(v,w),o.set(v,A),w||(qp.has(v)||v.removeAttribute(n),qp.delete(v)),A||v.removeAttribute(t)}),Ny--,Ny||(ec=new WeakMap,ec=new WeakMap,qp=new WeakMap,Kp={})}},GP=function(u,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(u)?u:[u]),r=UP(u);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live], script"))),WP(n,r,t,"aria-hidden")):function(){return null}},mm="Dialog",[oS]=PN(mm),[XP,ri]=oS(mm),aS=u=>{const{__scopeDialog:e,children:t,open:n,defaultOpen:r,onOpenChange:o,modal:l=!0}=u,d=D.useRef(null),h=D.useRef(null),[p,g]=DN({prop:n,defaultProp:r??!1,onChange:o,caller:mm});return y.jsx(XP,{scope:e,triggerRef:d,contentRef:h,contentId:Ay(),titleId:Ay(),descriptionId:Ay(),open:p,onOpenChange:g,onOpenToggle:D.useCallback(()=>g(v=>!v),[g]),modal:l,children:t})};aS.displayName=mm;var lS="DialogTrigger",qP=D.forwardRef((u,e)=>{const{__scopeDialog:t,...n}=u,r=ri(lS,t),o=_l(e,r.triggerRef);return y.jsx(Lr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":dw(r.open),...n,ref:o,onClick:Ho(u.onClick,r.onOpenToggle)})});qP.displayName=lS;var cw="DialogPortal",[KP,cS]=oS(cw,{forceMount:void 0}),uS=u=>{const{__scopeDialog:e,forceMount:t,children:n,container:r}=u,o=ri(cw,e);return y.jsx(KP,{scope:e,forceMount:t,children:D.Children.map(n,l=>y.jsx(pm,{present:t||o.open,children:y.jsx(YA,{asChild:!0,container:r,children:l})}))})};uS.displayName=cw;var Dg="DialogOverlay",dS=D.forwardRef((u,e)=>{const t=cS(Dg,u.__scopeDialog),{forceMount:n=t.forceMount,...r}=u,o=ri(Dg,u.__scopeDialog);return o.modal?y.jsx(pm,{present:n||o.open,children:y.jsx(QP,{...r,ref:e})}):null});dS.displayName=Dg;var YP=aw("DialogOverlay.RemoveScroll"),QP=D.forwardRef((u,e)=>{const{__scopeDialog:t,...n}=u,r=ri(Dg,t);return y.jsx(iS,{as:YP,allowPinchZoom:!0,shards:[r.contentRef],children:y.jsx(Lr.div,{"data-state":dw(r.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Al="DialogContent",hS=D.forwardRef((u,e)=>{const t=cS(Al,u.__scopeDialog),{forceMount:n=t.forceMount,...r}=u,o=ri(Al,u.__scopeDialog);return y.jsx(pm,{present:n||o.open,children:o.modal?y.jsx(JP,{...r,ref:e}):y.jsx(ZP,{...r,ref:e})})});hS.displayName=Al;var JP=D.forwardRef((u,e)=>{const t=ri(Al,u.__scopeDialog),n=D.useRef(null),r=_l(e,t.contentRef,n);return D.useEffect(()=>{const o=n.current;if(o)return GP(o)},[]),y.jsx(fS,{...u,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ho(u.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ho(u.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&o.preventDefault()}),onFocusOutside:Ho(u.onFocusOutside,o=>o.preventDefault())})}),ZP=D.forwardRef((u,e)=>{const t=ri(Al,u.__scopeDialog),n=D.useRef(!1),r=D.useRef(!1);return y.jsx(fS,{...u,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,d;(l=u.onCloseAutoFocus)==null||l.call(u,o),o.defaultPrevented||(n.current||(d=t.triggerRef.current)==null||d.focus(),o.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:o=>{var h,p;(h=u.onInteractOutside)==null||h.call(u,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=o.target;((p=t.triggerRef.current)==null?void 0:p.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}})}),fS=D.forwardRef((u,e)=>{const{__scopeDialog:t,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:o,...l}=u,d=ri(Al,t),h=D.useRef(null),p=_l(e,h);return oP(),y.jsxs(y.Fragment,{children:[y.jsx(qA,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:o,children:y.jsx(GA,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":dw(d.open),...l,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(e2,{titleId:d.titleId}),y.jsx(n2,{contentRef:h,descriptionId:d.descriptionId})]})]})}),uw="DialogTitle",pS=D.forwardRef((u,e)=>{const{__scopeDialog:t,...n}=u,r=ri(uw,t);return y.jsx(Lr.h2,{id:r.titleId,...n,ref:e})});pS.displayName=uw;var gS="DialogDescription",mS=D.forwardRef((u,e)=>{const{__scopeDialog:t,...n}=u,r=ri(gS,t);return y.jsx(Lr.p,{id:r.descriptionId,...n,ref:e})});mS.displayName=gS;var vS="DialogClose",yS=D.forwardRef((u,e)=>{const{__scopeDialog:t,...n}=u,r=ri(vS,t);return y.jsx(Lr.button,{type:"button",...n,ref:e,onClick:Ho(u.onClick,()=>r.onOpenChange(!1))})});yS.displayName=vS;function dw(u){return u?"open":"closed"}var wS="DialogTitleWarning",[WL,xS]=NN(wS,{contentName:Al,titleName:uw,docsSlug:"dialog"}),e2=({titleId:u})=>{const e=xS(wS),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return D.useEffect(()=>{u&&(document.getElementById(u)||console.error(t))},[t,u]),null},t2="DialogDescriptionWarning",n2=({contentRef:u,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xS(t2).contentName}}.`;return D.useEffect(()=>{var o;const r=(o=u.current)==null?void 0:o.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(n))},[n,u,e]),null},s2=aS,i2=uS,bS=dS,AS=hS,SS=pS,ES=mS,r2=yS;const Uy=s2,o2=i2,_S=D.forwardRef(({className:u,...e},t)=>y.jsx(bS,{ref:t,className:Cu("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",u),...e}));_S.displayName=bS.displayName;const jg=D.forwardRef(({className:u,children:e,...t},n)=>y.jsxs(o2,{children:[y.jsx(_S,{}),y.jsxs(AS,{ref:n,className:Cu("fixed left-[50%] top-[10%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-0 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl max-h-[80vh] overflow-y-auto",u),...t,children:[e,y.jsxs(r2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[y.jsx(jA,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jg.displayName=AS.displayName;const Fg=({className:u,...e})=>y.jsx("div",{className:Cu("flex flex-col space-y-1.5 text-center sm:text-left",u),...e});Fg.displayName="DialogHeader";const Og=D.forwardRef(({className:u,...e},t)=>y.jsx(SS,{ref:t,className:Cu("text-lg font-semibold leading-none tracking-tight",u),...e}));Og.displayName=SS.displayName;const zg=D.forwardRef(({className:u,...e},t)=>y.jsx(ES,{ref:t,className:Cu("text-sm text-muted-foreground",u),...e}));zg.displayName=ES.displayName;function a2(){var S,C,N,R;const[u,e]=D.useState(!1),[t,n]=D.useState(!1),[r,o]=D.useState(!1),[l,d]=D.useState(null),h=[{type:"resume",title:"Resume - Lillian Turner",description:"UX Designer & Technical Communicator",filePath:"/pdfs/lillian-turner-resume.md",downloadName:"Lillian_Turner_Resume.md"},{type:"cv",title:"CV - Lillian Turner",description:"Curriculum Vitae - UX Designer & Technical Communicator",filePath:"/pdfs/lillian-turner-cv.md",downloadName:"Lillian_Turner_CV.md"}],p=l?h.findIndex(P=>P.type===l):-1,g=P=>{if(p===-1)return;const L=P==="next"?(p+1)%h.length:(p-1+h.length)%h.length,I=h[L];d(I.type),I.type==="resume"?(n(!0),o(!1)):(n(!1),o(!0))},v=P=>{P.key==="ArrowLeft"?(P.preventDefault(),g("prev")):P.key==="ArrowRight"?(P.preventDefault(),g("next")):P.key==="Escape"&&(n(!1),o(!1),d(null))},w=P=>{d(P),P==="resume"?n(!0):o(!0)};D.useEffect(()=>{u&&document.querySelectorAll(".animate-on-load").forEach(L=>{L.classList.remove("animate-on-load")})},[u]);const A=[{name:"Home",href:"#home"},{name:"UX Case Studies",href:"#ux-studies"},{name:"Technical Writing",href:"#tech-writing"},{name:"Design Gallery",href:"#design-gallery"},{name:"About",href:"#about"},{name:"Contact",href:"#contact"}],E=(P,L)=>{P.preventDefault();const I=L.replace("#",""),B=document.getElementById(I);if(B){const G=B.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:G,behavior:"smooth"})}};return y.jsxs("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b",role:"banner",children:[y.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"flex justify-between items-center py-4",children:[y.jsx("div",{className:"flex items-center",children:y.jsxs("a",{href:"#home",onClick:P=>E(P,"#home"),className:"flex items-center focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-lg transition-all-smooth","aria-label":"Lillian Turner - Home",children:[y.jsx("div",{className:"w-10 h-10 glass-logo rounded-lg flex items-center justify-center mr-3",children:y.jsx("span",{className:"text-primary font-bold","aria-hidden":"true",children:"LT"})}),y.jsx("span",{className:"text-xl font-semibold",children:"Lillian Turner"})]})}),y.jsxs("nav",{className:"hidden md:flex items-center space-x-2",role:"navigation","aria-label":"Main navigation",children:[A.map(P=>y.jsxs("a",{href:P.href,onClick:L=>E(L,P.href),className:"relative text-foreground/70 hover:text-foreground transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-lg px-4 py-2 group",children:[y.jsx("span",{className:"relative z-10",children:P.name}),y.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-primary scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]},P.name)),y.jsxs(Xe,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground transition-all duration-200 ml-4","aria-label":"View Resume",onClick:()=>w("resume"),children:[y.jsx(Vp,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Resume"]}),y.jsxs(Xe,{size:"sm",className:"bg-secondary hover:bg-secondary/90 text-secondary-foreground transition-all duration-200 ml-2","aria-label":"View CV",onClick:()=>w("cv"),children:[y.jsx(zy,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"CV"]})]}),y.jsx("div",{className:"md:hidden",children:y.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>e(!u),"aria-expanded":u,"aria-controls":"mobile-menu","aria-label":u?"Close menu":"Open menu",className:"hover:bg-primary/10 transition-colors duration-200",children:y.jsxs("div",{className:"relative w-5 h-5",children:[y.jsx(LT,{className:`w-5 h-5 absolute transition-all duration-200 ${u?"opacity-0 rotate-90":"opacity-100 rotate-0"}`,"aria-hidden":"true"}),y.jsx(jA,{className:`w-5 h-5 absolute transition-all duration-200 ${u?"opacity-100 rotate-0":"opacity-0 -rotate-90"}`,"aria-hidden":"true"})]})})})]}),u&&y.jsx("div",{className:"md:hidden py-4 border-t",id:"mobile-menu",children:y.jsxs("nav",{className:"flex flex-col space-y-1",role:"navigation","aria-label":"Mobile navigation",children:[A.map(P=>y.jsx("a",{href:P.href,className:"text-foreground/70 hover:text-foreground hover:bg-primary/5 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-lg px-4 py-3",onClick:L=>{E(L,P.href),e(!1)},children:P.name},P.name)),y.jsxs(Xe,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground transition-all duration-200 self-start mt-4","aria-label":"View Resume",onClick:()=>w("resume"),children:[y.jsx(Vp,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Resume"]}),y.jsxs(Xe,{size:"sm",className:"bg-secondary hover:bg-secondary/90 text-secondary-foreground transition-all duration-200 self-start mt-2","aria-label":"View CV",onClick:()=>w("cv"),children:[y.jsx(zy,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"CV"]})]})})]}),y.jsx(Uy,{open:t,onOpenChange:P=>{n(P),P||d(null)},children:y.jsxs(jg,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] max-w-7xl w-[95vw] h-[98vh] overflow-hidden flex flex-col",onKeyDown:v,children:[y.jsx("a",{href:"#document-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-primary text-primary-foreground px-3 py-2 rounded-md text-sm font-medium z-50",children:"Skip to content"}),y.jsxs(Fg,{className:"flex-shrink-0",children:[y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>g("prev"),className:"p-2 h-8 w-8","aria-label":`Previous document: ${(S=h[(p-1+h.length)%h.length])==null?void 0:S.title}`,children:y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),y.jsxs("div",{className:"text-sm text-muted-foreground","aria-live":"polite",children:[p+1," of ",h.length]}),y.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>g("next"),className:"p-2 h-8 w-8","aria-label":`Next document: ${(C=h[(p+1)%h.length])==null?void 0:C.title}`,children:y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),y.jsx(Og,{className:"text-2xl font-bold text-primary mt-4",children:"Resume - Lillian Turner"}),y.jsx(zg,{children:"UX Designer & Technical Communicator"})]}),y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("div",{className:"text-sm text-muted-foreground",children:"View or download my professional resume • Use arrow keys to navigate between documents"}),y.jsxs(Xe,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>{const P=document.createElement("a");P.href="/pdfs/lillian-turner-resume.md",P.download="Lillian_Turner_Resume.md",document.body.appendChild(P),P.click(),document.body.removeChild(P)},children:[y.jsx(Vp,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Download Resume"]})]}),y.jsx("div",{className:"flex-1 overflow-hidden",id:"document-content",children:y.jsx("iframe",{src:"/pdfs/lillian-turner-resume.md",className:"w-full h-full border-0 rounded-lg",title:"Resume - Lillian Turner"})})]})}),y.jsx(Uy,{open:r,onOpenChange:P=>{o(P),P||d(null)},children:y.jsxs(jg,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] max-w-7xl w-[95vw] h-[98vh] overflow-hidden flex flex-col",onKeyDown:v,children:[y.jsx("a",{href:"#document-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-primary text-primary-foreground px-3 py-2 rounded-md text-sm font-medium z-50",children:"Skip to content"}),y.jsxs(Fg,{className:"flex-shrink-0",children:[y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>g("prev"),className:"p-2 h-8 w-8","aria-label":`Previous document: ${(N=h[(p-1+h.length)%h.length])==null?void 0:N.title}`,children:y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),y.jsxs("div",{className:"text-sm text-muted-foreground","aria-live":"polite",children:[p+1," of ",h.length]}),y.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>g("next"),className:"p-2 h-8 w-8","aria-label":`Next document: ${(R=h[(p+1)%h.length])==null?void 0:R.title}`,children:y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),y.jsx(Og,{className:"text-2xl font-bold text-primary mt-4",children:"CV - Lillian Turner"}),y.jsx(zg,{children:"UX Designer & Technical Communicator"})]}),y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("div",{className:"text-sm text-muted-foreground",children:"View or download my professional CV • Use arrow keys to navigate between documents"}),y.jsxs(Xe,{size:"sm",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>{const P=document.createElement("a");P.href="/pdfs/lillian-turner-cv.md",P.download="Lillian_Turner_CV.md",document.body.appendChild(P),P.click(),document.body.removeChild(P)},children:[y.jsx(Vp,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Download CV"]})]}),y.jsx("div",{className:"flex-1 overflow-hidden",id:"document-content",children:y.jsx("iframe",{src:"/pdfs/lillian-turner-cv.md",className:"w-full h-full border-0 rounded-lg",title:"CV - Lillian Turner"})})]})})]})}function l2(){return y.jsx("section",{id:"home",className:"min-h-screen flex items-center pt-4 pb-16 lg:pt-8 lg:pb-20",role:"main","aria-labelledby":"hero-heading",children:y.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[y.jsxs("div",{className:"space-y-8 lg:space-y-10 lg:pt-0",children:[y.jsxs("div",{className:"space-y-5 lg:space-y-6",children:[y.jsx("p",{className:"subheading text-primary text-lg mb-3","aria-label":"Introduction",children:"Lillian Turner"}),y.jsxs("h1",{id:"hero-heading",className:"text-4xl md:text-5xl lg:text-6xl leading-tight font-bold",children:["UX Designer &",y.jsx("span",{className:"block text-primary text-3xl md:text-4xl lg:text-5xl mt-2 lg:mt-3",children:"Technical Communicator"})]}),y.jsx("p",{className:"text-lg lg:text-xl text-muted-foreground max-w-2xl leading-relaxed",children:"I craft user-centered digital experiences and clear, compelling technical content that bridges the gap between complex technology and human understanding."})]}),y.jsx("div",{className:"glass-card-accent p-6 lg:p-7 rounded-xl border-l-4 border-l-accent",children:y.jsx("p",{className:"text-lg lg:text-xl italic font-light leading-relaxed",children:`"Design is not just what it looks like and feels like. Design is how it works. And how it's communicated defines how it's understood."`})}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 lg:gap-5",children:[y.jsx(Xe,{size:"lg",className:"text-lg px-8 py-3 bg-primary hover:bg-primary/90 text-primary-foreground btn-animate hover-glow",onClick:()=>{const u=document.getElementById("ux-studies");u==null||u.scrollIntoView({behavior:"smooth"})},children:"View My Work"}),y.jsx(Xe,{size:"lg",className:"text-lg px-8 py-3 bg-primary hover:bg-primary/90 text-primary-foreground btn-animate hover-glow",onClick:()=>{const u=document.getElementById("contact");u==null||u.scrollIntoView({behavior:"smooth"})},children:"Get In Touch"})]}),y.jsxs("div",{className:"flex space-x-4 lg:space-x-5",role:"list","aria-label":"Social media links",children:[y.jsx(Xe,{variant:"ghost",size:"lg",className:"w-12 h-12 lg:w-14 lg:h-14 glass-social-icon hover-scale-sm transition-all-smooth","aria-label":"LinkedIn profile",role:"listitem",children:y.jsx(RA,{className:"w-5 h-5 lg:w-6 lg:h-6 text-primary","aria-hidden":"true"})}),y.jsx(Xe,{variant:"ghost",size:"lg",className:"w-12 h-12 lg:w-14 lg:h-14 glass-social-icon hover-scale-sm transition-all-smooth","aria-label":"GitHub profile",role:"listitem",children:y.jsx(kA,{className:"w-5 h-5 lg:w-6 lg:h-6 text-primary","aria-hidden":"true"})}),y.jsx(Xe,{variant:"ghost",size:"lg",className:"w-12 h-12 lg:w-14 lg:h-14 glass-social-icon hover-scale-sm transition-all-smooth","aria-label":"Email contact",role:"listitem",children:y.jsx(LA,{className:"w-5 h-5 lg:w-6 lg:h-6 text-primary","aria-hidden":"true"})})]})]}),y.jsx("div",{className:"relative flex justify-center items-center",role:"img","aria-label":"Professional headshot of Lillian Turner",children:y.jsx("div",{className:"aspect-square max-w-sm lg:max-w-md rounded-2xl lg:rounded-3xl flex items-center justify-center shadow-2xl relative overflow-hidden",children:y.jsx("img",{src:"/pdfs/headshot.jpeg",alt:"Lillian Turner - UX Designer & Technical Communicator",className:"w-full h-full object-cover rounded-2xl lg:rounded-3xl",style:{boxShadow:"0 25px 50px rgba(6, 95, 70, 0.2), 0 10px 20px rgba(6, 95, 70, 0.15), 0 4px 8px rgba(6, 95, 70, 0.1)"}})})})]})})})}const kn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Vy=[.001,0,0,.001,0,0],Py=1.35,cs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Mi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},CS="pdfjs_internal_editor_",Te={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},He={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},kS={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},hn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Od={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ct={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},tc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Ef={ERRORS:0,WARNINGS:1,INFOS:5},$d={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Yp={moveTo:0,lineTo:1,curveTo:2,closePath:3},TS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let vm=Ef.WARNINGS;function c2(u){Number.isInteger(u)&&(vm=u)}function u2(){return vm}function ym(u){vm>=Ef.INFOS&&console.log(`Info: ${u}`)}function Ne(u){vm>=Ef.WARNINGS&&console.log(`Warning: ${u}`)}function et(u){throw new Error(u)}function Mt(u,e){u||et(e)}function d2(u){switch(u==null?void 0:u.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function hw(u,e=null,t=null){if(!u)return null;if(t&&typeof u=="string"){if(t.addDefaultProtocol&&u.startsWith("www.")){const r=u.match(/\./g);(r==null?void 0:r.length)>=2&&(u=`http://${u}`)}if(t.tryConvertEncoding)try{u=m2(u)}catch{}}const n=e?URL.parse(u,e):URL.parse(u);return d2(n)?n:null}function fw(u,e,t=!1){const n=URL.parse(u);return n?(n.hash=e,n.href):t&&hw(u,"http://example.com")?u.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Oe(u,e,t,n=!1){return Object.defineProperty(u,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Cl=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class V1 extends Cl{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Ry extends Cl{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Bg extends Cl{constructor(e){super(e,"InvalidPDFException")}}class Ud extends Cl{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class h2 extends Cl{constructor(e){super(e,"FormatError")}}class Nr extends Cl{constructor(e){super(e,"AbortException")}}function NS(u){(typeof u!="object"||(u==null?void 0:u.length)===void 0)&&et("Invalid argument for bytesToString");const e=u.length,t=8192;if(e<t)return String.fromCharCode.apply(null,u);const n=[];for(let r=0;r<e;r+=t){const o=Math.min(r+t,e),l=u.subarray(r,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function _f(u){typeof u!="string"&&et("Invalid argument for stringToBytes");const e=u.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=u.charCodeAt(n)&255;return t}function f2(u){return String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,u&255)}function p2(){const u=new Uint8Array(4);return u[0]=1,new Uint32Array(u.buffer,0,1)[0]===1}function g2(){try{return new Function(""),!0}catch{return!1}}class Qt{static get isLittleEndian(){return Oe(this,"isLittleEndian",p2())}static get isEvalSupported(){return Oe(this,"isEvalSupported",g2())}static get isOffscreenCanvasSupported(){return Oe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Oe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Oe(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Oe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Ly=Array.from(Array(256).keys(),u=>u.toString(16).padStart(2,"0"));var kr,rg,Wy;class we{static makeHexColor(e,t,n){return`#${Ly[e]}${Ly[t]}${Ly[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,n=0){const r=e[n],o=e[n+1];e[n]=r*t[0]+o*t[2]+t[4],e[n+1]=r*t[1]+o*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const r=t[0],o=t[1],l=t[2],d=t[3],h=t[4],p=t[5];for(let g=0;g<6;g+=2){const v=e[n+g],w=e[n+g+1];e[n+g]=v*r+w*l+h,e[n+g+1]=v*o+w*d+p}}static applyInverseTransform(e,t){const n=e[0],r=e[1],o=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/o,e[1]=(-n*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/o}static axialAlignedBoundingBox(e,t,n){const r=t[0],o=t[1],l=t[2],d=t[3],h=t[4],p=t[5],g=e[0],v=e[1],w=e[2],A=e[3];let E=r*g+h,S=E,C=r*w+h,N=C,R=d*v+p,P=R,L=d*A+p,I=L;if(o!==0||l!==0){const B=o*g,F=o*w,V=l*v,G=l*A;E+=V,N+=V,C+=G,S+=G,R+=B,I+=B,L+=F,P+=F}n[0]=Math.min(n[0],E,C,S,N),n[1]=Math.min(n[1],R,L,P,I),n[2]=Math.max(n[2],E,C,S,N),n[3]=Math.max(n[3],R,L,P,I)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],r=e[1],o=e[2],l=e[3],d=n**2+r**2,h=n*o+r*l,p=o**2+l**2,g=(d+p)/2,v=Math.sqrt(g**2-(d*p-h**2));t[0]=Math.sqrt(g+v||1),t[1]=Math.sqrt(g-v||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>l?null:[n,o,r,l]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,r,o){o[0]=Math.min(o[0],e,n),o[1]=Math.min(o[1],t,r),o[2]=Math.max(o[2],e,n),o[3]=Math.max(o[3],t,r)}static bezierBoundingBox(e,t,n,r,o,l,d,h,p){p[0]=Math.min(p[0],e,d),p[1]=Math.min(p[1],t,h),p[2]=Math.max(p[2],e,d),p[3]=Math.max(p[3],t,h),k(this,kr,Wy).call(this,e,n,o,d,t,r,l,h,3*(-e+3*(n-o)+d),6*(e-2*n+o),3*(n-e),p),k(this,kr,Wy).call(this,e,n,o,d,t,r,l,h,3*(-t+3*(r-l)+h),6*(t-2*r+l),3*(r-t),p)}}kr=new WeakSet,rg=function(e,t,n,r,o,l,d,h,p,g){if(p<=0||p>=1)return;const v=1-p,w=p*p,A=w*p,E=v*(v*(v*e+3*p*t)+3*w*n)+A*r,S=v*(v*(v*o+3*p*l)+3*w*d)+A*h;g[0]=Math.min(g[0],E),g[1]=Math.min(g[1],S),g[2]=Math.max(g[2],E),g[3]=Math.max(g[3],S)},Wy=function(e,t,n,r,o,l,d,h,p,g,v,w){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&k(this,kr,rg).call(this,e,t,n,r,o,l,d,h,-v/g,w);return}const A=g**2-4*v*p;if(A<0)return;const E=Math.sqrt(A),S=2*p;k(this,kr,rg).call(this,e,t,n,r,o,l,d,h,(-g+E)/S,w),k(this,kr,rg).call(this,e,t,n,r,o,l,d,h,(-g-E)/S,w)},_(we,kr);function m2(u){return decodeURIComponent(escape(u))}let My=null,W1=null;function PS(u){return My||(My=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,W1=new Map([["ﬅ","ſt"]])),u.replaceAll(My,(e,t,n)=>t?t.normalize("NFKC"):W1.get(n))}function pw(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const u=new Uint8Array(32);return crypto.getRandomValues(u),NS(u)}const gw="pdfjs_internal_id_";function v2(u,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,r,...o]=t;if(!u(n)&&!Number.isInteger(n)||!e(r))return!1;const l=o.length;let d=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;d=!1;break;default:return!1}for(const h of o)if(!(typeof h=="number"||d&&h===null))return!1;return!0}function vn(u,e,t){return Math.min(Math.max(u,e),t)}function RS(u){return Uint8Array.prototype.toBase64?u.toBase64():btoa(NS(u))}function y2(u){return Uint8Array.fromBase64?Uint8Array.fromBase64(u):_f(atob(u))}typeof Promise.try!="function"&&(Promise.try=function(u,...e){return new Promise(t=>{t(u(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(u){return u.reduce((e,t)=>e+t,0)});const Gi="http://www.w3.org/2000/svg",ha=class ha{};te(ha,"CSS",96),te(ha,"PDF",72),te(ha,"PDF_TO_CSS_UNITS",ha.CSS/ha.PDF);let Pr=ha;async function ku(u,e="text"){if(wd(u,document.baseURI)){const t=await fetch(u);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",u,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Cf{constructor({viewBox:e,userUnit:t,scale:n,rotation:r,offsetX:o=0,offsetY:l=0,dontFlip:d=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=r,this.offsetX=o,this.offsetY=l,n*=t;const h=(e[2]+e[0])/2,p=(e[3]+e[1])/2;let g,v,w,A;switch(r%=360,r<0&&(r+=360),r){case 180:g=-1,v=0,w=0,A=1;break;case 90:g=0,v=1,w=1,A=0;break;case 270:g=0,v=-1,w=-1,A=0;break;case 0:g=1,v=0,w=0,A=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}d&&(w=-w,A=-A);let E,S,C,N;g===0?(E=Math.abs(p-e[1])*n+o,S=Math.abs(h-e[0])*n+l,C=(e[3]-e[1])*n,N=(e[2]-e[0])*n):(E=Math.abs(h-e[0])*n+o,S=Math.abs(p-e[1])*n+l,C=(e[2]-e[0])*n,N=(e[3]-e[1])*n),this.transform=[g*n,v*n,w*n,A*n,E-g*n*h-w*n*p,S-v*n*h-A*n*p],this.width=C,this.height=N}get rawDims(){const e=this.viewBox;return Oe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new Cf({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}convertToViewportPoint(e,t){const n=[e,t];return we.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];we.applyTransform(t,this.transform);const n=[e[2],e[3]];return we.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return we.applyInverseTransform(n,this.transform),n}}class wm extends Cl{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function kf(u){const e=u.length;let t=0;for(;t<e&&u[t].trim()==="";)t++;return u.substring(t,t+5).toLowerCase()==="data:"}function xm(u){return typeof u=="string"&&/\.pdf$/i.test(u)}function LS(u){return[u]=u.split(/[#?]/,1),u.substring(u.lastIndexOf("/")+1)}function MS(u,e="document.pdf"){if(typeof u!="string")return e;if(kf(u))return Ne('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(d=>{try{return new URL(d)}catch{try{return new URL(decodeURIComponent(d))}catch{try{return new URL(d,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(d),"https://foo.bar")}catch{return null}}}}})(u);if(!n)return e;const r=d=>{try{let h=decodeURIComponent(d);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:d):h}catch{return d}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return r(l);if(n.searchParams.size>0){const d=Array.from(n.searchParams.values()).reverse();for(const p of d)if(o.test(p))return r(p);const h=Array.from(n.searchParams.keys()).reverse();for(const p of h)if(o.test(p))return r(p)}if(n.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(h)return r(h[0])}return e}class G1{constructor(){te(this,"started",Object.create(null));te(this,"times",[])}time(e){e in this.started&&Ne(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ne(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-r}ms
`);return e.join("")}}function wd(u,e){const t=e?URL.parse(u,e):URL.parse(u);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Ls(u){u.preventDefault()}function Nt(u){u.preventDefault(),u.stopPropagation()}function w2(u){console.log("Deprecated API usage: "+u)}var Kd;class bm{static toDateObject(e){if(!e||typeof e!="string")return null;a(this,Kd)||b(this,Kd,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=a(this,Kd).exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let d=parseInt(t[5],10);d=d>=0&&d<=59?d:0;let h=parseInt(t[6],10);h=h>=0&&h<=59?h:0;const p=t[7]||"Z";let g=parseInt(t[8],10);g=g>=0&&g<=23?g:0;let v=parseInt(t[9],10)||0;return v=v>=0&&v<=59?v:0,p==="-"?(l+=g,d+=v):p==="+"&&(l-=g,d-=v),new Date(Date.UTC(n,r,o,l,d,h))}}Kd=new WeakMap,_(bm,Kd);function IS(u,{scale:e=1,rotation:t=0}){const{width:n,height:r}=u.attributes.style,o=[0,0,parseInt(n),parseInt(r)];return new Cf({viewBox:o,userUnit:1,scale:e,rotation:t})}function mw(u){if(u.startsWith("#")){const e=parseInt(u.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return u.startsWith("rgb(")?u.slice(4,-1).split(",").map(e=>parseInt(e)):u.startsWith("rgba(")?u.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ne(`Not a valid color format: "${u}"`),[0,0,0])}function x2(u){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of u.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;u.set(t,mw(n))}e.remove()}function yt(u){const{a:e,b:t,c:n,d:r,e:o,f:l}=u.getTransform();return[e,t,n,r,o,l]}function hi(u){const{a:e,b:t,c:n,d:r,e:o,f:l}=u.getTransform().invertSelf();return[e,t,n,r,o,l]}function $o(u,e,t=!1,n=!0){if(e instanceof Cf){const{pageWidth:r,pageHeight:o}=e.rawDims,{style:l}=u,d=Qt.isCSSRoundSupported,h=`var(--total-scale-factor) * ${r}px`,p=`var(--total-scale-factor) * ${o}px`,g=d?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,v=d?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!t||e.rotation%180===0?(l.width=g,l.height=v):(l.width=v,l.height=g)}n&&u.setAttribute("data-main-rotation",e.rotation)}class si{constructor(){const{pixelRatio:e}=si;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,r,o=-1){let l=1/0,d=1/0,h=1/0;n=si.capPixels(n,o),n>0&&(l=Math.sqrt(n/(e*t))),r!==-1&&(d=r/e,h=r/t);const p=Math.min(l,d,h);return this.sx>p||this.sy>p?(this.sx=p,this.sy=p,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const Hg=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var so,pa,As,io,Yd,mc,Qd,qg,DS,Tn,jS,FS,xd,og;const Ki=class Ki{constructor(e){_(this,Tn);_(this,so,null);_(this,pa,null);_(this,As);_(this,io,null);_(this,Yd,null);_(this,mc,null);b(this,As,e),a(Ki,Qd)||b(Ki,Qd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=b(this,so,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=a(this,As)._uiManager._signal;e.addEventListener("contextmenu",Ls,{signal:t}),e.addEventListener("pointerdown",k(Ki,qg,DS),{signal:t});const n=b(this,io,document.createElement("div"));n.className="buttons",e.append(n);const r=a(this,As).toolbarPosition;if(r){const{style:o}=e,l=a(this,As)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return a(this,so)}hide(){var e;a(this,so).classList.add("hidden"),(e=a(this,pa))==null||e.hideDropdown()}show(){var e;a(this,so).classList.remove("hidden"),(e=a(this,Yd))==null||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=a(this,As),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",a(Ki,Qd)[e]),k(this,Tn,xd).call(this,n),n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),a(this,io).append(n)}async addAltText(e){const t=await e.render();k(this,Tn,xd).call(this,t),a(this,io).append(t,a(this,Tn,og)),b(this,Yd,e)}addColorPicker(e){b(this,pa,e);const t=e.renderButton();k(this,Tn,xd).call(this,t),a(this,io).append(t,a(this,Tn,og))}async addEditSignatureButton(e){const t=b(this,mc,await e.renderEditButton(a(this,As)));k(this,Tn,xd).call(this,t),a(this,io).append(t,a(this,Tn,og))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){a(this,mc)&&(a(this,mc).title=e)}remove(){var e;a(this,so).remove(),(e=a(this,pa))==null||e.destroy(),b(this,pa,null)}};so=new WeakMap,pa=new WeakMap,As=new WeakMap,io=new WeakMap,Yd=new WeakMap,mc=new WeakMap,Qd=new WeakMap,qg=new WeakSet,DS=function(e){e.stopPropagation()},Tn=new WeakSet,jS=function(e){a(this,As)._focusEventsAllowed=!1,Nt(e)},FS=function(e){a(this,As)._focusEventsAllowed=!0,Nt(e)},xd=function(e){const t=a(this,As)._uiManager._signal;e.addEventListener("focusin",k(this,Tn,jS).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",k(this,Tn,FS).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ls,{signal:t})},og=function(){const e=document.createElement("div");return e.className="divider",e},_(Ki,qg),_(Ki,Qd,null);let Gy=Ki;var Jd,ga,ma,Vo,OS,zS,BS;class b2{constructor(e){_(this,Vo);_(this,Jd,null);_(this,ga,null);_(this,ma);b(this,ma,e)}show(e,t,n){const[r,o]=k(this,Vo,zS).call(this,t,n),{style:l}=a(this,ga)||b(this,ga,k(this,Vo,OS).call(this));e.append(a(this,ga)),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){a(this,ga).remove()}}Jd=new WeakMap,ga=new WeakMap,ma=new WeakMap,Vo=new WeakSet,OS=function(){const e=b(this,ga,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ls,{signal:a(this,ma)._signal});const t=b(this,Jd,document.createElement("div"));return t.className="buttons",e.append(t),k(this,Vo,BS).call(this),e},zS=function(e,t){let n=0,r=0;for(const o of e){const l=o.y+o.height;if(l<n)continue;const d=o.x+(t?o.width:0);if(l>n){r=d,n=l;continue}t?d>r&&(r=d):d<r&&(r=d)}return[t?1-r:r,n]},BS=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=a(this,ma)._signal;e.addEventListener("contextmenu",Ls,{signal:n}),e.addEventListener("click",()=>{a(this,ma).highlightSelection("floating_button")},{signal:n}),a(this,Jd).append(e)};function HS(u,e,t){for(const n of t)e.addEventListener(n,u[n].bind(u))}var Kg;class A2{constructor(){_(this,Kg,0)}get id(){return`${CS}${bn(this,Kg)._++}`}}Kg=new WeakMap;var vc,Zd,pn,yc,ag;const kw=class kw{constructor(){_(this,yc);_(this,vc,pw());_(this,Zd,0);_(this,pn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const o=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Oe(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:o}=e;return k(this,yc,ag).call(this,`${t}_${n}_${r}_${o}`,e)}async getFromUrl(e){return k(this,yc,ag).call(this,e,e)}async getFromBlob(e,t){const n=await t;return k(this,yc,ag).call(this,e,n)}async getFromId(e){a(this,pn)||b(this,pn,new Map);const t=a(this,pn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){a(this,pn)||b(this,pn,new Map);let n=a(this,pn).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${a(this,vc)}_${bn(this,Zd)._++}`,refCounter:1,isSvg:!1},a(this,pn).set(e,n),a(this,pn).set(n.id,n),n}getSvgUrl(e){const t=a(this,pn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;a(this,pn)||b(this,pn,new Map);const t=a(this,pn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=o.convertToBlob()}(r=n.close)==null||r.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${a(this,vc)}_`)}};vc=new WeakMap,Zd=new WeakMap,pn=new WeakMap,yc=new WeakSet,ag=async function(e,t){a(this,pn)||b(this,pn,new Map);let n=a(this,pn).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${a(this,vc)}_${bn(this,Zd)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(n.url=t,r=await ku(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const o=kw._isSVGFittingCanvas,l=new FileReader,d=new Image,h=new Promise((p,g)=>{d.onload=()=>{n.bitmap=d,n.isSvg=!0,p()},l.onload=async()=>{const v=n.svgUrl=l.result;d.src=await o?`${v}#svgView(preserveAspectRatio(none))`:v},d.onerror=l.onerror=g});l.readAsDataURL(r),await h}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){Ne(r),n=null}return a(this,pn).set(e,n),n&&a(this,pn).set(n.id,n),n};let Xy=kw;var kt,ro,eh,vt;class S2{constructor(e=128){_(this,kt,[]);_(this,ro,!1);_(this,eh);_(this,vt,-1);b(this,eh,e)}add({cmd:e,undo:t,post:n,mustExec:r,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:d=!1}){if(r&&e(),a(this,ro))return;const h={cmd:e,undo:t,post:n,type:o};if(a(this,vt)===-1){a(this,kt).length>0&&(a(this,kt).length=0),b(this,vt,0),a(this,kt).push(h);return}if(l&&a(this,kt)[a(this,vt)].type===o){d&&(h.undo=a(this,kt)[a(this,vt)].undo),a(this,kt)[a(this,vt)]=h;return}const p=a(this,vt)+1;p===a(this,eh)?a(this,kt).splice(0,1):(b(this,vt,p),p<a(this,kt).length&&a(this,kt).splice(p)),a(this,kt).push(h)}undo(){if(a(this,vt)===-1)return;b(this,ro,!0);const{undo:e,post:t}=a(this,kt)[a(this,vt)];e(),t==null||t(),b(this,ro,!1),b(this,vt,a(this,vt)-1)}redo(){if(a(this,vt)<a(this,kt).length-1){b(this,vt,a(this,vt)+1),b(this,ro,!0);const{cmd:e,post:t}=a(this,kt)[a(this,vt)];e(),t==null||t(),b(this,ro,!1)}}hasSomethingToUndo(){return a(this,vt)!==-1}hasSomethingToRedo(){return a(this,vt)<a(this,kt).length-1}cleanType(e){if(a(this,vt)!==-1){for(let t=a(this,vt);t>=0;t--)if(a(this,kt)[t].type!==e){a(this,kt).splice(t+1,a(this,vt)-t),b(this,vt,t);return}a(this,kt).length=0,b(this,vt,-1)}}destroy(){b(this,kt,null)}}kt=new WeakMap,ro=new WeakMap,eh=new WeakMap,vt=new WeakMap;var Yg,$S;class Tf{constructor(e){_(this,Yg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Qt.platform;for(const[n,r,o={}]of e)for(const l of n){const d=l.startsWith("mac+");t&&d?(this.callbacks.set(l.slice(4),{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1))):!t&&!d&&(this.callbacks.set(l,{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(k(this,Yg,$S).call(this,t));if(!n)return;const{callback:r,options:{bubbles:o=!1,args:l=[],checker:d=null}}=n;d&&!d(e,t)||(r.bind(e,...l,t)(),o||Nt(t))}}Yg=new WeakSet,$S=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Qg=class Qg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return x2(e),Oe(this,"_colors",e)}convert(e){const t=mw(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((o,l)=>o===t[l]))return Qg._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?we.makeHexColor(...t):e}};te(Qg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let qy=Qg;var wc,Kn,Ot,en,xc,Qi,bc,Ss,oo,ao,Ac,va,gi,Vs,ya,th,nh,Sc,sh,mi,lo,Ec,co,vi,Jg,uo,ih,ho,wa,xa,fo,rh,Vt,Ye,Ji,po,ba,oh,ah,go,yi,Zi,lh,ch,Es,ie,lg,Ky,US,VS,cg,WS,GS,XS,Yy,qS,Qy,Jy,KS,An,Xi,YS,QS,Zy,JS,bd,e0;const cc=class cc{constructor(e,t,n,r,o,l,d,h,p,g,v,w,A,E,S){_(this,ie);_(this,wc,new AbortController);_(this,Kn,null);_(this,Ot,new Map);_(this,en,new Map);_(this,xc,null);_(this,Qi,null);_(this,bc,null);_(this,Ss,new S2);_(this,oo,null);_(this,ao,null);_(this,Ac,0);_(this,va,new Set);_(this,gi,null);_(this,Vs,null);_(this,ya,new Set);te(this,"_editorUndoBar",null);_(this,th,!1);_(this,nh,!1);_(this,Sc,!1);_(this,sh,null);_(this,mi,null);_(this,lo,null);_(this,Ec,null);_(this,co,!1);_(this,vi,null);_(this,Jg,new A2);_(this,uo,!1);_(this,ih,!1);_(this,ho,null);_(this,wa,null);_(this,xa,null);_(this,fo,null);_(this,rh,null);_(this,Vt,Te.NONE);_(this,Ye,new Set);_(this,Ji,null);_(this,po,null);_(this,ba,null);_(this,oh,null);_(this,ah,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});_(this,go,[0,0]);_(this,yi,null);_(this,Zi,null);_(this,lh,null);_(this,ch,null);_(this,Es,null);const C=this._signal=a(this,wc).signal;b(this,Zi,e),b(this,lh,t),b(this,ch,n),b(this,xc,r),b(this,po,o),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:C}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:C}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:C}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:C}),l._on("setpreference",this.onSetPreference.bind(this),{signal:C}),l._on("switchannotationeditorparams",N=>this.updateParams(N.type,N.value),{signal:C}),k(this,ie,WS).call(this),k(this,ie,KS).call(this),k(this,ie,Yy).call(this),b(this,Qi,d.annotationStorage),b(this,sh,d.filterFactory),b(this,ba,h),b(this,Ec,p||null),b(this,th,g),b(this,nh,v),b(this,Sc,w),b(this,rh,A||null),this.viewParameters={realScale:Pr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=E||null,this._supportsPinchToZoom=S!==!1}static get _keyboardManager(){const e=cc.prototype,t=l=>a(l,Zi).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:d})=>{if(d instanceof HTMLInputElement){const{type:h}=d;return h!=="text"&&h!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Oe(this,"_keyboardManager",new Tf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:d})=>!(d instanceof HTMLButtonElement)&&a(l,Zi).contains(d)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:d})=>!(d instanceof HTMLButtonElement)&&a(l,Zi).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,n,r,o,l,d,h;(e=a(this,Es))==null||e.resolve(),b(this,Es,null),(t=a(this,wc))==null||t.abort(),b(this,wc,null),this._signal=null;for(const p of a(this,en).values())p.destroy();a(this,en).clear(),a(this,Ot).clear(),a(this,ya).clear(),(n=a(this,fo))==null||n.clear(),b(this,Kn,null),a(this,Ye).clear(),a(this,Ss).destroy(),(r=a(this,xc))==null||r.destroy(),(o=a(this,po))==null||o.destroy(),(l=a(this,vi))==null||l.hide(),b(this,vi,null),(d=a(this,xa))==null||d.destroy(),b(this,xa,null),a(this,mi)&&(clearTimeout(a(this,mi)),b(this,mi,null)),a(this,yi)&&(clearTimeout(a(this,yi)),b(this,yi,null)),(h=this._editorUndoBar)==null||h.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return a(this,rh)}get useNewAltTextFlow(){return a(this,nh)}get useNewAltTextWhenAddingImage(){return a(this,Sc)}get hcmFilter(){return Oe(this,"hcmFilter",a(this,ba)?a(this,sh).addHCMFilter(a(this,ba).foreground,a(this,ba).background):"none")}get direction(){return Oe(this,"direction",getComputedStyle(a(this,Zi)).direction)}get highlightColors(){return Oe(this,"highlightColors",a(this,Ec)?new Map(a(this,Ec).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return Oe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),b(this,ao,e)}setMainHighlightColorPicker(e){b(this,xa,e)}editAltText(e,t=!1){var n;(n=a(this,xc))==null||n.editAltText(this,e,t)}getSignature(e){var t;(t=a(this,po))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return a(this,po)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":b(this,Sc,t);break}}onPageChanging({pageNumber:e}){b(this,Ac,e-1)}focusMainContainer(){a(this,Zi).focus()}findParent(e,t){for(const n of a(this,en).values()){const{x:r,y:o,width:l,height:d}=n.div.getBoundingClientRect();if(e>=r&&e<=r+l&&t>=o&&t<=o+d)return n}return null}disableUserSelect(e=!1){a(this,lh).classList.toggle("noUserSelect",e)}addShouldRescale(e){a(this,ya).add(e)}removeShouldRescale(e){a(this,ya).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Pr.PDF_TO_CSS_UNITS;for(const n of a(this,ya))n.onScaleChanging();(t=a(this,ao))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l}=t,d=t.toString(),p=k(this,ie,lg).call(this,t).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;t.empty();const v=k(this,ie,Ky).call(this,p),w=a(this,Vt)===Te.NONE,A=()=>{v==null||v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:g,anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l,text:d}),w&&this.showAllEditors("highlight",!0,!0)};if(w){this.switchToMode(Te.HIGHLIGHT,A);return}A()}addToAnnotationStorage(e){!e.isEmpty()&&a(this,Qi)&&!a(this,Qi).has(e.id)&&a(this,Qi).setValue(e.id,e)}a11yAlert(e,t=null){const n=a(this,ch);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,a(this,co)&&(b(this,co,!1),k(this,ie,cg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of a(this,Ye))if(t.div.contains(e)){b(this,wa,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!a(this,wa))return;const[e,t]=a(this,wa);b(this,wa,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){k(this,ie,Yy).call(this),k(this,ie,Qy).call(this)}removeEditListeners(){k(this,ie,qS).call(this),k(this,ie,Jy).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of a(this,Vs))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of a(this,Vs))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=a(this,Kn))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of a(this,Ye)){const o=r.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const l of a(this,Vs))if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Ne(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const h of n){const p=await r.deserialize(h);if(!p)return;o.push(p)}const l=()=>{for(const h of o)k(this,ie,Zy).call(this,h);k(this,ie,e0).call(this,o)},d=()=>{for(const h of o)h.remove()};this.addCommands({cmd:l,undo:d,mustExec:!0})}catch(o){Ne(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),a(this,Vt)!==Te.NONE&&!this.isEditorHandlingKeyboard&&cc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,a(this,co)&&(b(this,co,!1),k(this,ie,cg).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(k(this,ie,GS).call(this),k(this,ie,Qy).call(this),k(this,ie,An).call(this,{isEditing:a(this,Vt)!==Te.NONE,isEmpty:k(this,ie,bd).call(this),hasSomethingToUndo:a(this,Ss).hasSomethingToUndo(),hasSomethingToRedo:a(this,Ss).hasSomethingToRedo(),hasSelectedEditor:!1})):(k(this,ie,XS).call(this),k(this,ie,Jy).call(this),k(this,ie,An).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!a(this,Vs)){b(this,Vs,e);for(const t of a(this,Vs))k(this,ie,Xi).call(this,t.defaultPropertiesToUpdate)}}getId(){return a(this,Jg).id}get currentLayer(){return a(this,en).get(a(this,Ac))}getLayer(e){return a(this,en).get(e)}get currentPageIndex(){return a(this,Ac)}addLayer(e){a(this,en).set(e.pageIndex,e),a(this,uo)?e.enable():e.disable()}removeLayer(e){a(this,en).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,r=!1){var o,l,d;if(a(this,Vt)!==e&&!(a(this,Es)&&(await a(this,Es).promise,!a(this,Es)))){if(b(this,Es,Promise.withResolvers()),(o=a(this,ao))==null||o.commitOrRemove(),b(this,Vt,e),e===Te.NONE){this.setEditingState(!1),k(this,ie,QS).call(this),(l=this._editorUndoBar)==null||l.hide(),a(this,Es).resolve();return}e===Te.SIGNATURE&&await((d=a(this,po))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await k(this,ie,YS).call(this),this.unselectAll();for(const h of a(this,en).values())h.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),a(this,Es).resolve();return}for(const h of a(this,Ot).values())h.annotationElementId===t||h.id===t?(this.setSelected(h),r&&h.enterInEditMode()):h.unselect();a(this,Es).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==a(this,Vt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){var n;if(a(this,Vs)){switch(e){case He.CREATE:this.currentLayer.addNewEditor(t);return;case He.HIGHLIGHT_DEFAULT_COLOR:(n=a(this,xa))==null||n.updateColor(t);break;case He.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(a(this,oh)||b(this,oh,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of a(this,Ye))r.updateParams(e,t);for(const r of a(this,Vs))r.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var o;for(const l of a(this,Ot).values())l.editorType===e&&l.show(t);(((o=a(this,oh))==null?void 0:o.get(He.HIGHLIGHT_SHOW_ALL))??!0)!==t&&k(this,ie,Xi).call(this,[[He.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(a(this,ih)!==e){b(this,ih,e);for(const t of a(this,en).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of a(this,Ot).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return a(this,Ot).get(e)}addEditor(e){a(this,Ot).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(a(this,mi)&&clearTimeout(a(this,mi)),b(this,mi,setTimeout(()=>{this.focusMainContainer(),b(this,mi,null)},0))),a(this,Ot).delete(e.id),e.annotationElementId&&((t=a(this,fo))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!a(this,va).has(e.annotationElementId))&&((n=a(this,Qi))==null||n.remove(e.id))}addDeletedAnnotationElement(e){a(this,va).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return a(this,va).has(e)}removeDeletedAnnotationElement(e){a(this,va).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){a(this,Kn)!==e&&(b(this,Kn,e),e&&k(this,ie,Xi).call(this,e.propertiesToUpdate))}updateUI(e){a(this,ie,JS)===e&&k(this,ie,Xi).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){k(this,ie,Xi).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(a(this,Ye).has(e)){a(this,Ye).delete(e),e.unselect(),k(this,ie,An).call(this,{hasSelectedEditor:this.hasSelection});return}a(this,Ye).add(e),e.select(),k(this,ie,Xi).call(this,e.propertiesToUpdate),k(this,ie,An).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=a(this,ao))==null||t.commitOrRemove();for(const n of a(this,Ye))n!==e&&n.unselect();a(this,Ye).clear(),a(this,Ye).add(e),e.select(),k(this,ie,Xi).call(this,e.propertiesToUpdate),k(this,ie,An).call(this,{hasSelectedEditor:!0})}isSelected(e){return a(this,Ye).has(e)}get firstSelectedEditor(){return a(this,Ye).values().next().value}unselect(e){e.unselect(),a(this,Ye).delete(e),k(this,ie,An).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return a(this,Ye).size!==0}get isEnterHandled(){return a(this,Ye).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;a(this,Ss).undo(),k(this,ie,An).call(this,{hasSomethingToUndo:a(this,Ss).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:k(this,ie,bd).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){a(this,Ss).redo(),k(this,ie,An).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:a(this,Ss).hasSomethingToRedo(),isEmpty:k(this,ie,bd).call(this)})}addCommands(e){a(this,Ss).add(e),k(this,ie,An).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:k(this,ie,bd).call(this)})}cleanUndoStack(e){a(this,Ss).cleanType(e)}delete(){var o;this.commitOrRemove();const e=(o=this.currentLayer)==null?void 0:o.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...a(this,Ye)],n=()=>{var l;(l=this._editorUndoBar)==null||l.show(r,t.length===1?t[0].editorType:t.length);for(const d of t)d.remove()},r=()=>{for(const l of t)k(this,ie,Zy).call(this,l)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=a(this,Kn))==null||e.commitOrRemove()}hasSomethingToControl(){return a(this,Kn)||this.hasSelection}selectAll(){for(const e of a(this,Ye))e.commit();k(this,ie,e0).call(this,a(this,Ot).values())}unselectAll(){var e;if(!(a(this,Kn)&&(a(this,Kn).commitOrRemove(),a(this,Vt)!==Te.NONE))&&!((e=a(this,ao))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of a(this,Ye))t.unselect();a(this,Ye).clear(),k(this,ie,An).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;a(this,go)[0]+=e,a(this,go)[1]+=t;const[r,o]=a(this,go),l=[...a(this,Ye)],d=1e3;a(this,yi)&&clearTimeout(a(this,yi)),b(this,yi,setTimeout(()=>{b(this,yi,null),a(this,go)[0]=a(this,go)[1]=0,this.addCommands({cmd:()=>{for(const h of l)a(this,Ot).has(h.id)&&(h.translateInPage(r,o),h.translationDone())},undo:()=>{for(const h of l)a(this,Ot).has(h.id)&&(h.translateInPage(-r,-o),h.translationDone())},mustExec:!1})},d));for(const h of l)h.translateInPage(e,t),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,gi,new Map);for(const e of a(this,Ye))a(this,gi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!a(this,gi))return!1;this.disableUserSelect(!1);const e=a(this,gi);b(this,gi,null);let t=!1;for(const[{x:r,y:o,pageIndex:l},d]of e)d.newX=r,d.newY=o,d.newPageIndex=l,t||(t=r!==d.savedX||o!==d.savedY||l!==d.savedPageIndex);if(!t)return!1;const n=(r,o,l,d)=>{if(a(this,Ot).has(r.id)){const h=a(this,en).get(d);h?r._setParentAndPosition(h,o,l):(r.pageIndex=d,r.x=o,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:l,newPageIndex:d}]of e)n(r,o,l,d)},undo:()=>{for(const[r,{savedX:o,savedY:l,savedPageIndex:d}]of e)n(r,o,l,d)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(a(this,gi))for(const n of a(this,gi).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||a(this,Ye).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return a(this,Kn)===e}getActive(){return a(this,Kn)}getMode(){return a(this,Vt)}get imageManager(){return Oe(this,"imageManager",new Xy)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let p=0,g=t.rangeCount;p<g;p++)if(!e.contains(t.getRangeAt(p).commonAncestorContainer))return null;const{x:n,y:r,width:o,height:l}=e.getBoundingClientRect();let d;switch(e.getAttribute("data-main-rotation")){case"90":d=(p,g,v,w)=>({x:(g-r)/l,y:1-(p+v-n)/o,width:w/l,height:v/o});break;case"180":d=(p,g,v,w)=>({x:1-(p+v-n)/o,y:1-(g+w-r)/l,width:v/o,height:w/l});break;case"270":d=(p,g,v,w)=>({x:1-(g+w-r)/l,y:(p-n)/o,width:w/l,height:v/o});break;default:d=(p,g,v,w)=>({x:(p-n)/o,y:(g-r)/l,width:v/o,height:w/l});break}const h=[];for(let p=0,g=t.rangeCount;p<g;p++){const v=t.getRangeAt(p);if(!v.collapsed)for(const{x:w,y:A,width:E,height:S}of v.getClientRects())E===0||S===0||h.push(d(w,A,E,S))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:e,id:t}){(a(this,bc)||b(this,bc,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=a(this,bc))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=a(this,bc))==null?void 0:r.get(e.data.id);if(!t)return;const n=a(this,Qi).getRawValue(t);n&&(a(this,Vt)===Te.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var o;const r=(o=a(this,fo))==null?void 0:o.get(e);r&&(r.setCanvas(t,n),a(this,fo).delete(e))}addMissingCanvas(e,t){(a(this,fo)||b(this,fo,new Map)).set(e,t)}};wc=new WeakMap,Kn=new WeakMap,Ot=new WeakMap,en=new WeakMap,xc=new WeakMap,Qi=new WeakMap,bc=new WeakMap,Ss=new WeakMap,oo=new WeakMap,ao=new WeakMap,Ac=new WeakMap,va=new WeakMap,gi=new WeakMap,Vs=new WeakMap,ya=new WeakMap,th=new WeakMap,nh=new WeakMap,Sc=new WeakMap,sh=new WeakMap,mi=new WeakMap,lo=new WeakMap,Ec=new WeakMap,co=new WeakMap,vi=new WeakMap,Jg=new WeakMap,uo=new WeakMap,ih=new WeakMap,ho=new WeakMap,wa=new WeakMap,xa=new WeakMap,fo=new WeakMap,rh=new WeakMap,Vt=new WeakMap,Ye=new WeakMap,Ji=new WeakMap,po=new WeakMap,ba=new WeakMap,oh=new WeakMap,ah=new WeakMap,go=new WeakMap,yi=new WeakMap,Zi=new WeakMap,lh=new WeakMap,ch=new WeakMap,Es=new WeakMap,ie=new WeakSet,lg=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Ky=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of a(this,en).values())if(n.hasTextLayer(e))return n;return null},US=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=k(this,ie,lg).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(a(this,vi)||b(this,vi,new b2(this)),a(this,vi).show(n,r,this.direction==="ltr"))},VS=function(){var o,l,d;const e=document.getSelection();if(!e||e.isCollapsed){a(this,Ji)&&((o=a(this,vi))==null||o.hide(),b(this,Ji,null),k(this,ie,An).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===a(this,Ji))return;const r=k(this,ie,lg).call(this,e).closest(".textLayer");if(!r){a(this,Ji)&&((l=a(this,vi))==null||l.hide(),b(this,Ji,null),k(this,ie,An).call(this,{hasSelectedText:!1}));return}if((d=a(this,vi))==null||d.hide(),b(this,Ji,t),k(this,ie,An).call(this,{hasSelectedText:!0}),!(a(this,Vt)!==Te.HIGHLIGHT&&a(this,Vt)!==Te.NONE)&&(a(this,Vt)===Te.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,co,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=a(this,Vt)===Te.HIGHLIGHT?k(this,ie,Ky).call(this,r):null;h==null||h.toggleDrawing();const p=new AbortController,g=this.combinedSignal(p),v=w=>{w.type==="pointerup"&&w.button!==0||(p.abort(),h==null||h.toggleDrawing(!0),w.type==="pointerup"&&k(this,ie,cg).call(this,"main_toolbar"))};window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("blur",v,{signal:g})}},cg=function(e=""){a(this,Vt)===Te.HIGHLIGHT?this.highlightSelection(e):a(this,th)&&k(this,ie,US).call(this)},WS=function(){document.addEventListener("selectionchange",k(this,ie,VS).bind(this),{signal:this._signal})},GS=function(){if(a(this,lo))return;b(this,lo,new AbortController);const e=this.combinedSignal(a(this,lo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},XS=function(){var e;(e=a(this,lo))==null||e.abort(),b(this,lo,null)},Yy=function(){if(a(this,ho))return;b(this,ho,new AbortController);const e=this.combinedSignal(a(this,ho));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},qS=function(){var e;(e=a(this,ho))==null||e.abort(),b(this,ho,null)},Qy=function(){if(a(this,oo))return;b(this,oo,new AbortController);const e=this.combinedSignal(a(this,oo));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Jy=function(){var e;(e=a(this,oo))==null||e.abort(),b(this,oo,null)},KS=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},An=function(e){Object.entries(e).some(([n,r])=>a(this,ah)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(a(this,ah),e)}),a(this,Vt)===Te.HIGHLIGHT&&e.hasSelectedEditor===!1&&k(this,ie,Xi).call(this,[[He.HIGHLIGHT_FREE,!0]]))},Xi=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},YS=async function(){if(!a(this,uo)){b(this,uo,!0);const e=[];for(const t of a(this,en).values())e.push(t.enable());await Promise.all(e);for(const t of a(this,Ot).values())t.enable()}},QS=function(){if(this.unselectAll(),a(this,uo)){b(this,uo,!1);for(const e of a(this,en).values())e.disable();for(const e of a(this,Ot).values())e.disable()}},Zy=function(e){const t=a(this,en).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},JS=function(){let e=null;for(e of a(this,Ye));return e},bd=function(){if(a(this,Ot).size===0)return!0;if(a(this,Ot).size===1)for(const e of a(this,Ot).values())return e.isEmpty();return!1},e0=function(e){for(const t of a(this,Ye))t.unselect();a(this,Ye).clear();for(const t of e)t.isEmpty()||(a(this,Ye).add(t),t.select());k(this,ie,An).call(this,{hasSelectedEditor:this.hasSelection})},te(cc,"TRANSLATE_SMALL",1),te(cc,"TRANSLATE_BIG",10);let Uo=cc;var Wt,wi,Ws,_c,xi,Yn,Cc,bi,Bn,er,Aa,Ai,mo,ni,Ad,ug;const Sn=class Sn{constructor(e){_(this,ni);_(this,Wt,null);_(this,wi,!1);_(this,Ws,null);_(this,_c,null);_(this,xi,null);_(this,Yn,null);_(this,Cc,!1);_(this,bi,null);_(this,Bn,null);_(this,er,null);_(this,Aa,null);_(this,Ai,!1);b(this,Bn,e),b(this,Ai,e._uiManager.useNewAltTextFlow),a(Sn,mo)||b(Sn,mo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Sn._l10n??(Sn._l10n=e)}async render(){const e=b(this,Ws,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=b(this,_c,document.createElement("span"));e.append(t),a(this,Ai)?(e.classList.add("new"),e.setAttribute("data-l10n-id",a(Sn,mo).missing),t.setAttribute("data-l10n-id",a(Sn,mo)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=a(this,Bn)._uiManager._signal;e.addEventListener("contextmenu",Ls,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),a(this,Bn)._uiManager.editAltText(a(this,Bn)),a(this,Ai)&&a(this,Bn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:a(this,ni,Ad)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(b(this,Cc,!0),r(o))},{signal:n}),await k(this,ni,ug).call(this),e}finish(){a(this,Ws)&&(a(this,Ws).focus({focusVisible:a(this,Cc)}),b(this,Cc,!1))}isEmpty(){return a(this,Ai)?a(this,Wt)===null:!a(this,Wt)&&!a(this,wi)}hasData(){return a(this,Ai)?a(this,Wt)!==null||!!a(this,er):this.isEmpty()}get guessedText(){return a(this,er)}async setGuessedText(e){a(this,Wt)===null&&(b(this,er,e),b(this,Aa,await Sn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),k(this,ni,ug).call(this))}toggleAltTextBadge(e=!1){var t;if(!a(this,Ai)||a(this,Wt)){(t=a(this,bi))==null||t.remove(),b(this,bi,null);return}if(!a(this,bi)){const n=b(this,bi,document.createElement("div"));n.className="noAltTextBadge",a(this,Bn).div.append(n)}a(this,bi).classList.toggle("hidden",!e)}serialize(e){let t=a(this,Wt);return!e&&a(this,er)===t&&(t=a(this,Aa)),{altText:t,decorative:a(this,wi),guessedText:a(this,er),textWithDisclaimer:a(this,Aa)}}get data(){return{altText:a(this,Wt),decorative:a(this,wi)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:o=!1}){n&&(b(this,er,n),b(this,Aa,r)),!(a(this,Wt)===e&&a(this,wi)===t)&&(o||(b(this,Wt,e),b(this,wi,t)),k(this,ni,ug).call(this))}toggle(e=!1){a(this,Ws)&&(!e&&a(this,Yn)&&(clearTimeout(a(this,Yn)),b(this,Yn,null)),a(this,Ws).disabled=!e)}shown(){a(this,Bn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:a(this,ni,Ad)}})}destroy(){var e,t;(e=a(this,Ws))==null||e.remove(),b(this,Ws,null),b(this,_c,null),b(this,xi,null),(t=a(this,bi))==null||t.remove(),b(this,bi,null)}};Wt=new WeakMap,wi=new WeakMap,Ws=new WeakMap,_c=new WeakMap,xi=new WeakMap,Yn=new WeakMap,Cc=new WeakMap,bi=new WeakMap,Bn=new WeakMap,er=new WeakMap,Aa=new WeakMap,Ai=new WeakMap,mo=new WeakMap,ni=new WeakSet,Ad=function(){return a(this,Wt)&&"added"||a(this,Wt)===null&&this.guessedText&&"review"||"missing"},ug=async function(){var r,o,l;const e=a(this,Ws);if(!e)return;if(a(this,Ai)){if(e.classList.toggle("done",!!a(this,Wt)),e.setAttribute("data-l10n-id",a(Sn,mo)[a(this,ni,Ad)]),(r=a(this,_c))==null||r.setAttribute("data-l10n-id",a(Sn,mo)[`${a(this,ni,Ad)}-label`]),!a(this,Wt)){(o=a(this,xi))==null||o.remove();return}}else{if(!a(this,Wt)&&!a(this,wi)){e.classList.remove("done"),(l=a(this,xi))==null||l.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=a(this,xi);if(!t){b(this,xi,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${a(this,Bn).id}`;const d=100,h=a(this,Bn)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(a(this,Yn)),b(this,Yn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{b(this,Yn,setTimeout(()=>{b(this,Yn,null),a(this,xi).classList.add("show"),a(this,Bn)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:h}),e.addEventListener("mouseleave",()=>{var p;a(this,Yn)&&(clearTimeout(a(this,Yn)),b(this,Yn,null)),(p=a(this,xi))==null||p.classList.remove("show")},{signal:h})}a(this,wi)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=a(this,Wt)),t.parentNode||e.append(t);const n=a(this,Bn).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},_(Sn,mo,null),te(Sn,"_l10n",null);let $g=Sn;var kc,Sa,uh,dh,hh,fh,ph,tr,Ea,nr,_a,sr,Wo,ZS,eE,tE;const Tw=class Tw{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:o=null,onPinchEnd:l=null,signal:d}){_(this,Wo);_(this,kc);_(this,Sa,!1);_(this,uh,null);_(this,dh);_(this,hh);_(this,fh);_(this,ph);_(this,tr,null);_(this,Ea);_(this,nr,null);_(this,_a);_(this,sr,null);b(this,kc,e),b(this,uh,n),b(this,dh,t),b(this,hh,r),b(this,fh,o),b(this,ph,l),b(this,_a,new AbortController),b(this,Ea,AbortSignal.any([d,a(this,_a).signal])),e.addEventListener("touchstart",k(this,Wo,ZS).bind(this),{passive:!1,signal:a(this,Ea)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/si.pixelRatio}destroy(){var e,t;(e=a(this,_a))==null||e.abort(),b(this,_a,null),(t=a(this,tr))==null||t.abort(),b(this,tr,null)}};kc=new WeakMap,Sa=new WeakMap,uh=new WeakMap,dh=new WeakMap,hh=new WeakMap,fh=new WeakMap,ph=new WeakMap,tr=new WeakMap,Ea=new WeakMap,nr=new WeakMap,_a=new WeakMap,sr=new WeakMap,Wo=new WeakSet,ZS=function(e){var r,o,l;if((r=a(this,dh))!=null&&r.call(this))return;if(e.touches.length===1){if(a(this,tr))return;const d=b(this,tr,new AbortController),h=AbortSignal.any([a(this,Ea),d.signal]),p=a(this,kc),g={capture:!0,signal:h,passive:!1},v=w=>{var A;w.pointerType==="touch"&&((A=a(this,tr))==null||A.abort(),b(this,tr,null))};p.addEventListener("pointerdown",w=>{w.pointerType==="touch"&&(Nt(w),v(w))},g),p.addEventListener("pointerup",v,g),p.addEventListener("pointercancel",v,g);return}if(!a(this,sr)){b(this,sr,new AbortController);const d=AbortSignal.any([a(this,Ea),a(this,sr).signal]),h=a(this,kc),p={signal:d,capture:!1,passive:!1};h.addEventListener("touchmove",k(this,Wo,eE).bind(this),p);const g=k(this,Wo,tE).bind(this);h.addEventListener("touchend",g,p),h.addEventListener("touchcancel",g,p),p.capture=!0,h.addEventListener("pointerdown",Nt,p),h.addEventListener("pointermove",Nt,p),h.addEventListener("pointercancel",Nt,p),h.addEventListener("pointerup",Nt,p),(o=a(this,hh))==null||o.call(this)}if(Nt(e),e.touches.length!==2||(l=a(this,uh))!=null&&l.call(this)){b(this,nr,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),b(this,nr,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},eE=function(e){var L;if(!a(this,nr)||e.touches.length!==2)return;Nt(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:r,screenY:o}=t,{screenX:l,screenY:d}=n,h=a(this,nr),{touch0X:p,touch0Y:g,touch1X:v,touch1Y:w}=h,A=v-p,E=w-g,S=l-r,C=d-o,N=Math.hypot(S,C)||1,R=Math.hypot(A,E)||1;if(!a(this,Sa)&&Math.abs(R-N)<=Tw.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=r,h.touch0Y=o,h.touch1X=l,h.touch1Y=d,!a(this,Sa)){b(this,Sa,!0);return}const P=[(r+l)/2,(o+d)/2];(L=a(this,fh))==null||L.call(this,P,R,N)},tE=function(e){var t;e.touches.length>=2||(a(this,sr)&&(a(this,sr).abort(),b(this,sr,null),(t=a(this,ph))==null||t.call(this)),a(this,nr)&&(Nt(e),b(this,nr,null),b(this,Sa,!1)))};let Vd=Tw;var Ca,Gs,dt,Tc,vo,gh,ka,tn,Ta,ir,yo,mh,Na,Qn,vh,Pa,rr,Si,Nc,Pc,_s,Ra,yh,Zg,Ee,t0,wh,n0,dg,nE,sE,s0,hg,i0,iE,rE,oE,r0,aE,o0,lE,cE,uE,a0,Sd;const Ie=class Ie{constructor(e){_(this,Ee);_(this,Ca,null);_(this,Gs,null);_(this,dt,null);_(this,Tc,!1);_(this,vo,null);_(this,gh,"");_(this,ka,!1);_(this,tn,null);_(this,Ta,null);_(this,ir,null);_(this,yo,null);_(this,mh,"");_(this,Na,!1);_(this,Qn,null);_(this,vh,!1);_(this,Pa,!1);_(this,rr,!1);_(this,Si,null);_(this,Nc,0);_(this,Pc,0);_(this,_s,null);_(this,Ra,null);te(this,"isSelected",!1);te(this,"_isCopy",!1);te(this,"_editToolbar",null);te(this,"_initialOptions",Object.create(null));te(this,"_initialData",null);te(this,"_isVisible",!0);te(this,"_uiManager",null);te(this,"_focusEventsAllowed",!0);_(this,yh,!1);_(this,Zg,Ie._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[o,l];const[d,h]=this.parentDimensions;this.x=e.x/d,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ie.prototype._resizeWithKeyboard,t=Uo.TRANSLATE_SMALL,n=Uo.TRANSLATE_BIG;return Oe(this,"_resizerKeyboardManager",new Tf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ie.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Oe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new E2({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ie._l10n??(Ie._l10n=e),Ie._l10nResizer||(Ie._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ie._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ie._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){et("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return a(this,yh)}set _isDraggable(e){var t;b(this,yh,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=a(this,Zg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):k(this,Ee,Sd).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(a(this,Na)?b(this,Na,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[o,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/o,this.y=(t+r)/l,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this._onTranslated()}translate(e,t){k(this,Ee,t0).call(this,this.parentDimensions,e,t)}translateInPage(e,t){a(this,Qn)||b(this,Qn,[this.x,this.y,this.width,this.height]),k(this,Ee,t0).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){a(this,Qn)||b(this,Qn,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[r,o]}=this;if(this.x+=e/r,this.y+=t/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:v,y:w}=this.div.getBoundingClientRect();this.parent.findNewParent(this,v,w)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:d}=this;const[h,p]=this.getBaseTranslation();l+=h,d+=p;const{style:g}=n;g.left=`${(100*l).toFixed(2)}%`,g.top=`${(100*d).toFixed(2)}%`,this._onTranslating(l,d),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!a(this,Qn)&&(a(this,Qn)[0]!==this.x||a(this,Qn)[1]!==this.y)}get _hasBeenResized(){return!!a(this,Qn)&&(a(this,Qn)[2]!==this.width||a(this,Qn)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ie,r=n/e,o=n/t;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,r]}=this;let{x:o,y:l,width:d,height:h}=this;if(d*=n,h*=r,o*=n,l*=r,this._mustFixPosition)switch(e){case 0:o=vn(o,0,n-d),l=vn(l,0,r-h);break;case 90:o=vn(o,0,n-h),l=vn(l,d,r);break;case 180:o=vn(o,d,n),l=vn(l,h,r);break;case 270:o=vn(o,h,n),l=vn(l,0,r-d);break}this.x=o/=n,this.y=l/=r;const[p,g]=this.getBaseTranslation();o+=p,l+=g,t.left=`${(100*o).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return k(n=Ie,wh,n0).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return k(n=Ie,wh,n0).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions,{style:o}=this.div;o.width=`${(100*e/n).toFixed(2)}%`,a(this,ka)||(o.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),o=!a(this,ka)&&t.endsWith("%");if(r&&o)return;const[l,d]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!a(this,ka)&&!o&&(e.height=`${(100*parseFloat(t)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=a(this,dt))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||a(this,Pa))return this._editToolbar;this._editToolbar=new Gy(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=a(this,dt))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return a(this,dt)||($g.initialize(Ie._l10n),b(this,dt,new $g(this)),a(this,Ca)&&(a(this,dt).data=a(this,Ca),b(this,Ca,null))),a(this,dt)}get altTextData(){var e;return(e=a(this,dt))==null?void 0:e.data}set altTextData(e){a(this,dt)&&(a(this,dt).data=e)}get guessedAltText(){var e;return(e=a(this,dt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=a(this,dt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=a(this,dt))==null?void 0:t.serialize(e)}hasAltText(){return!!a(this,dt)&&!a(this,dt).isEmpty()}hasAltTextData(){var e;return((e=a(this,dt))==null?void 0:e.hasData())??!1}render(){var l;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=a(this,Tc)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),k(this,Ee,o0).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[r,o]=this.getInitialTranslation();return this.translate(r,o),HS(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(a(this,Ra)||b(this,Ra,new Vd({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:k(this,Ee,iE).bind(this),onPinching:k(this,Ee,rE).bind(this),onPinchEnd:k(this,Ee,oE).bind(this),signal:this._uiManager._signal}))),(l=this._uiManager._editorUndoBar)==null||l.hide(),e}pointerdown(e){const{isMac:t}=Qt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(b(this,Na,!0),this._isDraggable){k(this,Ee,aE).call(this,e);return}k(this,Ee,r0).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){a(this,Si)&&clearTimeout(a(this,Si)),b(this,Si,setTimeout(()=>{var e;b(this,Si,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const r=this.parentScale,[o,l]=this.pageDimensions,[d,h]=this.pageTranslation,p=e/r,g=t/r,v=this.x*o,w=this.y*l,A=this.width*o,E=this.height*l;switch(n){case 0:return[v+p+d,l-w-g-E+h,v+p+A+d,l-w-g+h];case 90:return[v+g+d,l-w+p+h,v+g+E+d,l-w+p+A+h];case 180:return[v-p-A+d,l-w+g+h,v-p+d,l-w+g+E+h];case 270:return[v-g-E+d,l-w-p-A+h,v-g+d,l-w-p+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,o,l]=e,d=o-n,h=l-r;switch(this.rotation){case 0:return[n,t-l,d,h];case 90:return[n,t-r,h,d];case 180:return[o,t-r,d,h];case 270:return[o,t-l,h,d];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),b(this,Pa,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),b(this,Pa,!1),!0):!1}isInEditMode(){return a(this,Pa)}shouldGetKeyboardEvents(){return a(this,rr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return t<l&&r>0&&e<o&&n>0}rebuild(){k(this,Ee,o0).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){et("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});r.rotation=e.rotation,b(r,Ca,e.accessibilityData),r._isCopy=e.isCopy||!1;const[o,l]=r.pageDimensions,[d,h,p,g]=r.getRectInCurrentCoords(e.rect,l);return r.x=d/o,r.y=h/l,r.width=p/o,r.height=g/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=a(this,yo))==null||e.abort(),b(this,yo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),a(this,Si)&&(clearTimeout(a(this,Si)),b(this,Si,null)),k(this,Ee,Sd).call(this),this.removeEditToolbar(),a(this,_s)){for(const n of a(this,_s).values())clearTimeout(n);b(this,_s,null)}this.parent=null,(t=a(this,Ra))==null||t.destroy(),b(this,Ra,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(k(this,Ee,nE).call(this),a(this,tn).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),b(this,ir,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=a(this,tn).children;if(!a(this,Gs)){b(this,Gs,Array.from(t));const l=k(this,Ee,lE).bind(this),d=k(this,Ee,cE).bind(this),h=this._uiManager._signal;for(const p of a(this,Gs)){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",l,{signal:h}),p.addEventListener("blur",d,{signal:h}),p.addEventListener("focus",k(this,Ee,uE).bind(this,g),{signal:h}),p.setAttribute("data-l10n-id",Ie._l10nResizer[g])}}const n=a(this,Gs)[0];let r=0;for(const l of t){if(l===n)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(a(this,Gs).length/4);if(o!==r){if(o<r)for(let d=0;d<r-o;d++)a(this,tn).append(a(this,tn).firstChild);else if(o>r)for(let d=0;d<o-r;d++)a(this,tn).firstChild.before(a(this,tn).lastChild);let l=0;for(const d of t){const p=a(this,Gs)[l++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",Ie._l10nResizer[p])}}k(this,Ee,a0).call(this,0),b(this,rr,!0),a(this,tn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){a(this,rr)&&k(this,Ee,i0).call(this,a(this,mh),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){k(this,Ee,Sd).call(this),this.div.focus()}select(){var e,t,n;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(n=a(this,dt))==null||n.toggleAltTextBadge(!1)}}unselect(){var e,t,n,r,o;this.isSelected&&(this.isSelected=!1,(e=a(this,tn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=a(this,dt))==null||o.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return a(this,vh)}set isEditing(e){b(this,vh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){b(this,ka,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){a(this,_s)||b(this,_s,new Map);const{action:n}=e;let r=a(this,_s).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),a(this,_s).delete(n),a(this,_s).size===0&&b(this,_s,null)},Ie._telemetryTimeout),a(this,_s).set(n,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),b(this,Tc,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,Tc,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Ca=new WeakMap,Gs=new WeakMap,dt=new WeakMap,Tc=new WeakMap,vo=new WeakMap,gh=new WeakMap,ka=new WeakMap,tn=new WeakMap,Ta=new WeakMap,ir=new WeakMap,yo=new WeakMap,mh=new WeakMap,Na=new WeakMap,Qn=new WeakMap,vh=new WeakMap,Pa=new WeakMap,rr=new WeakMap,Si=new WeakMap,Nc=new WeakMap,Pc=new WeakMap,_s=new WeakMap,Ra=new WeakMap,yh=new WeakMap,Zg=new WeakMap,Ee=new WeakSet,t0=function([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},wh=new WeakSet,n0=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},dg=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},nE=function(){if(a(this,tn))return;b(this,tn,document.createElement("div")),a(this,tn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");a(this,tn).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",k(this,Ee,sE).bind(this,n),{signal:t}),r.addEventListener("contextmenu",Ls,{signal:t}),r.tabIndex=-1}this.div.prepend(a(this,tn))},sE=function(e,t){var g;t.preventDefault();const{isMac:n}=Qt.platform;if(t.button!==0||t.ctrlKey&&n)return;(g=a(this,dt))==null||g.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,b(this,Ta,[t.screenX,t.screenY]);const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",k(this,Ee,i0).bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Nt,{passive:!1,signal:l}),window.addEventListener("contextmenu",Ls,{signal:l}),b(this,ir,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var v;o.abort(),this.parent.togglePointerEvents(!0),(v=a(this,dt))==null||v.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=d,this.div.style.cursor=h,k(this,Ee,hg).call(this)};window.addEventListener("pointerup",p,{signal:l}),window.addEventListener("blur",p,{signal:l})},s0=function(e,t,n,r){this.width=n,this.height=r,this.x=e,this.y=t;const[o,l]=this.parentDimensions;this.setDims(o*n,l*r),this.fixAndSetPosition(),this._onResized()},hg=function(){if(!a(this,ir))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=a(this,ir);b(this,ir,null);const o=this.x,l=this.y,d=this.width,h=this.height;o===e&&l===t&&d===n&&h===r||this.addCommands({cmd:k(this,Ee,s0).bind(this,o,l,d,h),undo:k(this,Ee,s0).bind(this,e,t,n,r),mustExec:!0})},i0=function(e,t){const[n,r]=this.parentDimensions,o=this.x,l=this.y,d=this.width,h=this.height,p=Ie.MIN_SIZE/n,g=Ie.MIN_SIZE/r,v=k(this,Ee,dg).call(this,this.rotation),w=(Q,q)=>[v[0]*Q+v[2]*q,v[1]*Q+v[3]*q],A=k(this,Ee,dg).call(this,360-this.rotation),E=(Q,q)=>[A[0]*Q+A[2]*q,A[1]*Q+A[3]*q];let S,C,N=!1,R=!1;switch(e){case"topLeft":N=!0,S=(Q,q)=>[0,0],C=(Q,q)=>[Q,q];break;case"topMiddle":S=(Q,q)=>[Q/2,0],C=(Q,q)=>[Q/2,q];break;case"topRight":N=!0,S=(Q,q)=>[Q,0],C=(Q,q)=>[0,q];break;case"middleRight":R=!0,S=(Q,q)=>[Q,q/2],C=(Q,q)=>[0,q/2];break;case"bottomRight":N=!0,S=(Q,q)=>[Q,q],C=(Q,q)=>[0,0];break;case"bottomMiddle":S=(Q,q)=>[Q/2,q],C=(Q,q)=>[Q/2,0];break;case"bottomLeft":N=!0,S=(Q,q)=>[0,q],C=(Q,q)=>[Q,0];break;case"middleLeft":R=!0,S=(Q,q)=>[0,q/2],C=(Q,q)=>[Q,q/2];break}const P=S(d,h),L=C(d,h);let I=w(...L);const B=Ie._round(o+I[0]),F=Ie._round(l+I[1]);let V=1,G=1,Y,ee;if(t.fromKeyboard)({deltaX:Y,deltaY:ee}=t);else{const{screenX:Q,screenY:q}=t,[J,ae]=a(this,Ta);[Y,ee]=this.screenToPageTranslation(Q-J,q-ae),a(this,Ta)[0]=Q,a(this,Ta)[1]=q}if([Y,ee]=E(Y/n,ee/r),N){const Q=Math.hypot(d,h);V=G=Math.max(Math.min(Math.hypot(L[0]-P[0]-Y,L[1]-P[1]-ee)/Q,1/d,1/h),p/d,g/h)}else R?V=vn(Math.abs(L[0]-P[0]-Y),p,1)/d:G=vn(Math.abs(L[1]-P[1]-ee),g,1)/h;const re=Ie._round(d*V),ve=Ie._round(h*G);I=w(...C(re,ve));const oe=B-I[0],Pe=F-I[1];a(this,Qn)||b(this,Qn,[this.x,this.y,this.width,this.height]),this.width=re,this.height=ve,this.x=oe,this.y=Pe,this.setDims(n*re,r*ve),this.fixAndSetPosition(),this._onResizing()},iE=function(){var e;b(this,ir,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=a(this,dt))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},rE=function(e,t,n){let o=.7*(n/t)+1-.7;if(o===1)return;const l=k(this,Ee,dg).call(this,this.rotation),d=(B,F)=>[l[0]*B+l[2]*F,l[1]*B+l[3]*F],[h,p]=this.parentDimensions,g=this.x,v=this.y,w=this.width,A=this.height,E=Ie.MIN_SIZE/h,S=Ie.MIN_SIZE/p;o=Math.max(Math.min(o,1/w,1/A),E/w,S/A);const C=Ie._round(w*o),N=Ie._round(A*o);if(C===w&&N===A)return;a(this,Qn)||b(this,Qn,[g,v,w,A]);const R=d(w/2,A/2),P=Ie._round(g+R[0]),L=Ie._round(v+R[1]),I=d(C/2,N/2);this.x=P-I[0],this.y=L-I[1],this.width=C,this.height=N,this.setDims(h*C,p*N),this.fixAndSetPosition(),this._onResizing()},oE=function(){var e;(e=a(this,dt))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),k(this,Ee,hg).call(this)},r0=function(e){const{isMac:t}=Qt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},aE=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:o},d=p=>{r.abort(),b(this,vo,null),b(this,Na,!1),this._uiManager.endDragSession()||k(this,Ee,r0).call(this,p),n&&this._onStopDragging()};t&&(b(this,Nc,e.clientX),b(this,Pc,e.clientY),b(this,vo,e.pointerId),b(this,gh,e.pointerType),window.addEventListener("pointermove",p=>{n||(n=!0,this._onStartDragging());const{clientX:g,clientY:v,pointerId:w}=p;if(w!==a(this,vo)){Nt(p);return}const[A,E]=this.screenToPageTranslation(g-a(this,Nc),v-a(this,Pc));b(this,Nc,g),b(this,Pc,v),this._uiManager.dragSelectedEditors(A,E)},l),window.addEventListener("touchmove",Nt,l),window.addEventListener("pointerdown",p=>{p.pointerType===a(this,gh)&&(a(this,Ra)||p.isPrimary)&&d(p),Nt(p)},l));const h=p=>{if(!a(this,vo)||a(this,vo)===p.pointerId){d(p);return}Nt(p)};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})},o0=function(){if(a(this,yo)||!this.div)return;b(this,yo,new AbortController);const e=this._uiManager.combinedSignal(a(this,yo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},lE=function(e){Ie._resizerKeyboardManager.exec(this,e)},cE=function(e){var t;a(this,rr)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==a(this,tn)&&k(this,Ee,Sd).call(this)},uE=function(e){b(this,mh,a(this,rr)?e:"")},a0=function(e){if(a(this,Gs))for(const t of a(this,Gs))t.tabIndex=e},Sd=function(){b(this,rr,!1),k(this,Ee,a0).call(this,-1),k(this,Ee,hg).call(this)},_(Ie,wh),te(Ie,"_l10n",null),te(Ie,"_l10nResizer",null),te(Ie,"_borderLineWidth",-1),te(Ie,"_colorManager",new qy),te(Ie,"_zIndex",1),te(Ie,"_telemetryTimeout",1e3);let rt=Ie;class E2 extends rt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const X1=3285377520,bs=4294901760,fi=65535;class dE{constructor(e){this.h1=e?e&4294967295:X1,this.h2=e?e&4294967295:X1}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let S=0,C=e.length;S<C;S++){const N=e.charCodeAt(S);N<=255?t[n++]=N:(t[n++]=N>>>8,t[n++]=N&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,o=n-r*4,l=new Uint32Array(t.buffer,0,r);let d=0,h=0,p=this.h1,g=this.h2;const v=3432918353,w=461845907,A=v&fi,E=w&fi;for(let S=0;S<r;S++)S&1?(d=l[S],d=d*v&bs|d*A&fi,d=d<<15|d>>>17,d=d*w&bs|d*E&fi,p^=d,p=p<<13|p>>>19,p=p*5+3864292196):(h=l[S],h=h*v&bs|h*A&fi,h=h<<15|h>>>17,h=h*w&bs|h*E&fi,g^=h,g=g<<13|g>>>19,g=g*5+3864292196);switch(d=0,o){case 3:d^=t[r*4+2]<<16;case 2:d^=t[r*4+1]<<8;case 1:d^=t[r*4],d=d*v&bs|d*A&fi,d=d<<15|d>>>17,d=d*w&bs|d*E&fi,r&1?p^=d:g^=d}this.h1=p,this.h2=g}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&bs|e*36045&fi,t=t*4283543511&bs|((t<<16|e>>>16)*2950163797&bs)>>>16,e^=t>>>1,e=e*444984403&bs|e*60499&fi,t=t*3301882366&bs|((t<<16|e>>>16)*3120437893&bs)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const l0=Object.freeze({map:null,hash:"",transfer:void 0});var La,Ma,nn,em,hE;class vw{constructor(){_(this,em);_(this,La,!1);_(this,Ma,null);_(this,nn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=a(this,nn).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return a(this,nn).get(e)}remove(e){if(a(this,nn).delete(e),a(this,nn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of a(this,nn).values())if(t instanceof rt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=a(this,nn).get(e);let r=!1;if(n!==void 0)for(const[o,l]of Object.entries(t))n[o]!==l&&(r=!0,n[o]=l);else r=!0,a(this,nn).set(e,t);r&&k(this,em,hE).call(this),t instanceof rt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return a(this,nn).has(e)}get size(){return a(this,nn).size}resetModified(){a(this,La)&&(b(this,La,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new fE(this)}get serializable(){if(a(this,nn).size===0)return l0;const e=new Map,t=new dE,n=[],r=Object.create(null);let o=!1;for(const[l,d]of a(this,nn)){const h=d instanceof rt?d.serialize(!1,r):d;h&&(e.set(l,h),t.update(`${l}:${JSON.stringify(h)}`),o||(o=!!h.bitmap))}if(o)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:l0}get editorStats(){let e=null;const t=new Map;for(const n of a(this,nn).values()){if(!(n instanceof rt))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:o}=r;t.has(o)||t.set(o,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[d,h]of Object.entries(r)){if(d==="type")continue;let p=l.get(d);p||(p=new Map,l.set(d,p));const g=p.get(h)??0;p.set(h,g+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){b(this,Ma,null)}get modifiedIds(){if(a(this,Ma))return a(this,Ma);const e=[];for(const t of a(this,nn).values())!(t instanceof rt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return b(this,Ma,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return a(this,nn).entries()}}La=new WeakMap,Ma=new WeakMap,nn=new WeakMap,em=new WeakSet,hE=function(){a(this,La)||(b(this,La,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var xh;class fE extends vw{constructor(t){super();_(this,xh);const{map:n,hash:r,transfer:o}=t.serializable,l=structuredClone(n,o?{transfer:o}:null);b(this,xh,{map:l,hash:r,transfer:o})}get print(){et("Should not call PrintAnnotationStorage.print")}get serializable(){return a(this,xh)}get modifiedIds(){return Oe(this,"modifiedIds",{ids:new Set,hash:""})}}xh=new WeakMap;var Rc;class _2{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){_(this,Rc,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),a(this,Rc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||a(this,Rc).has(e.loadedName))){if(Mt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:o,style:l}=e,d=new FontFace(r,o,l);this.addNativeFontFace(d);try{await d.load(),a(this,Rc).add(r),n==null||n(e)}catch{Ne(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(d)}return}et("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Ne(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Oe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Oe(this,"isSyncFontLoadingSupported",kn||Qt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Mt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Oe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(L,I){return L.charCodeAt(I)<<24|L.charCodeAt(I+1)<<16|L.charCodeAt(I+2)<<8|L.charCodeAt(I+3)&255}function r(L,I,B,F){const V=L.substring(0,I),G=L.substring(I+B);return V+F+G}let o,l;const d=this._document.createElement("canvas");d.width=1,d.height=1;const h=d.getContext("2d");let p=0;function g(L,I){if(++p>30){Ne("Load test font never loaded."),I();return}if(h.font="30px "+L,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){I();return}setTimeout(g.bind(null,L,I))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let w=this._loadTestFont;w=r(w,976,v.length,v);const E=16,S=1482184792;let C=n(w,E);for(o=0,l=v.length-3;o<l;o+=4)C=C-S+n(v,o)|0;o<v.length&&(C=C-S+n(v+"XXX",o)|0),w=r(w,E,4,f2(C));const N=`url(data:font/opentype;base64,${btoa(w)});`,R=`@font-face {font-family:"${v}";src:${N}}`;this.insertRule(R);const P=this._document.createElement("div");P.style.visibility="hidden",P.style.width=P.style.height="10px",P.style.position="absolute",P.style.top=P.style.left="0px";for(const L of[e.loadedName,v]){const I=this._document.createElement("span");I.textContent="Hi",I.style.fontFamily=L,P.append(I)}this._document.body.append(P),g(v,()=>{P.remove(),t.complete()})}}Rc=new WeakMap;class C2{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${RS(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let r;try{r=e.get(n)}catch(l){Ne(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(r||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=o}}function k2(u){if(u instanceof URL)return u.href;if(typeof u=="string"){if(kn)return u;const e=URL.parse(u,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function T2(u){if(kn&&typeof Buffer<"u"&&u instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength)return u;if(typeof u=="string")return _f(u);if(u instanceof ArrayBuffer||ArrayBuffer.isView(u)||typeof u=="object"&&!isNaN(u==null?void 0:u.length))return new Uint8Array(u);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Qp(u){if(typeof u!="string")return null;if(u.endsWith("/"))return u;throw new Error(`Invalid factory url: "${u}" must include trailing slash.`)}const c0=u=>typeof u=="object"&&Number.isInteger(u==null?void 0:u.num)&&u.num>=0&&Number.isInteger(u==null?void 0:u.gen)&&u.gen>=0,N2=u=>typeof u=="object"&&typeof(u==null?void 0:u.name)=="string",pE=v2.bind(null,c0,N2);var or,tm;class P2{constructor(){_(this,or,new Map);_(this,tm,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};a(this,tm).then(()=>{for(const[r]of a(this,or))r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Ne("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}a(this,or).set(t,r)}removeEventListener(e,t){const n=a(this,or).get(t);n==null||n(),a(this,or).delete(t)}terminate(){for(const[,e]of a(this,or))e==null||e();a(this,or).clear()}}or=new WeakMap,tm=new WeakMap;const Jp={DATA:1,ERROR:2},Lt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function q1(){}function On(u){if(u instanceof Nr||u instanceof Bg||u instanceof V1||u instanceof Ud||u instanceof Ry)return u;switch(u instanceof Error||typeof u=="object"&&u!==null||et('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new Nr(u.message);case"InvalidPDFException":return new Bg(u.message);case"PasswordException":return new V1(u.message,u.code);case"ResponseException":return new Ud(u.message,u.status,u.missing);case"UnknownErrorException":return new Ry(u.message,u.details)}return new Ry(u.message,u.toString())}var Lc,Rs,gE,mE,vE,fg;class Ed{constructor(e,t,n){_(this,Rs);_(this,Lc,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",k(this,Rs,gE).bind(this),{signal:a(this,Lc).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(e,t,n,r){const o=this.streamId++,l=this.sourceName,d=this.targetName,h=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:d,action:e,streamId:o,data:t,desiredSize:p.desiredSize},r),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[o].pullCall=g,h.postMessage({sourceName:l,targetName:d,stream:Lt.PULL,streamId:o,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Mt(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[o].cancelCall=g,this.streamControllers[o].isClosed=!0,h.postMessage({sourceName:l,targetName:d,stream:Lt.CANCEL,streamId:o,reason:On(p)}),g.promise}},n)}destroy(){var e;(e=a(this,Lc))==null||e.abort(),b(this,Lc,null)}}Lc=new WeakMap,Rs=new WeakSet,gE=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){k(this,Rs,vE).call(this,e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Jp.DATA)r.resolve(e.data);else if(e.callback===Jp.ERROR)r.reject(On(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,o=this.comObj;Promise.try(t,e.data).then(function(l){o.postMessage({sourceName:n,targetName:r,callback:Jp.DATA,callbackId:e.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:r,callback:Jp.ERROR,callbackId:e.callbackId,reason:On(l)})});return}if(e.streamId){k(this,Rs,mE).call(this,e);return}t(e.data)},mE=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,l=this,d=this.actionHandler[e.action],h={enqueue(p,g=1,v){if(this.isCancelled)return;const w=this.desiredSize;this.desiredSize-=g,w>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:r,stream:Lt.ENQUEUE,streamId:t,chunk:p},v)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:Lt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(p){Mt(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:Lt.ERROR,streamId:t,reason:On(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[t]=h,Promise.try(d,e.data,h).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Lt.START_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:Lt.START_COMPLETE,streamId:t,reason:On(p)})})},vE=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,l=this.streamControllers[t],d=this.streamSinks[t];switch(e.stream){case Lt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(On(e.reason));break;case Lt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(On(e.reason));break;case Lt.PULL:if(!d){o.postMessage({sourceName:n,targetName:r,stream:Lt.PULL_COMPLETE,streamId:t,success:!0});break}d.desiredSize<=0&&e.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=e.desiredSize,Promise.try(d.onPull||q1).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Lt.PULL_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:Lt.PULL_COMPLETE,streamId:t,reason:On(p)})});break;case Lt.ENQUEUE:if(Mt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case Lt.CLOSE:if(Mt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),k(this,Rs,fg).call(this,l,t);break;case Lt.ERROR:Mt(l,"error should have stream controller"),l.controller.error(On(e.reason)),k(this,Rs,fg).call(this,l,t);break;case Lt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(On(e.reason)),k(this,Rs,fg).call(this,l,t);break;case Lt.CANCEL:if(!d)break;const h=On(e.reason);Promise.try(d.onCancel||q1,h).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Lt.CANCEL_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:Lt.CANCEL_COMPLETE,streamId:t,reason:On(p)})}),d.sinkCapability.reject(h),d.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},fg=async function(e,t){var n,r,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(r=e.pullCall)==null?void 0:r.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var bh;class yE{constructor({enableHWA:e=!1}){_(this,bh,!1);b(this,bh,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!a(this,bh)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){et("Abstract method `_createCanvas` called.")}}bh=new WeakMap;class R2 extends yE{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class wE{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){et("Abstract method `_fetch` called.")}}class K1 extends wE{async _fetch(e){const t=await ku(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):_f(t)}}class xE{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,o){return"none"}destroy(e=!1){}}var Ia,Mc,ar,lr,gn,Da,ja,ce,fn,_d,nc,pg,sc,bE,u0,ic,Cd,kd,d0,Td;class L2 extends xE{constructor({docId:t,ownerDocument:n=globalThis.document}){super();_(this,ce);_(this,Ia);_(this,Mc);_(this,ar);_(this,lr);_(this,gn);_(this,Da);_(this,ja,0);b(this,lr,t),b(this,gn,n)}addFilter(t){if(!t)return"none";let n=a(this,ce,fn).get(t);if(n)return n;const[r,o,l]=k(this,ce,pg).call(this,t),d=t.length===1?r:`${r}${o}${l}`;if(n=a(this,ce,fn).get(d),n)return a(this,ce,fn).set(t,n),n;const h=`g_${a(this,lr)}_transfer_map_${bn(this,ja)._++}`,p=k(this,ce,sc).call(this,h);a(this,ce,fn).set(t,p),a(this,ce,fn).set(d,p);const g=k(this,ce,ic).call(this,h);return k(this,ce,kd).call(this,r,o,l,g),p}addHCMFilter(t,n){var E;const r=`${t}-${n}`,o="base";let l=a(this,ce,_d).get(o);if((l==null?void 0:l.key)===r||(l?((E=l.filter)==null||E.remove(),l.key=r,l.url="none",l.filter=null):(l={key:r,url:"none",filter:null},a(this,ce,_d).set(o,l)),!t||!n))return l.url;const d=k(this,ce,Td).call(this,t);t=we.makeHexColor(...d);const h=k(this,ce,Td).call(this,n);if(n=we.makeHexColor(...h),a(this,ce,nc).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const p=new Array(256);for(let S=0;S<=255;S++){const C=S/255;p[S]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const g=p.join(","),v=`g_${a(this,lr)}_hcm_filter`,w=l.filter=k(this,ce,ic).call(this,v);k(this,ce,kd).call(this,g,g,g,w),k(this,ce,u0).call(this,w);const A=(S,C)=>{const N=d[S]/255,R=h[S]/255,P=new Array(C+1);for(let L=0;L<=C;L++)P[L]=N+L/C*(R-N);return P.join(",")};return k(this,ce,kd).call(this,A(0,5),A(1,5),A(2,5),w),l.url=k(this,ce,sc).call(this,v),l.url}addAlphaFilter(t){let n=a(this,ce,fn).get(t);if(n)return n;const[r]=k(this,ce,pg).call(this,[t]),o=`alpha_${r}`;if(n=a(this,ce,fn).get(o),n)return a(this,ce,fn).set(t,n),n;const l=`g_${a(this,lr)}_alpha_map_${bn(this,ja)._++}`,d=k(this,ce,sc).call(this,l);a(this,ce,fn).set(t,d),a(this,ce,fn).set(o,d);const h=k(this,ce,ic).call(this,l);return k(this,ce,d0).call(this,r,h),d}addLuminosityFilter(t){let n=a(this,ce,fn).get(t||"luminosity");if(n)return n;let r,o;if(t?([r]=k(this,ce,pg).call(this,[t]),o=`luminosity_${r}`):o="luminosity",n=a(this,ce,fn).get(o),n)return a(this,ce,fn).set(t,n),n;const l=`g_${a(this,lr)}_luminosity_map_${bn(this,ja)._++}`,d=k(this,ce,sc).call(this,l);a(this,ce,fn).set(t,d),a(this,ce,fn).set(o,d);const h=k(this,ce,ic).call(this,l);return k(this,ce,bE).call(this,h),t&&k(this,ce,d0).call(this,r,h),d}addHighlightHCMFilter(t,n,r,o,l){var R;const d=`${n}-${r}-${o}-${l}`;let h=a(this,ce,_d).get(t);if((h==null?void 0:h.key)===d||(h?((R=h.filter)==null||R.remove(),h.key=d,h.url="none",h.filter=null):(h={key:d,url:"none",filter:null},a(this,ce,_d).set(t,h)),!n||!r))return h.url;const[p,g]=[n,r].map(k(this,ce,Td).bind(this));let v=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),w=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[A,E]=[o,l].map(k(this,ce,Td).bind(this));w<v&&([v,w,A,E]=[w,v,E,A]),a(this,ce,nc).style.color="";const S=(P,L,I)=>{const B=new Array(256),F=(w-v)/I,V=P/255,G=(L-P)/(255*I);let Y=0;for(let ee=0;ee<=I;ee++){const re=Math.round(v+ee*F),ve=V+ee*G;for(let oe=Y;oe<=re;oe++)B[oe]=ve;Y=re+1}for(let ee=Y;ee<256;ee++)B[ee]=B[Y-1];return B.join(",")},C=`g_${a(this,lr)}_hcm_${t}_filter`,N=h.filter=k(this,ce,ic).call(this,C);return k(this,ce,u0).call(this,N),k(this,ce,kd).call(this,S(A[0],E[0],5),S(A[1],E[1],5),S(A[2],E[2],5),N),h.url=k(this,ce,sc).call(this,C),h.url}destroy(t=!1){var n,r,o,l;t&&((n=a(this,Da))!=null&&n.size)||((r=a(this,ar))==null||r.parentNode.parentNode.remove(),b(this,ar,null),(o=a(this,Mc))==null||o.clear(),b(this,Mc,null),(l=a(this,Da))==null||l.clear(),b(this,Da,null),b(this,ja,0))}}Ia=new WeakMap,Mc=new WeakMap,ar=new WeakMap,lr=new WeakMap,gn=new WeakMap,Da=new WeakMap,ja=new WeakMap,ce=new WeakSet,fn=function(){return a(this,Mc)||b(this,Mc,new Map)},_d=function(){return a(this,Da)||b(this,Da,new Map)},nc=function(){if(!a(this,ar)){const t=a(this,gn).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=a(this,gn).createElementNS(Gi,"svg");r.setAttribute("width",0),r.setAttribute("height",0),b(this,ar,a(this,gn).createElementNS(Gi,"defs")),t.append(r),r.append(a(this,ar)),a(this,gn).body.append(t)}return a(this,ar)},pg=function(t){if(t.length===1){const p=t[0],g=new Array(256);for(let w=0;w<256;w++)g[w]=p[w]/255;const v=g.join(",");return[v,v,v]}const[n,r,o]=t,l=new Array(256),d=new Array(256),h=new Array(256);for(let p=0;p<256;p++)l[p]=n[p]/255,d[p]=r[p]/255,h[p]=o[p]/255;return[l.join(","),d.join(","),h.join(",")]},sc=function(t){if(a(this,Ia)===void 0){b(this,Ia,"");const n=a(this,gn).URL;n!==a(this,gn).baseURI&&(kf(n)?Ne('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,Ia,fw(n,"")))}return`url(${a(this,Ia)}#${t})`},bE=function(t){const n=a(this,gn).createElementNS(Gi,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},u0=function(t){const n=a(this,gn).createElementNS(Gi,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},ic=function(t){const n=a(this,gn).createElementNS(Gi,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),a(this,ce,nc).append(n),n},Cd=function(t,n,r){const o=a(this,gn).createElementNS(Gi,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),t.append(o)},kd=function(t,n,r,o){const l=a(this,gn).createElementNS(Gi,"feComponentTransfer");o.append(l),k(this,ce,Cd).call(this,l,"feFuncR",t),k(this,ce,Cd).call(this,l,"feFuncG",n),k(this,ce,Cd).call(this,l,"feFuncB",r)},d0=function(t,n){const r=a(this,gn).createElementNS(Gi,"feComponentTransfer");n.append(r),k(this,ce,Cd).call(this,r,"feFuncA",t)},Td=function(t){return a(this,ce,nc).style.color=t,mw(getComputedStyle(a(this,ce,nc)).getPropertyValue("color"))};class AE{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){et("Abstract method `_fetch` called.")}}class Y1 extends AE{async _fetch(e){const t=await ku(e,"arraybuffer");return new Uint8Array(t)}}class SE{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){et("Abstract method `_fetch` called.")}}class Q1 extends SE{async _fetch(e){const t=await ku(e,"arraybuffer");return new Uint8Array(t)}}kn&&Ne("Please use the `legacy` build in Node.js environments.");async function yw(u){const t=await process.getBuiltinModule("fs").promises.readFile(u);return new Uint8Array(t)}class M2 extends xE{}class I2 extends yE{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class D2 extends wE{async _fetch(e){return yw(e)}}class j2 extends AE{async _fetch(e){return yw(e)}}class F2 extends SE{async _fetch(e){return yw(e)}}const on={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function h0(u,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),u.clip(r)}class ww{isModifyingCurrentTransform(){return!1}getPattern(){et("Abstract method `getPattern` called.")}}class O2 extends ww{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let o;if(r===on.STROKE||r===on.FILL){const l=t.current.getClippedPathBoundingBox(r,yt(e))||[0,0,0,0],d=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,p=t.cachedCanvases.getCanvas("pattern",d,h),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-l[0],-l[1]),n=we.transform(n,[1,0,0,1,l[0],l[1]]),g.transform(...t.baseTransform),this.matrix&&g.transform(...this.matrix),h0(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),o=e.createPattern(p.canvas,"no-repeat");const v=new DOMMatrix(n);o.setTransform(v)}else h0(e,this._bbox),o=this._createGradient(e);return o}}function Iy(u,e,t,n,r,o,l,d){const h=e.coords,p=e.colors,g=u.data,v=u.width*4;let w;h[t+1]>h[n+1]&&(w=t,t=n,n=w,w=o,o=l,l=w),h[n+1]>h[r+1]&&(w=n,n=r,r=w,w=l,l=d,d=w),h[t+1]>h[n+1]&&(w=t,t=n,n=w,w=o,o=l,l=w);const A=(h[t]+e.offsetX)*e.scaleX,E=(h[t+1]+e.offsetY)*e.scaleY,S=(h[n]+e.offsetX)*e.scaleX,C=(h[n+1]+e.offsetY)*e.scaleY,N=(h[r]+e.offsetX)*e.scaleX,R=(h[r+1]+e.offsetY)*e.scaleY;if(E>=R)return;const P=p[o],L=p[o+1],I=p[o+2],B=p[l],F=p[l+1],V=p[l+2],G=p[d],Y=p[d+1],ee=p[d+2],re=Math.round(E),ve=Math.round(R);let oe,Pe,Q,q,J,ae,se,O;for(let W=re;W<=ve;W++){if(W<C){const xe=W<E?0:(E-W)/(E-C);oe=A-(A-S)*xe,Pe=P-(P-B)*xe,Q=L-(L-F)*xe,q=I-(I-V)*xe}else{let xe;W>R?xe=1:C===R?xe=0:xe=(C-W)/(C-R),oe=S-(S-N)*xe,Pe=B-(B-G)*xe,Q=F-(F-Y)*xe,q=V-(V-ee)*xe}let ue;W<E?ue=0:W>R?ue=1:ue=(E-W)/(E-R),J=A-(A-N)*ue,ae=P-(P-G)*ue,se=L-(L-Y)*ue,O=I-(I-ee)*ue;const be=Math.round(Math.min(oe,J)),Ce=Math.round(Math.max(oe,J));let _e=v*W+be*4;for(let xe=be;xe<=Ce;xe++)ue=(oe-xe)/(oe-J),ue<0?ue=0:ue>1&&(ue=1),g[_e++]=Pe-(Pe-ae)*ue|0,g[_e++]=Q-(Q-se)*ue|0,g[_e++]=q-(q-O)*ue|0,g[_e++]=255}}function z2(u,e,t){const n=e.coords,r=e.colors;let o,l;switch(e.type){case"lattice":const d=e.verticesPerRow,h=Math.floor(n.length/d)-1,p=d-1;for(o=0;o<h;o++){let g=o*d;for(let v=0;v<p;v++,g++)Iy(u,t,n[g],n[g+1],n[g+d],r[g],r[g+1],r[g+d]),Iy(u,t,n[g+d+1],n[g+1],n[g+d],r[g+d+1],r[g+1],r[g+d])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)Iy(u,t,n[o],n[o+1],n[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class B2 extends ww{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const d=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-d,g=Math.ceil(this._bounds[3])-h,v=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),w=Math.min(Math.ceil(Math.abs(g*e[1]*1.1)),3e3),A=p/v,E=g/w,S={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-h,scaleX:1/A,scaleY:1/E},C=v+4,N=w+4,R=n.getCanvas("mesh",C,N),P=R.context,L=P.createImageData(v,w);if(t){const B=L.data;for(let F=0,V=B.length;F<V;F+=4)B[F]=t[0],B[F+1]=t[1],B[F+2]=t[2],B[F+3]=255}for(const B of this._figures)z2(L,B,S);return P.putImageData(L,2,2),{canvas:R.canvas,offsetX:d-2*A,offsetY:h-2*E,scaleX:A,scaleY:E}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,r){h0(e,this._bbox);const o=new Float32Array(2);if(r===on.SHADING)we.singularValueDecompose2dScale(yt(e),o);else if(this.matrix){we.singularValueDecompose2dScale(this.matrix,o);const[d,h]=o;we.singularValueDecompose2dScale(t.baseTransform,o),o[0]*=d,o[1]*=h}else we.singularValueDecompose2dScale(t.baseTransform,o);const l=this._createMeshCanvas(o,r===on.SHADING?null:this._background,t.cachedCanvases);return r!==on.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class H2 extends ww{getPattern(){return"hotpink"}}function $2(u){switch(u[0]){case"RadialAxial":return new O2(u);case"Mesh":return new B2(u);case"Dummy":return new H2}throw new Error(`Unknown IR type: ${u[0]}`)}const J1={COLORED:1,UNCOLORED:2},nm=class nm{constructor(e,t,n,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:o,color:l,canvasGraphicsFactory:d}=this;let{xstep:h,ystep:p}=this;h=Math.abs(h),p=Math.abs(p),ym("TilingType: "+o);const g=t[0],v=t[1],w=t[2],A=t[3],E=w-g,S=A-v,C=new Float32Array(2);we.singularValueDecompose2dScale(this.matrix,C);const[N,R]=C;we.singularValueDecompose2dScale(this.baseTransform,C);const P=N*C[0],L=R*C[1];let I=E,B=S,F=!1,V=!1;const G=Math.ceil(h*P),Y=Math.ceil(p*L),ee=Math.ceil(E*P),re=Math.ceil(S*L);G>=ee?I=h:F=!0,Y>=re?B=p:V=!0;const ve=this.getSizeAndScale(I,this.ctx.canvas.width,P),oe=this.getSizeAndScale(B,this.ctx.canvas.height,L),Pe=e.cachedCanvases.getCanvas("pattern",ve.size,oe.size),Q=Pe.context,q=d.createCanvasGraphics(Q);if(q.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(q,r,l),Q.translate(-ve.scale*g,-oe.scale*v),q.transform(ve.scale,0,0,oe.scale,0,0),Q.save(),this.clipBbox(q,g,v,w,A),q.baseTransform=yt(q.ctx),q.executeOperatorList(n),q.endDrawing(),Q.restore(),F||V){const J=Pe.canvas;F&&(I=h),V&&(B=p);const ae=this.getSizeAndScale(I,this.ctx.canvas.width,P),se=this.getSizeAndScale(B,this.ctx.canvas.height,L),O=ae.size,W=se.size,ue=e.cachedCanvases.getCanvas("pattern-workaround",O,W),be=ue.context,Ce=F?Math.floor(E/h):0,_e=V?Math.floor(S/p):0;for(let xe=0;xe<=Ce;xe++)for(let Me=0;Me<=_e;Me++)be.drawImage(J,O*xe,W*Me,O,W,0,0,O,W);return{canvas:ue.canvas,scaleX:ae.scale,scaleY:se.scale,offsetX:g,offsetY:v}}return{canvas:Pe.canvas,scaleX:ve.scale,scaleY:oe.scale,offsetX:g,offsetY:v}}getSizeAndScale(e,t,n){const r=Math.max(nm.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=r?o=r:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,r,o){const l=r-t,d=o-n;e.ctx.rect(t,n,l,d),we.axialAlignedBoundingBox([t,n,r,o],yt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,o=e.current;switch(t){case J1.COLORED:const{fillStyle:l,strokeStyle:d}=this.ctx;r.fillStyle=o.fillColor=l,r.strokeStyle=o.strokeColor=d;break;case J1.UNCOLORED:r.fillStyle=r.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new h2(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,r){let o=n;r!==on.SHADING&&(o=we.transform(o,t.baseTransform),this.matrix&&(o=we.transform(o,this.matrix)));const l=this.createPatternCanvas(t);let d=new DOMMatrix(o);d=d.translate(l.offsetX,l.offsetY),d=d.scale(1/l.scaleX,1/l.scaleY);const h=e.createPattern(l.canvas,"repeat");return h.setTransform(d),h}};te(nm,"MAX_PATTERN_SIZE",3e3);let f0=nm;function U2({src:u,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const d=Qt.isLittleEndian?4278190080:255,[h,p]=l?[o,d]:[d,o],g=n>>3,v=n&7,w=u.length;t=new Uint32Array(t.buffer);let A=0;for(let E=0;E<r;E++){for(const C=e+g;e<C;e++){const N=e<w?u[e]:255;t[A++]=N&128?p:h,t[A++]=N&64?p:h,t[A++]=N&32?p:h,t[A++]=N&16?p:h,t[A++]=N&8?p:h,t[A++]=N&4?p:h,t[A++]=N&2?p:h,t[A++]=N&1?p:h}if(v===0)continue;const S=e<w?u[e++]:255;for(let C=0;C<v;C++)t[A++]=S&1<<7-C?p:h}return{srcPos:e,destPos:A}}const Z1=16,eA=100,V2=15,tA=10,Un=16,Dy=new DOMMatrix,us=new Float32Array(2),lc=new Float32Array([1/0,1/0,-1/0,-1/0]);function W2(u,e){if(u._removeMirroring)throw new Error("Context is already forwarding operations.");u.__originalSave=u.save,u.__originalRestore=u.restore,u.__originalRotate=u.rotate,u.__originalScale=u.scale,u.__originalTranslate=u.translate,u.__originalTransform=u.transform,u.__originalSetTransform=u.setTransform,u.__originalResetTransform=u.resetTransform,u.__originalClip=u.clip,u.__originalMoveTo=u.moveTo,u.__originalLineTo=u.lineTo,u.__originalBezierCurveTo=u.bezierCurveTo,u.__originalRect=u.rect,u.__originalClosePath=u.closePath,u.__originalBeginPath=u.beginPath,u._removeMirroring=()=>{u.save=u.__originalSave,u.restore=u.__originalRestore,u.rotate=u.__originalRotate,u.scale=u.__originalScale,u.translate=u.__originalTranslate,u.transform=u.__originalTransform,u.setTransform=u.__originalSetTransform,u.resetTransform=u.__originalResetTransform,u.clip=u.__originalClip,u.moveTo=u.__originalMoveTo,u.lineTo=u.__originalLineTo,u.bezierCurveTo=u.__originalBezierCurveTo,u.rect=u.__originalRect,u.closePath=u.__originalClosePath,u.beginPath=u.__originalBeginPath,delete u._removeMirroring},u.save=function(){e.save(),this.__originalSave()},u.restore=function(){e.restore(),this.__originalRestore()},u.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},u.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},u.transform=function(t,n,r,o,l,d){e.transform(t,n,r,o,l,d),this.__originalTransform(t,n,r,o,l,d)},u.setTransform=function(t,n,r,o,l,d){e.setTransform(t,n,r,o,l,d),this.__originalSetTransform(t,n,r,o,l,d)},u.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},u.rotate=function(t){e.rotate(t),this.__originalRotate(t)},u.clip=function(t){e.clip(t),this.__originalClip(t)},u.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},u.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},u.bezierCurveTo=function(t,n,r,o,l,d){e.bezierCurveTo(t,n,r,o,l,d),this.__originalBezierCurveTo(t,n,r,o,l,d)},u.rect=function(t,n,r,o){e.rect(t,n,r,o),this.__originalRect(t,n,r,o)},u.closePath=function(){e.closePath(),this.__originalClosePath()},u.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class G2{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Zp(u,e,t,n,r,o,l,d,h,p){const[g,v,w,A,E,S]=yt(u);if(v===0&&w===0){const R=l*g+E,P=Math.round(R),L=d*A+S,I=Math.round(L),B=(l+h)*g+E,F=Math.abs(Math.round(B)-P)||1,V=(d+p)*A+S,G=Math.abs(Math.round(V)-I)||1;return u.setTransform(Math.sign(g),0,0,Math.sign(A),P,I),u.drawImage(e,t,n,r,o,0,0,F,G),u.setTransform(g,v,w,A,E,S),[F,G]}if(g===0&&A===0){const R=d*w+E,P=Math.round(R),L=l*v+S,I=Math.round(L),B=(d+p)*w+E,F=Math.abs(Math.round(B)-P)||1,V=(l+h)*v+S,G=Math.abs(Math.round(V)-I)||1;return u.setTransform(0,Math.sign(v),Math.sign(w),0,P,I),u.drawImage(e,t,n,r,o,0,0,G,F),u.setTransform(g,v,w,A,E,S),[G,F]}u.drawImage(e,t,n,r,o,l,d,h,p);const C=Math.hypot(g,v),N=Math.hypot(w,A);return[C*h,N*p]}class nA{constructor(e,t){te(this,"alphaIsShape",!1);te(this,"fontSize",0);te(this,"fontSizeScale",1);te(this,"textMatrix",null);te(this,"textMatrixScale",1);te(this,"fontMatrix",Vy);te(this,"leading",0);te(this,"x",0);te(this,"y",0);te(this,"lineX",0);te(this,"lineY",0);te(this,"charSpacing",0);te(this,"wordSpacing",0);te(this,"textHScale",1);te(this,"textRenderingMode",hn.FILL);te(this,"textRise",0);te(this,"fillColor","#000000");te(this,"strokeColor","#000000");te(this,"patternFill",!1);te(this,"patternStroke",!1);te(this,"fillAlpha",1);te(this,"strokeAlpha",1);te(this,"lineWidth",1);te(this,"activeSMask",null);te(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=lc.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=on.FILL,t=null){const n=this.minMax.slice();if(e===on.STROKE){t||et("Stroke bounding box must include transform."),we.singularValueDecompose2dScale(t,us);const r=us[0]*this.lineWidth/2,o=us[1]*this.lineWidth/2;n[0]-=r,n[1]-=o,n[2]+=r,n[3]+=o}return n}updateClipFromPath(){const e=we.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(lc,0)}getClippedPathBoundingBox(e=on.FILL,t=null){return we.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function sA(u,e){if(e instanceof ImageData){u.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%Un,o=(t-r)/Un,l=r===0?o:o+1,d=u.createImageData(n,Un);let h=0,p;const g=e.data,v=d.data;let w,A,E,S;if(e.kind===Od.GRAYSCALE_1BPP){const C=g.byteLength,N=new Uint32Array(v.buffer,0,v.byteLength>>2),R=N.length,P=n+7>>3,L=4294967295,I=Qt.isLittleEndian?4278190080:255;for(w=0;w<l;w++){for(E=w<o?Un:r,p=0,A=0;A<E;A++){const B=C-h;let F=0;const V=B>P?n:B*8-7,G=V&-8;let Y=0,ee=0;for(;F<G;F+=8)ee=g[h++],N[p++]=ee&128?L:I,N[p++]=ee&64?L:I,N[p++]=ee&32?L:I,N[p++]=ee&16?L:I,N[p++]=ee&8?L:I,N[p++]=ee&4?L:I,N[p++]=ee&2?L:I,N[p++]=ee&1?L:I;for(;F<V;F++)Y===0&&(ee=g[h++],Y=128),N[p++]=ee&Y?L:I,Y>>=1}for(;p<R;)N[p++]=0;u.putImageData(d,0,w*Un)}}else if(e.kind===Od.RGBA_32BPP){for(A=0,S=n*Un*4,w=0;w<o;w++)v.set(g.subarray(h,h+S)),h+=S,u.putImageData(d,0,A),A+=Un;w<l&&(S=n*r*4,v.set(g.subarray(h,h+S)),u.putImageData(d,0,A))}else if(e.kind===Od.RGB_24BPP)for(E=Un,S=n*E,w=0;w<l;w++){for(w>=o&&(E=r,S=n*E),p=0,A=S;A--;)v[p++]=g[h++],v[p++]=g[h++],v[p++]=g[h++],v[p++]=255;u.putImageData(d,0,w*Un)}else throw new Error(`bad image kind: ${e.kind}`)}function iA(u,e){if(e.bitmap){u.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%Un,o=(t-r)/Un,l=r===0?o:o+1,d=u.createImageData(n,Un);let h=0;const p=e.data,g=d.data;for(let v=0;v<l;v++){const w=v<o?Un:r;({srcPos:h}=U2({src:p,srcPos:h,dest:g,width:n,height:w,nonBlackColor:0})),u.putImageData(d,0,v*Un)}}function gd(u,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)u[n]!==void 0&&(e[n]=u[n]);u.setLineDash!==void 0&&(e.setLineDash(u.getLineDash()),e.lineDashOffset=u.lineDashOffset)}function eg(u){u.strokeStyle=u.fillStyle="#000000",u.fillRule="nonzero",u.globalAlpha=1,u.lineWidth=1,u.lineCap="butt",u.lineJoin="miter",u.miterLimit=10,u.globalCompositeOperation="source-over",u.font="10px sans-serif",u.setLineDash!==void 0&&(u.setLineDash([]),u.lineDashOffset=0);const{filter:e}=u;e!=="none"&&e!==""&&(u.filter="none")}function rA(u,e){if(e)return!0;we.singularValueDecompose2dScale(u,us);const t=Math.fround(si.pixelRatio*Pr.PDF_TO_CSS_UNITS);return us[0]<=t&&us[1]<=t}const X2=["butt","round","square"],q2=["miter","round","bevel"],K2={},oA={};var ii,p0,g0,m0;const Nw=class Nw{constructor(e,t,n,r,o,{optionalContentConfig:l,markedContentStack:d=null},h,p){_(this,ii);this.ctx=e,this.current=new nA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=l,this.cachedCanvases=new G2(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=d,n){const h=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...yt(this.compositeCtx))}this.ctx.save(),eg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=yt(this.ctx)}executeOperatorList(e,t,n,r){const o=e.argsArray,l=e.fnArray;let d=t||0;const h=o.length;if(h===d)return d;const p=h-d>tA&&typeof n=="function",g=p?Date.now()+V2:0;let v=0;const w=this.commonObjs,A=this.objs;let E;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,n),d;if(E=l[d],E!==$d.dependency)this[E].apply(this,o[d]);else for(const S of o[d]){const C=S.startsWith("g_")?w:A;if(!C.has(S))return C.get(S,n),d}if(d++,d===h)return d;if(p&&++v>tA){if(Date.now()>g)return n(),d;v=0}}}endDrawing(){k(this,ii,p0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),k(this,ii,g0).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),d=n,h=r,p="prescale1",g,v;for(;o>2&&d>1||l>2&&h>1;){let w=d,A=h;o>2&&d>1&&(w=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),o/=d/w),l>2&&h>1&&(A=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/A),g=this.cachedCanvases.getCanvas(p,w,A),v=g.context,v.clearRect(0,0,w,A),v.drawImage(e,0,0,d,h,0,0,w,A),e=g.canvas,d=w,h=A,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:d,paintHeight:h}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,o=this.current.fillColor,l=this.current.patternFill,d=yt(t);let h,p,g,v;if((e.bitmap||e.data)&&e.count>1){const G=e.bitmap||e.data.buffer;p=JSON.stringify(l?d:[d.slice(0,4),o]),h=this._cachedBitmapsMap.get(G),h||(h=new Map,this._cachedBitmapsMap.set(G,h));const Y=h.get(p);if(Y&&!l){const ee=Math.round(Math.min(d[0],d[2])+d[4]),re=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:Y,offsetX:ee,offsetY:re}}g=Y}g||(v=this.cachedCanvases.getCanvas("maskCanvas",n,r),iA(v.context,e));let w=we.transform(d,[1/n,0,0,-1/r,0,0]);w=we.transform(w,[1,0,0,1,0,-r]);const A=lc.slice();we.axialAlignedBoundingBox([0,0,n,r],w,A);const[E,S,C,N]=A,R=Math.round(C-E)||1,P=Math.round(N-S)||1,L=this.cachedCanvases.getCanvas("fillCanvas",R,P),I=L.context,B=E,F=S;I.translate(-B,-F),I.transform(...w),g||(g=this._scaleImage(v.canvas,hi(I)),g=g.img,h&&l&&h.set(p,g)),I.imageSmoothingEnabled=rA(yt(I),e.interpolate),Zp(I,g,0,0,g.width,g.height,0,0,n,r),I.globalCompositeOperation="source-in";const V=we.transform(hi(I),[1,0,0,1,-B,-F]);return I.fillStyle=l?o.getPattern(t,this,V,on.FILL):o,I.fillRect(0,0,n,r),h&&!l&&(this.cachedCanvases.delete("fillCanvas"),h.set(p,L.canvas)),{canvas:L.canvas,offsetX:Math.round(B),offsetY:Math.round(F)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=X2[e]}setLineJoin(e){this.ctx.lineJoin=q2[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const o=this.ctx=r.context;o.setTransform(this.suspendedCtx.getTransform()),gd(this.suspendedCtx,o),W2(o,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),gd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const o=r[0],l=r[1],d=r[2]-o,h=r[3]-l;d===0||h===0||(this.genericComposeSMask(t.context,n,d,h,t.subtype,t.backdrop,t.transferMap,o,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,o,l,d,h,p,g,v){let w=e.canvas,A=h-g,E=p-v;if(l)if(A<0||E<0||A+n>w.width||E+r>w.height){const C=this.cachedCanvases.getCanvas("maskExtension",n,r),N=C.context;N.drawImage(w,-A,-E),N.globalCompositeOperation="destination-atop",N.fillStyle=l,N.fillRect(0,0,n,r),N.globalCompositeOperation="source-over",w=C.canvas,A=E=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(A,E,n,r),e.clip(C),e.globalCompositeOperation="destination-atop",e.fillStyle=l,e.fillRect(A,E,n,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&d?t.filter=this.filterFactory.addAlphaFilter(d):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(d));const S=new Path2D;S.rect(h,p,n,r),t.clip(S),t.globalCompositeOperation="destination-in",t.drawImage(w,A,E,n,r,h,p,n,r),t.restore()}save(){this.inSMaskMode&&gd(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&gd(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,r,o,l){this.ctx.transform(e,t,n,r,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[r]=t;if(!n){r||(r=t[0]=new Path2D),this[e](r);return}if(!(r instanceof Path2D)){const o=t[0]=new Path2D;for(let l=0,d=r.length;l<d;)switch(r[l++]){case Yp.moveTo:o.moveTo(r[l++],r[l++]);break;case Yp.lineTo:o.lineTo(r[l++],r[l++]);break;case Yp.curveTo:o.bezierCurveTo(r[l++],r[l++],r[l++],r[l++],r[l++],r[l++]);break;case Yp.closePath:o.closePath();break;default:Ne(`Unrecognized drawing path operator: ${r[l-1]}`);break}r=o}we.axialAlignedBoundingBox(n,yt(this.ctx),this.current.minMax),this[e](r)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const n=this.ctx,r=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const o=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=r.getPattern(n,this,hi(n),on.STROKE),o){const l=new Path2D;l.addPath(e,n.getTransform().invertSelf().multiplySelf(o)),e=l}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(on.STROKE,yt(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const n=this.ctx,r=this.current.fillColor,o=this.current.patternFill;let l=!1;if(o){const h=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=r.getPattern(n,this,hi(n),on.FILL),h){const p=new Path2D;p.addPath(e,n.getTransform().invertSelf().multiplySelf(h)),e=p}l=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),l&&n.restore(),t&&this.consumePath(e,d)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=K2}eoClip(){this.pendingClip=oA}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const n=new Path2D,r=t.getTransform().invertSelf();for(const{transform:o,x:l,y:d,fontSize:h,path:p}of e)n.addPath(p,new DOMMatrix(o).preMultiplySelf(r).translate(l,d).scale(h,-h));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var g;const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||Vy,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ne("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",l=((g=n.systemFontInfo)==null?void 0:g.css)||`"${o}", ${n.fallbackName}`;let d="normal";n.black?d="900":n.bold&&(d="bold");const h=n.italic?"italic":"normal";let p=t;t<Z1?p=Z1:t>eA&&(p=eA),this.current.fontSizeScale=t/p,this.ctx.font=`${h} ${d} ${p}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r,o){const l=this.ctx,d=this.current,h=d.font,p=d.textRenderingMode,g=d.fontSize/d.fontSizeScale,v=p&hn.FILL_STROKE_MASK,w=!!(p&hn.ADD_TO_PATH_FLAG),A=d.patternFill&&!h.missingFile,E=d.patternStroke&&!h.missingFile;let S;if((h.disableFontFace||w||A||E)&&(S=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||A||E){l.save(),l.translate(t,n),l.scale(g,-g);let C;if((v===hn.FILL||v===hn.FILL_STROKE)&&(r?(C=l.getTransform(),l.setTransform(...r),l.fill(k(this,ii,m0).call(this,S,C,r))):l.fill(S)),v===hn.STROKE||v===hn.FILL_STROKE)if(o){C||(C=l.getTransform()),l.setTransform(...o);const{a:N,b:R,c:P,d:L}=C,I=we.inverseTransform(o),B=we.transform([N,R,P,L,0,0],I);we.singularValueDecompose2dScale(B,us),l.lineWidth*=Math.max(us[0],us[1])/g,l.stroke(k(this,ii,m0).call(this,S,C,o))}else l.lineWidth/=g,l.stroke(S);l.restore()}else(v===hn.FILL||v===hn.FILL_STROKE)&&l.fillText(e,t,n),(v===hn.STROKE||v===hn.FILL_STROKE)&&l.strokeText(e,t,n);w&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:yt(l),x:t,y:n,fontSize:g,path:S})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return Oe(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const o=this.ctx,l=t.fontSizeScale,d=t.charSpacing,h=t.wordSpacing,p=t.fontDirection,g=t.textHScale*p,v=e.length,w=n.vertical,A=w?1:-1,E=n.defaultVMetrics,S=r*t.fontMatrix[0],C=t.textRenderingMode===hn.FILL&&!n.disableFontFace&&!t.patternFill;o.save(),t.textMatrix&&o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),p>0?o.scale(g,-1):o.scale(g,1);let N,R;if(t.patternFill){o.save();const F=t.fillColor.getPattern(o,this,hi(o),on.FILL);N=yt(o),o.restore(),o.fillStyle=F}if(t.patternStroke){o.save();const F=t.strokeColor.getPattern(o,this,hi(o),on.STROKE);R=yt(o),o.restore(),o.strokeStyle=F}let P=t.lineWidth;const L=t.textMatrixScale;if(L===0||P===0){const F=t.textRenderingMode&hn.FILL_STROKE_MASK;(F===hn.STROKE||F===hn.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=L;if(l!==1&&(o.scale(l,l),P/=l),o.lineWidth=P,n.isInvalidPDFjsFont){const F=[];let V=0;for(const G of e)F.push(G.unicode),V+=G.width;o.fillText(F.join(""),0,0),t.x+=V*S*g,o.restore(),this.compose();return}let I=0,B;for(B=0;B<v;++B){const F=e[B];if(typeof F=="number"){I+=A*F*r/1e3;continue}let V=!1;const G=(F.isSpace?h:0)+d,Y=F.fontChar,ee=F.accent;let re,ve,oe=F.width;if(w){const Q=F.vmetric||E,q=-(F.vmetric?Q[1]:oe*.5)*S,J=Q[2]*S;oe=Q?-Q[0]:oe,re=q/l,ve=(I+J)/l}else re=I/l,ve=0;if(n.remeasure&&oe>0){const Q=o.measureText(Y).width*1e3/r*l;if(oe<Q&&this.isFontSubpixelAAEnabled){const q=oe/Q;V=!0,o.save(),o.scale(q,1),re/=q}else oe!==Q&&(re+=(oe-Q)/2e3*r/l)}if(this.contentVisible&&(F.isInFont||n.missingFile)){if(C&&!ee)o.fillText(Y,re,ve);else if(this.paintChar(Y,re,ve,N,R),ee){const Q=re+r*ee.offset.x/l,q=ve-r*ee.offset.y/l;this.paintChar(ee.fontChar,Q,q,N,R)}}const Pe=w?oe*S-G*p:oe*S+G*p;I+=Pe,V&&o.restore()}w?t.y-=I:t.x+=I*g,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,o=n.fontSize,l=n.fontDirection,d=r.vertical?1:-1,h=n.charSpacing,p=n.wordSpacing,g=n.textHScale*l,v=n.fontMatrix||Vy,w=e.length,A=n.textRenderingMode===hn.INVISIBLE;let E,S,C,N;if(!(A||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(g,l),E=0;E<w;++E){if(S=e[E],typeof S=="number"){N=d*S*o/1e3,this.ctx.translate(N,0),n.x+=N*g;continue}const R=(S.isSpace?p:0)+h,P=r.charProcOperatorList[S.operatorListId];P?this.contentVisible&&(this.save(),t.scale(o,o),t.transform(...v),this.executeOperatorList(P),this.restore()):Ne(`Type3 character "${S.operatorListId}" is not available.`);const L=[S.width,0];we.applyTransform(L,v),C=L[0]*o+R,t.translate(C,0),n.x+=C*g}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,o,l){const d=new Path2D;d.rect(n,r,o-n,l-r),this.ctx.clip(d),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=this.baseTransform||yt(this.ctx),r={createCanvasGraphics:o=>new Nw(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new f0(e,this.ctx,r,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=$2(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,hi(t),on.SHADING);const r=hi(t);if(r){const{width:o,height:l}=t.canvas,d=lc.slice();we.axialAlignedBoundingBox([0,0,o,l],r,d);const[h,p,g,v]=d;this.ctx.fillRect(h,p,g-h,v-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){et("Should not call beginInlineImage")}beginImageData(){et("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=yt(this.ctx),t)){we.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[n,r,o,l]=t,d=new Path2D;d.rect(n,r,o-n,l-r),this.ctx.clip(d),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||ym("TODO: Support non-isolated groups."),e.knockout&&Ne("Knockout groups not supported.");const n=yt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=lc.slice();we.axialAlignedBoundingBox(e.bbox,yt(t),r);const o=[0,0,t.canvas.width,t.canvas.height];r=we.intersect(r,o)||[0,0,0,0];const l=Math.floor(r[0]),d=Math.floor(r[1]),h=Math.max(Math.ceil(r[2])-l,1),p=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,h,p]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(g,h,p),w=v.context;w.translate(-l,-d),w.transform(...n);let A=new Path2D;const[E,S,C,N]=e.bbox;if(A.rect(E,S,C-E,N-S),e.matrix){const R=new Path2D;R.addPath(A,new DOMMatrix(e.matrix)),A=R}w.clip(A),e.smask?this.smaskStack.push({canvas:v.canvas,context:w,offsetX:l,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,d),t.save()),gd(t,w),this.ctx=w,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=yt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=lc.slice();we.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r,o),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,r,o){if(k(this,ii,p0).call(this),eg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],d=t[3]-t[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=d,we.singularValueDecompose2dScale(yt(this.ctx),us);const{viewportScale:h}=this,p=Math.ceil(l*this.outputScaleX*h),g=Math.ceil(d*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:v,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(e,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(us[0],0,0,-us[1],0,d*us[1]),eg(this.ctx)}else{eg(this.ctx),this.endPath();const h=new Path2D;h.rect(t[0],t[1],l,d),this.ctx.clip(h)}}this.current=new nA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),k(this,ii,g0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,r=this._createMaskCanvas(e),o=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,r=0,o,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const d=this.ctx;d.save();const h=yt(d);d.transform(t,n,r,o,0,0);const p=this._createMaskCanvas(e);d.setTransform(1,0,0,1,p.offsetX-h[4],p.offsetY-h[5]);for(let g=0,v=l.length;g<v;g+=2){const w=we.transform(h,[t,n,r,o,l[g],l[g+1]]);d.drawImage(p.canvas,w[4],w[5])}d.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const o of e){const{data:l,width:d,height:h,transform:p}=o,g=this.cachedCanvases.getCanvas("maskCanvas",d,h),v=g.context;v.save();const w=this.getObject(l,o);iA(v,w),v.globalCompositeOperation="source-in",v.fillStyle=r?n.getPattern(v,this,hi(t),on.FILL):n,v.fillRect(0,0,d,h),v.restore(),t.save(),t.transform(...p),t.scale(1,-1),Zp(t,g.canvas,0,0,d,h,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ne("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Ne("Dependent image isn't ready yet");return}const l=o.width,d=o.height,h=[];for(let p=0,g=r.length;p<g;p+=2)h.push({transform:[t,0,0,n,r[p],r[p+1]],x:0,y:0,w:l,h:d});this.paintInlineImageXObjectGroup(o,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,r),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;this.save();const{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none"),r.scale(1/t,-1/n);let l;if(e.bitmap)l=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)l=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",t,n).context;sA(p,e),l=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(l,hi(r));r.imageSmoothingEnabled=rA(yt(r),e.interpolate),Zp(r,d.img,0,0,d.paintWidth,d.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const o=e.width,l=e.height,h=this.cachedCanvases.getCanvas("inlineImage",o,l).context;sA(h,e),r=this.applyTransferMapsToCanvas(h)}for(const o of t)n.save(),n.transform(...o.transform),n.scale(1,-1),Zp(n,r,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===oA?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=yt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:o}=this.ctx.getTransform();let l,d;if(n===0&&r===0){const h=Math.abs(t),p=Math.abs(o);if(h===p)if(e===0)l=d=1/h;else{const g=h*e;l=d=g<1?1/g:1}else if(e===0)l=1/h,d=1/p;else{const g=h*e,v=p*e;l=g<1?1/g:1,d=v<1?1/v:1}}else{const h=Math.abs(t*o-n*r),p=Math.hypot(t,n),g=Math.hypot(r,o);if(e===0)l=g/h,d=p/h;else{const v=e*h;l=g>v?g/v:1,d=p>v?p/v:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:r}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(r||1)*o,n.stroke(e);return}const d=n.getLineDash();t&&n.save(),n.scale(o,l),Dy.a=1/o,Dy.d=1/l;const h=new Path2D;if(h.addPath(e,Dy),d.length>0){const p=Math.max(o,l);n.setLineDash(d.map(g=>g/p)),n.lineDashOffset/=p}n.lineWidth=r||1,n.stroke(h),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ii=new WeakSet,p0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},g0=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},m0=function(e,t,n){const r=new Path2D;return r.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),r};let fc=Nw;for(const u in $d)fc.prototype[u]!==void 0&&(fc.prototype[$d[u]]=fc.prototype[u]);var Ah,Sh;class Ns{static get workerPort(){return a(this,Ah)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");b(this,Ah,e)}static get workerSrc(){return a(this,Sh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");b(this,Sh,e)}}Ah=new WeakMap,Sh=new WeakMap,_(Ns,Ah,null),_(Ns,Sh,"");var Ic,Eh;class Y2{constructor({parsedData:e,rawData:t}){_(this,Ic);_(this,Eh);b(this,Ic,e),b(this,Eh,t)}getRaw(){return a(this,Eh)}get(e){return a(this,Ic).get(e)??null}[Symbol.iterator](){return a(this,Ic).entries()}}Ic=new WeakMap,Eh=new WeakMap;const rc=Symbol("INTERNAL");var _h,Ch,kh,Dc;class Q2{constructor(e,{name:t,intent:n,usage:r,rbGroups:o}){_(this,_h,!1);_(this,Ch,!1);_(this,kh,!1);_(this,Dc,!0);b(this,_h,!!(e&cs.DISPLAY)),b(this,Ch,!!(e&cs.PRINT)),this.name=t,this.intent=n,this.usage=r,this.rbGroups=o}get visible(){if(a(this,kh))return a(this,Dc);if(!a(this,Dc))return!1;const{print:e,view:t}=this.usage;return a(this,_h)?(t==null?void 0:t.viewState)!=="OFF":a(this,Ch)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==rc&&et("Internal method `_setVisible` called."),b(this,kh,n),b(this,Dc,t)}}_h=new WeakMap,Ch=new WeakMap,kh=new WeakMap,Dc=new WeakMap;var wo,Je,jc,Fc,Th,v0;class J2{constructor(e,t=cs.DISPLAY){_(this,Th);_(this,wo,null);_(this,Je,new Map);_(this,jc,null);_(this,Fc,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,b(this,Fc,e.order);for(const n of e.groups)a(this,Je).set(n.id,new Q2(t,n));if(e.baseState==="OFF")for(const n of a(this,Je).values())n._setVisible(rc,!1);for(const n of e.on)a(this,Je).get(n)._setVisible(rc,!0);for(const n of e.off)a(this,Je).get(n)._setVisible(rc,!1);b(this,jc,this.getHash())}}isVisible(e){if(a(this,Je).size===0)return!0;if(!e)return ym("Optional content group not defined."),!0;if(e.type==="OCG")return a(this,Je).has(e.id)?a(this,Je).get(e.id).visible:(Ne(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return k(this,Th,v0).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!a(this,Je).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(a(this,Je).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!a(this,Je).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(!a(this,Je).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!a(this,Je).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(!a(this,Je).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!a(this,Je).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(a(this,Je).get(t).visible)return!1}return!0}return Ne(`Unknown optional content policy ${e.policy}.`),!0}return Ne(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var o;const r=a(this,Je).get(e);if(!r){Ne(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const l of r.rbGroups)for(const d of l)d!==e&&((o=a(this,Je).get(d))==null||o._setVisible(rc,!1,!0));r._setVisible(rc,!!t,!0),b(this,wo,null)}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const o=a(this,Je).get(r);if(o)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!o.visible,t);break}}b(this,wo,null)}get hasInitialVisibility(){return a(this,jc)===null||this.getHash()===a(this,jc)}getOrder(){return a(this,Je).size?a(this,Fc)?a(this,Fc).slice():[...a(this,Je).keys()]:null}getGroup(e){return a(this,Je).get(e)||null}getHash(){if(a(this,wo)!==null)return a(this,wo);const e=new dE;for(const[t,n]of a(this,Je))e.update(`${t}:${n.visible}`);return b(this,wo,e.hexdigest())}[Symbol.iterator](){return a(this,Je).entries()}}wo=new WeakMap,Je=new WeakMap,jc=new WeakMap,Fc=new WeakMap,Th=new WeakSet,v0=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const o=e[r];let l;if(Array.isArray(o))l=k(this,Th,v0).call(this,o);else if(a(this,Je).has(o))l=a(this,Je).get(o).visible;else return Ne(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class Z2{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Mt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:l,contentDispositionFilename:d}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=d,(o==null?void 0:o.length)>0){const h=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((h,p)=>{this._onReceiveData({begin:h,chunk:p})}),e.addProgressListener((h,p)=>{this._onProgress({loaded:h,total:p})}),e.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});Mt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,r,o;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Mt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new eR(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new tR(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class eR{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=xm(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class tR{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function nR(u){let e=!0,t=n("filename\\*","i").exec(u);if(t){t=t[1];let g=d(t);return g=unescape(g),g=h(g),g=p(g),o(g)}if(t=l(u),t){const g=p(t);return o(g)}if(t=n("filename","i").exec(u),t){t=t[1];let g=d(t);return g=p(g),o(g)}function n(g,v){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function r(g,v){if(g){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const w=new TextDecoder(g,{fatal:!0}),A=_f(v);v=w.decode(A),e=!1}catch{}}return v}function o(g){return e&&/[\x80-\xff]/.test(g)&&(g=r("utf-8",g),e&&(g=r("iso-8859-1",g))),g}function l(g){const v=[];let w;const A=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(w=A.exec(g))!==null;){let[,S,C,N]=w;if(S=parseInt(S,10),S in v){if(S===0)break;continue}v[S]=[C,N]}const E=[];for(let S=0;S<v.length&&S in v;++S){let[C,N]=v[S];N=d(N),C&&(N=unescape(N),S===0&&(N=h(N))),E.push(N)}return E.join("")}function d(g){if(g.startsWith('"')){const v=g.slice(1).split('\\"');for(let w=0;w<v.length;++w){const A=v[w].indexOf('"');A!==-1&&(v[w]=v[w].slice(0,A),v.length=w+1),v[w]=v[w].replaceAll(/\\(.)/g,"$1")}g=v.join('"')}return g}function h(g){const v=g.indexOf("'");if(v===-1)return g;const w=g.slice(0,v),E=g.slice(v+1).replace(/^[^']*'/,"");return r(w,E)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,w,A,E){if(A==="q"||A==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,C){return String.fromCharCode(parseInt(C,16))}),r(w,E);try{E=atob(E)}catch{}return r(w,E)})}return""}function EE(u,e){const t=new Headers;if(!u||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function Am(u){var e;return((e=URL.parse(u))==null?void 0:e.origin)??null}function _E({responseHeaders:u,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(u.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*t)||n||!e||u.get("Accept-Ranges")!=="bytes"||(u.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function CE(u){const e=u.get("Content-Disposition");if(e){let t=nR(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(xm(t))return t}return null}function Nf(u,e){return new Ud(`Unexpected server response (${u}) while retrieving PDF "${e}".`,u,u===404||u===0&&e.startsWith("file:"))}function kE(u){return u===200||u===206}function TE(u,e,t){return{method:"GET",headers:u,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function NE(u){return u instanceof Uint8Array?u.buffer:u instanceof ArrayBuffer?u:(Ne(`getArrayBuffer - unexpected data format: ${u}`),new Uint8Array(u).buffer)}class sR{constructor(e){te(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=EE(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Mt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new iR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new rR(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class iR{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,TE(n,this._withCredentials,this._abortController)).then(o=>{if(e._responseOrigin=Am(o.url),!kE(o.status))throw Nf(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:d,suggestedLength:h}=_E({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=h||this._contentLength,this._filename=CE(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Nr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:NE(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class rR{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);const l=r.url;fetch(l,TE(o,this._withCredentials,this._abortController)).then(d=>{const h=Am(d.url);if(h!==e._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${e._responseOrigin}".`);if(!kE(d.status))throw Nf(d.status,l);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:NE(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const jy=200,Fy=206;function oR(u){const e=u.response;return typeof e!="string"?e:_f(e).buffer}class aR{constructor({url:e,httpHeaders:t,withCredentials:n}){te(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=EE(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,l]of this.headers)t.setRequestHeader(o,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=Fy):r.expectedStatus=jy,t.responseType="arraybuffer",Mt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var r;const n=this.pendingRequests[e];n&&((r=n.onProgress)==null||r.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){n.onError(r.status);return}const o=r.status||jy;if(!(o===jy&&n.expectedStatus===Fy)&&o!==n.expectedStatus){n.onError(r.status);return}const d=oR(r);if(o===Fy){const h=r.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);p?n.onDone({begin:parseInt(p[1],10),chunk:d}):(Ne('Missing or invalid "Content-Range" header.'),n.onError(0))}else d?n.onDone({begin:0,chunk:d}):n.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class lR{constructor(e){this._source=e,this._manager=new aR(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Mt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new cR(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new uR(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class cR{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Am(t.responseURL);const n=t.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(d=>{const[h,...p]=d.split(": ");return[h,p.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=_E({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=CE(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Nf(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class uR{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Am((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Nf(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const dR=/^[a-z][a-z0-9\-+.]+:/i;function hR(u){if(dR.test(u))return new URL(u);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(u))}class fR{constructor(e){this.source=e,this.url=hR(e.url),Mt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Mt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new pR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new gR(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class pR{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Nf(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Nr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class gR{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const md=Symbol("INITIAL_DATA");var Jn,Nh,y0;class PE{constructor(){_(this,Nh);_(this,Jn,Object.create(null))}get(e,t=null){if(t){const r=k(this,Nh,y0).call(this,e);return r.promise.then(()=>t(r.data)),null}const n=a(this,Jn)[e];if(!n||n.data===md)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=a(this,Jn)[e];return!!t&&t.data!==md}delete(e){const t=a(this,Jn)[e];return!t||t.data===md?!1:(delete a(this,Jn)[e],!0)}resolve(e,t=null){const n=k(this,Nh,y0).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in a(this,Jn)){const{data:n}=a(this,Jn)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}b(this,Jn,Object.create(null))}*[Symbol.iterator](){for(const e in a(this,Jn)){const{data:t}=a(this,Jn)[e];t!==md&&(yield[e,t])}}}Jn=new WeakMap,Nh=new WeakSet,y0=function(e){var t;return(t=a(this,Jn))[e]||(t[e]={...Promise.withResolvers(),data:md})};const mR=1e5,aA=30;var bA,xo,Hn,Ph,Rh,Fa,cr,Lh,Mh,Oa,Oc,zc,bo,Bc,Ih,Hc,za,Dh,jh,At,$c,Ba,Fh,Ao,Uc,Rr,RE,LE,w0,hs,gg,x0,ME,IE;let Wd=(At=class{constructor({textContentSource:e,container:t,viewport:n}){_(this,Rr);_(this,xo,Promise.withResolvers());_(this,Hn,null);_(this,Ph,!1);_(this,Rh,!!((bA=globalThis.FontInspector)!=null&&bA.enabled));_(this,Fa,null);_(this,cr,null);_(this,Lh,0);_(this,Mh,0);_(this,Oa,null);_(this,Oc,null);_(this,zc,0);_(this,bo,0);_(this,Bc,Object.create(null));_(this,Ih,[]);_(this,Hc,null);_(this,za,[]);_(this,Dh,new WeakMap);_(this,jh,null);var h;if(e instanceof ReadableStream)b(this,Hc,e);else if(typeof e=="object")b(this,Hc,new ReadableStream({start(p){p.enqueue(e),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,Hn,b(this,Oc,t)),b(this,bo,n.scale*si.pixelRatio),b(this,zc,n.rotation),b(this,cr,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:l,pageY:d}=n.rawDims;b(this,jh,[1,0,0,-1,-l,d+o]),b(this,Mh,r),b(this,Lh,o),k(h=At,hs,ME).call(h),$o(t,n),a(this,xo).promise.finally(()=>{a(At,Uc).delete(this),b(this,cr,null),b(this,Bc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Qt.platform;return Oe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{a(this,Oa).read().then(({value:t,done:n})=>{if(n){a(this,xo).resolve();return}a(this,Fa)??b(this,Fa,t.lang),Object.assign(a(this,Bc),t.styles),k(this,Rr,RE).call(this,t.items),e()},a(this,xo).reject)};return b(this,Oa,a(this,Hc).getReader()),a(At,Uc).add(this),e(),a(this,xo).promise}update({viewport:e,onBefore:t=null}){var o;const n=e.scale*si.pixelRatio,r=e.rotation;if(r!==a(this,zc)&&(t==null||t(),b(this,zc,r),$o(a(this,Oc),{rotation:r})),n!==a(this,bo)){t==null||t(),b(this,bo,n);const l={div:null,properties:null,ctx:k(o=At,hs,gg).call(o,a(this,Fa))};for(const d of a(this,za))l.properties=a(this,Dh).get(d),l.div=d,k(this,Rr,w0).call(this,l)}}cancel(){var t;const e=new Nr("TextLayer task cancelled.");(t=a(this,Oa))==null||t.cancel(e).catch(()=>{}),b(this,Oa,null),a(this,xo).reject(e)}get textDivs(){return a(this,za)}get textContentItemsStr(){return a(this,Ih)}static cleanup(){if(!(a(this,Uc).size>0)){a(this,$c).clear();for(const{canvas:e}of a(this,Ba).values())e.remove();a(this,Ba).clear()}}},xo=new WeakMap,Hn=new WeakMap,Ph=new WeakMap,Rh=new WeakMap,Fa=new WeakMap,cr=new WeakMap,Lh=new WeakMap,Mh=new WeakMap,Oa=new WeakMap,Oc=new WeakMap,zc=new WeakMap,bo=new WeakMap,Bc=new WeakMap,Ih=new WeakMap,Hc=new WeakMap,za=new WeakMap,Dh=new WeakMap,jh=new WeakMap,$c=new WeakMap,Ba=new WeakMap,Fh=new WeakMap,Ao=new WeakMap,Uc=new WeakMap,Rr=new WeakSet,RE=function(e){var r,o;if(a(this,Ph))return;(o=a(this,cr)).ctx??(o.ctx=k(r=At,hs,gg).call(r,a(this,Fa)));const t=a(this,za),n=a(this,Ih);for(const l of e){if(t.length>mR){Ne("Ignoring additional textDivs for performance reasons."),b(this,Ph,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const d=a(this,Hn);b(this,Hn,document.createElement("span")),a(this,Hn).classList.add("markedContent"),l.id!==null&&a(this,Hn).setAttribute("id",`${l.id}`),d.append(a(this,Hn))}else l.type==="endMarkedContent"&&b(this,Hn,a(this,Hn).parentNode);continue}n.push(l.str),k(this,Rr,LE).call(this,l)}},LE=function(e){var S;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};a(this,za).push(t);const r=we.transform(a(this,jh),e.transform);let o=Math.atan2(r[1],r[0]);const l=a(this,Bc)[e.fontName];l.vertical&&(o+=Math.PI/2);let d=a(this,Rh)&&l.fontSubstitution||l.fontFamily;d=At.fontFamilyMap.get(d)||d;const h=Math.hypot(r[2],r[3]),p=h*k(S=At,hs,IE).call(S,d,l,a(this,Fa));let g,v;o===0?(g=r[4],v=r[5]-p):(g=r[4]+p*Math.sin(o),v=r[5]-p*Math.cos(o));const w="calc(var(--total-scale-factor) *",A=t.style;a(this,Hn)===a(this,Oc)?(A.left=`${(100*g/a(this,Mh)).toFixed(2)}%`,A.top=`${(100*v/a(this,Lh)).toFixed(2)}%`):(A.left=`${w}${g.toFixed(2)}px)`,A.top=`${w}${v.toFixed(2)}px)`),A.fontSize=`${w}${(a(At,Ao)*h).toFixed(2)}px)`,A.fontFamily=d,n.fontSize=h,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,a(this,Rh)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let E=!1;if(e.str.length>1)E=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const C=Math.abs(e.transform[0]),N=Math.abs(e.transform[3]);C!==N&&Math.max(C,N)/Math.min(C,N)>1.5&&(E=!0)}if(E&&(n.canvasWidth=l.vertical?e.height:e.width),a(this,Dh).set(t,n),a(this,cr).div=t,a(this,cr).properties=n,k(this,Rr,w0).call(this,a(this,cr)),n.hasText&&a(this,Hn).append(t),n.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),a(this,Hn).append(C)}},w0=function(e){var d;const{div:t,properties:n,ctx:r}=e,{style:o}=t;let l="";if(a(At,Ao)>1&&(l=`scale(${1/a(At,Ao)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:h}=o,{canvasWidth:p,fontSize:g}=n;k(d=At,hs,x0).call(d,r,g*a(this,bo),h);const{width:v}=r.measureText(t.textContent);v>0&&(l=`scaleX(${p*a(this,bo)/v}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)},hs=new WeakSet,gg=function(e=null){let t=a(this,Ba).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),a(this,Ba).set(e,t),a(this,Fh).set(t,{size:0,family:""})}return t},x0=function(e,t,n){const r=a(this,Fh).get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)},ME=function(){if(a(this,Ao)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),b(this,Ao,e.getBoundingClientRect().height),e.remove()},IE=function(e,t,n){const r=a(this,$c).get(e);if(r)return r;const o=k(this,hs,gg).call(this,n);o.canvas.width=o.canvas.height=aA,k(this,hs,x0).call(this,o,aA,e);const l=o.measureText(""),d=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let p=.8;return d?p=d/(d+h):(Qt.platform.isFirefox&&Ne("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?p=t.ascent:t.descent&&(p=1+t.descent)),a(this,$c).set(e,p),p},_(At,hs),_(At,$c,new Map),_(At,Ba,new Map),_(At,Fh,new WeakMap),_(At,Ao,null),_(At,Uc,new Set),At);class Gd{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(o){var h;if(!o)return;let l=null;const d=o.name;if(d==="#text")l=o.value;else if(Gd.shouldBuildText(d))(h=o==null?void 0:o.attributes)!=null&&h.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&t.push({str:l}),!!o.children)for(const p of o.children)r(p)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const vR=100;function xw(u={}){typeof u=="string"||u instanceof URL?u={url:u}:(u instanceof ArrayBuffer||ArrayBuffer.isView(u))&&(u={data:u});const e=new b0,{docId:t}=e,n=u.url?k2(u.url):null,r=u.data?T2(u.data):null,o=u.httpHeaders||null,l=u.withCredentials===!0,d=u.password??null,h=u.range instanceof bw?u.range:null,p=Number.isInteger(u.rangeChunkSize)&&u.rangeChunkSize>0?u.rangeChunkSize:2**16;let g=u.worker instanceof Au?u.worker:null;const v=u.verbosity,w=typeof u.docBaseUrl=="string"&&!kf(u.docBaseUrl)?u.docBaseUrl:null,A=Qp(u.cMapUrl),E=u.cMapPacked!==!1,S=u.CMapReaderFactory||(kn?D2:K1),C=Qp(u.iccUrl),N=Qp(u.standardFontDataUrl),R=u.StandardFontDataFactory||(kn?j2:Y1),P=Qp(u.wasmUrl),L=u.WasmFactory||(kn?F2:Q1),I=u.stopAtErrors!==!0,B=Number.isInteger(u.maxImageSize)&&u.maxImageSize>-1?u.maxImageSize:-1,F=u.isEvalSupported!==!1,V=typeof u.isOffscreenCanvasSupported=="boolean"?u.isOffscreenCanvasSupported:!kn,G=typeof u.isImageDecoderSupported=="boolean"?u.isImageDecoderSupported:!kn&&(Qt.platform.isFirefox||!globalThis.chrome),Y=Number.isInteger(u.canvasMaxAreaInBytes)?u.canvasMaxAreaInBytes:-1,ee=typeof u.disableFontFace=="boolean"?u.disableFontFace:kn,re=u.fontExtraProperties===!0,ve=u.enableXfa===!0,oe=u.ownerDocument||globalThis.document,Pe=u.disableRange===!0,Q=u.disableStream===!0,q=u.disableAutoFetch===!0,J=u.pdfBug===!0,ae=u.CanvasFactory||(kn?I2:R2),se=u.FilterFactory||(kn?M2:L2),O=u.enableHWA===!0,W=u.useWasm!==!1,ue=h?h.length:u.length??NaN,be=typeof u.useSystemFonts=="boolean"?u.useSystemFonts:!kn&&!ee,Ce=typeof u.useWorkerFetch=="boolean"?u.useWorkerFetch:!!(S===K1&&R===Y1&&L===Q1&&A&&N&&P&&wd(A,document.baseURI)&&wd(N,document.baseURI)&&wd(P,document.baseURI)),_e=null;c2(v);const xe={canvasFactory:new ae({ownerDocument:oe,enableHWA:O}),filterFactory:new se({docId:t,ownerDocument:oe}),cMapReaderFactory:Ce?null:new S({baseUrl:A,isCompressed:E}),standardFontDataFactory:Ce?null:new R({baseUrl:N}),wasmFactory:Ce?null:new L({baseUrl:P})};g||(g=Au.create({verbosity:v,port:Ns.workerPort}),e._worker=g);const Me={docId:t,apiVersion:"5.3.93",data:r,password:d,disableAutoFetch:q,rangeChunkSize:p,length:ue,docBaseUrl:w,enableXfa:ve,evaluatorOptions:{maxImageSize:B,disableFontFace:ee,ignoreErrors:I,isEvalSupported:F,isOffscreenCanvasSupported:V,isImageDecoderSupported:G,canvasMaxAreaInBytes:Y,fontExtraProperties:re,useSystemFonts:be,useWasm:W,useWorkerFetch:Ce,cMapUrl:A,iccUrl:C,standardFontDataUrl:N,wasmUrl:P}},ze={ownerDocument:oe,pdfBug:J,styleElement:_e,loadingParams:{disableAutoFetch:q,enableXfa:ve}};return g.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Fe=g.messageHandler.sendWithPromise("GetDocRequest",Me,r?[r.buffer]:null);let Rn;if(h)Rn=new Z2(h,{disableRange:Pe,disableStream:Q});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const fs=wd(n)?sR:kn?fR:lR;Rn=new fs({url:n,length:ue,httpHeaders:o,withCredentials:l,rangeChunkSize:p,disableRange:Pe,disableStream:Q})}return Fe.then(fs=>{if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Be=new Ed(t,fs,g.port),Qe=new xR(Be,e,Rn,ze,xe);e._transport=Qe,Be.send("Ready",null)})}).catch(e._capability.reject),e}var sm;const im=class im{constructor(){te(this,"_capability",Promise.withResolvers());te(this,"_transport",null);te(this,"_worker",null);te(this,"docId",`d${bn(im,sm)._++}`);te(this,"destroyed",!1);te(this,"onPassword",null);te(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(o){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,o}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};sm=new WeakMap,_(im,sm,0);let b0=im;var Ha,Oh,zh,Bh,Hh,AA;let bw=(AA=class{constructor(e,t,n=!1,r=null){_(this,Ha,Promise.withResolvers());_(this,Oh,[]);_(this,zh,[]);_(this,Bh,[]);_(this,Hh,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(e){a(this,Hh).push(e)}addProgressListener(e){a(this,Bh).push(e)}addProgressiveReadListener(e){a(this,zh).push(e)}addProgressiveDoneListener(e){a(this,Oh).push(e)}onDataRange(e,t){for(const n of a(this,Hh))n(e,t)}onDataProgress(e,t){a(this,Ha).promise.then(()=>{for(const n of a(this,Bh))n(e,t)})}onDataProgressiveRead(e){a(this,Ha).promise.then(()=>{for(const t of a(this,zh))t(e)})}onDataProgressiveDone(){a(this,Ha).promise.then(()=>{for(const e of a(this,Oh))e()})}transportReady(){a(this,Ha).resolve()}requestDataRange(e,t){et("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Ha=new WeakMap,Oh=new WeakMap,zh=new WeakMap,Bh=new WeakMap,Hh=new WeakMap,AA);class yR{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Oe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ur,$a,Nd;class wR{constructor(e,t,n,r=!1){_(this,$a);_(this,ur,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new G1:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new PE,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:o=!1}={}){return new Cf({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Oe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=Mi.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:d=null,annotationCanvasMap:h=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:v=!1}){var L,I;(L=this._stats)==null||L.time("Overall");const w=this._transport.getRenderingIntent(n,r,g,v),{renderingIntent:A,cacheKey:E}=w;b(this,ur,!1),d||(d=this._transport.getOptionalContentConfig(A));let S=this._intentStates.get(E);S||(S=Object.create(null),this._intentStates.set(E,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const C=!!(A&cs.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(I=this._stats)==null||I.time("Page Request"),this._pumpOperatorList(w));const N=B=>{var F;S.renderTasks.delete(R),C&&b(this,ur,!0),k(this,$a,Nd).call(this),B?(R.capability.reject(B),this._abortOperatorList({intentState:S,reason:B instanceof Error?B:new Error(B)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(F=globalThis.Stats)!=null&&F.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new A0({callback:N,params:{canvasContext:e,viewport:t,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:p});(S.renderTasks||(S.renderTasks=new Set)).add(R);const P=R.task;return Promise.all([S.displayReadyCapability.promise,d]).then(([B,F])=>{var V;if(this.destroyed){N();return}if((V=this._stats)==null||V.time("Rendering"),!(F.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:B,optionalContentConfig:F}),R.operatorListChanged()}).catch(N),P}getOperatorList({intent:e="display",annotationMode:t=Mi.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var p;function o(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(e,t,n,r,!0);let d=this._intentStates.get(l.cacheKey);d||(d=Object.create(null),this._intentStates.set(l.cacheKey,d));let h;return d.opListReadCapability||(h=Object.create(null),h.operatorListChanged=o,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(h),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(l)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Gd.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function o(){l.read().then(function({value:h,done:p}){if(p){n(d);return}d.lang??(d.lang=h.lang),Object.assign(d.styles,h.styles),d.items.push(...h.items),o()},r)}const l=t.getReader(),d={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),b(this,ur,!1),Promise.all(e)}cleanup(e=!1){b(this,ur,!0);const t=k(this,$a,Nd).call(this);return e&&t&&this._stats&&(this._stats=new G1),t}_startRenderPage(e,t){var r,o;const n=this._intentStates.get(t);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&k(this,$a,Nd).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:o,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:r},l).getReader(),p=this._intentStates.get(t);p.streamReader=h;const g=()=>{h.read().then(({value:v,done:w})=>{if(w){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,p),g())},v=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const w of p.renderTasks)w.operatorListChanged();k(this,$a,Nd).call(this)}if(p.displayReadyCapability)p.displayReadyCapability.reject(v);else if(p.opListReadCapability)p.opListReadCapability.reject(v);else throw v}})};g()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof wm){let r=vR;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Nr(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}ur=new WeakMap,$a=new WeakSet,Nd=function(){if(!a(this,ur)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,ur,!1),!0};var So,Xs,dr,Ua,rm,Va,Wa,Nn,mg,DE,jE,Pd,Vc,vg;const ut=class ut{constructor({name:e=null,port:t=null,verbosity:n=u2()}={}){_(this,Nn);_(this,So,Promise.withResolvers());_(this,Xs,null);_(this,dr,null);_(this,Ua,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(a(ut,Wa).has(t))throw new Error("Cannot use more than one PDFWorker per port.");a(ut,Wa).set(t,this),k(this,Nn,DE).call(this,t)}else k(this,Nn,jE).call(this)}get promise(){return a(this,So).promise}get port(){return a(this,dr)}get messageHandler(){return a(this,Xs)}destroy(){var e,t;this.destroyed=!0,(e=a(this,Ua))==null||e.terminate(),b(this,Ua,null),a(ut,Wa).delete(a(this,dr)),b(this,dr,null),(t=a(this,Xs))==null||t.destroy(),b(this,Xs,null)}static create(e){const t=a(this,Wa).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ut(e)}static get workerSrc(){if(Ns.workerSrc)return Ns.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Oe(this,"_setupFakeWorkerGlobal",(async()=>a(this,Vc,vg)?a(this,Vc,vg):(await import(this.workerSrc)).WorkerMessageHandler)())}};So=new WeakMap,Xs=new WeakMap,dr=new WeakMap,Ua=new WeakMap,rm=new WeakMap,Va=new WeakMap,Wa=new WeakMap,Nn=new WeakSet,mg=function(){a(this,So).resolve(),a(this,Xs).send("configure",{verbosity:this.verbosity})},DE=function(e){b(this,dr,e),b(this,Xs,new Ed("main","worker",e)),a(this,Xs).on("ready",()=>{}),k(this,Nn,mg).call(this)},jE=function(){if(a(ut,Va)||a(ut,Vc,vg)){k(this,Nn,Pd).call(this);return}let{workerSrc:e}=ut;try{ut._isSameOrigin(window.location,e)||(e=ut._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Ed("main","worker",t),r=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?a(this,So).reject(new Error("Worker was destroyed")):k(this,Nn,Pd).call(this)},o=new AbortController;t.addEventListener("error",()=>{a(this,Ua)||r()},{signal:o.signal}),n.on("test",d=>{if(o.abort(),this.destroyed||!d){r();return}b(this,Xs,n),b(this,dr,t),b(this,Ua,t),k(this,Nn,mg).call(this)}),n.on("ready",d=>{if(o.abort(),this.destroyed){r();return}try{l()}catch{k(this,Nn,Pd).call(this)}});const l=()=>{const d=new Uint8Array;n.send("test",d,[d.buffer])};l();return}catch{ym("The worker has been disabled.")}k(this,Nn,Pd).call(this)},Pd=function(){a(ut,Va)||(Ne("Setting up fake worker."),b(ut,Va,!0)),ut._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){a(this,So).reject(new Error("Worker was destroyed"));return}const t=new P2;b(this,dr,t);const n=`fake${bn(ut,rm)._++}`,r=new Ed(n+"_worker",n,t);e.setup(r,t),b(this,Xs,new Ed(n,n+"_worker",t)),k(this,Nn,mg).call(this)}).catch(e=>{a(this,So).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Vc=new WeakSet,vg=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},_(ut,Vc),_(ut,rm,0),_(ut,Va,!1),_(ut,Wa,new WeakMap),kn&&(b(ut,Va,!0),Ns.workerSrc||(Ns.workerSrc="./pdf.worker.mjs")),ut._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const r=new URL(t,n);return n.origin===r.origin},ut._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},ut.fromPort=e=>{if(w2("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ut.create(e)};let Au=ut;var hr,Ei,Wc,Gc,fr,Ga,Rd;class xR{constructor(e,t,n,r,o){_(this,Ga);_(this,hr,new Map);_(this,Ei,new Map);_(this,Wc,new Map);_(this,Gc,new Map);_(this,fr,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PE,this.fontLoader=new _2({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Oe(this,"annotationStorage",new vw)}getRenderingIntent(e,t=Mi.ENABLE,n=null,r=!1,o=!1){let l=cs.DISPLAY,d=l0;switch(e){case"any":l=cs.ANY;break;case"display":break;case"print":l=cs.PRINT;break;default:Ne(`getRenderingIntent - invalid intent: ${e}`)}const h=l&cs.PRINT&&n instanceof fE?n:this.annotationStorage;switch(t){case Mi.DISABLE:l+=cs.ANNOTATIONS_DISABLE;break;case Mi.ENABLE:break;case Mi.ENABLE_FORMS:l+=cs.ANNOTATIONS_FORMS;break;case Mi.ENABLE_STORAGE:l+=cs.ANNOTATIONS_STORAGE,d=h.serializable;break;default:Ne(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(l+=cs.IS_EDITING),o&&(l+=cs.OPLIST);const{ids:p,hash:g}=h.modifiedIds,v=[l,d.hash,g];return{renderingIntent:l,cacheKey:v.join("_"),annotationStorageSerializable:d,modifiedIds:p}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=a(this,fr))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of a(this,Ei).values())e.push(r._destroy());a(this,Ei).clear(),a(this,Wc).clear(),a(this,Gc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,o;this.commonObjs.clear(),this.fontLoader.clear(),a(this,hr).clear(),this.filterFactory.destroy(),Wd.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Nr("Worker was terminated.")),(o=this.messageHandler)==null||o.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{Mt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){r.close();return}Mt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:l}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((d=t.onProgress)==null||d.call(t,this._lastProgress)),this._fullReader.onProgress=h=>{var p;(p=t.onProgress)==null||p.call(t,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:l}}),e.on("GetRangeReader",(n,r)=>{Mt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:l,done:d}){if(d){r.close();return}Mt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{o.cancel(l),r.ready.catch(d=>{if(!this.destroyed)throw d})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new yR(n,this))}),e.on("DocException",n=>{t._capability.reject(On(n))}),e.on("PasswordRequest",n=>{b(this,fr,Promise.withResolvers());try{if(!t.onPassword)throw On(n);const r=o=>{o instanceof Error?a(this,fr).reject(o):a(this,fr).resolve({password:o})};t.onPassword(r,n.code)}catch(r){a(this,fr).reject(r)}return a(this,fr).promise}),e.on("DataLoaded",n=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;a(this,Ei).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,o])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in o){const g=o.error;Ne(`Error during font loading: ${g}`),this.commonObjs.resolve(n,g);break}const d=this._params.pdfBug&&((l=globalThis.FontInspector)!=null&&l.enabled)?(g,v)=>globalThis.FontInspector.fontAdded(g,v):null,h=new C2(o,d);this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(n,h)});break;case"CopyLocalImage":const{imageRef:p}=o;Mt(p,"The imageRef must be defined.");for(const g of a(this,Ei).values())for(const[,v]of g.objs)if((v==null?void 0:v.ref)===p)return v.dataLen?(this.commonObjs.resolve(n,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,o,l])=>{var h;if(this.destroyed)return;const d=a(this,Ei).get(r);if(!d.objs.has(n)){if(d._intentStates.size===0){(h=l==null?void 0:l.bitmap)==null||h.close();return}switch(o){case"Image":case"Pattern":d.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Ne("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=a(this,Wc).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&a(this,Gc).set(o.refStr,e);const l=new wR(t,o,this,this._params.pdfBug);return a(this,Ei).set(t,l),l});return a(this,Wc).set(t,r),r}getPageIndex(e){return c0(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return k(this,Ga,Rd).call(this,"GetFieldObjects")}hasJSActions(){return k(this,Ga,Rd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return k(this,Ga,Rd).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return k(this,Ga,Rd).call(this,"GetOptionalContentConfig").then(t=>new J2(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=a(this,hr).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>{var o,l;return{info:r[0],metadata:r[1]?new Y2(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return a(this,hr).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of a(this,Ei).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),a(this,hr).clear(),this.filterFactory.destroy(!0),Wd.cleanup()}}cachedPageNumber(e){if(!c0(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return a(this,Gc).get(t)??null}}hr=new WeakMap,Ei=new WeakMap,Wc=new WeakMap,Gc=new WeakMap,fr=new WeakMap,Ga=new WeakSet,Rd=function(e,t=null){const n=a(this,hr).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return a(this,hr).set(e,r),r};var Eo;class bR{constructor(e){_(this,Eo,null);te(this,"onContinue",null);te(this,"onError",null);b(this,Eo,e)}get promise(){return a(this,Eo).capability.promise}cancel(e=0){a(this,Eo).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=a(this,Eo).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=a(this,Eo);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Eo=new WeakMap;var _o,Xa;const fa=class fa{constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:o,operatorList:l,pageIndex:d,canvasFactory:h,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:v=!1,pageColors:w=null}){_(this,_o,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=d,this.canvasFactory=h,this.filterFactory=p,this._pdfBug=v,this.pageColors=w,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new bR(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var d,h;if(this.cancelled)return;if(this._canvas){if(a(fa,Xa).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a(fa,Xa).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:o,background:l}=this.params;this.gfx=new fc(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(e=null,t=0){var n,r,o;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),a(this,_o)&&(window.cancelAnimationFrame(a(this,_o)),b(this,_o,null)),a(fa,Xa).delete(this._canvas),e||(e=new wm(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(o=(r=this.task).onError)==null||o.call(r,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,_o,window.requestAnimationFrame(()=>{b(this,_o,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),a(fa,Xa).delete(this._canvas),this.callback())))}};_o=new WeakMap,Xa=new WeakMap,_(fa,Xa,new WeakSet);let A0=fa;const zd="5.3.93",FE="cbeef3233";function lA(u){return Math.floor(Math.max(0,Math.min(1,u))*255).toString(16).padStart(2,"0")}function vd(u){return Math.max(0,Math.min(255,255*u))}class cA{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=vd(e),[e,e,e]}static G_HTML([e]){const t=lA(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(vd)}static RGB_HTML(e){return`#${e.map(lA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[vd(1-Math.min(1,e+r)),vd(1-Math.min(1,n+r)),vd(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,o=1-t,l=1-n,d=Math.min(r,o,l);return["CMYK",r,o,l,d]}}class AR{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){et("Abstract method `_createSVG` called.")}}class Xd extends AR{_createSVG(e){return document.createElementNS(Gi,e)}}class Aw{static setupStorage(e,t,n,r,o){const l=r.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),o==="print")break;e.addEventListener("input",d=>{r.setValue(t,{value:d.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",d=>{r.setValue(t,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),o==="print")break;e.addEventListener("input",d=>{r.setValue(t,{value:d.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const d of n.children)d.attributes.value===l.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}e.addEventListener("input",d=>{const h=d.target.options,p=h.selectedIndex===-1?"":h[h.selectedIndex].value;r.setValue(t,{value:p})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:o}){const{attributes:l}=t,d=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[h,p]of Object.entries(l))if(p!=null)switch(h){case"class":p.length&&e.setAttribute(h,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!d||h!=="href"&&h!=="newWindow")&&e.setAttribute(h,p)}d&&o.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){var v,w;const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,o=e.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:o,linkService:n});const d=o!=="richText",h=e.div;if(h.append(l),e.viewport){const A=`matrix(${e.viewport.transform.join(",")})`;h.style.transform=A}d&&h.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);l.append(A),d&&Gd.shouldBuildText(r.name)&&p.push(A)}return{textDivs:p}}const g=[[r,-1,l]];for(;g.length>0;){const[A,E,S]=g.at(-1);if(E+1===A.children.length){g.pop();continue}const C=A.children[++g.at(-1)[1]];if(C===null)continue;const{name:N}=C;if(N==="#text"){const P=document.createTextNode(C.value);p.push(P),S.append(P);continue}const R=(v=C==null?void 0:C.attributes)!=null&&v.xmlns?document.createElementNS(C.attributes.xmlns,N):document.createElement(N);if(S.append(R),C.attributes&&this.setAttributes({html:R,element:C,storage:t,intent:o,linkService:n}),((w=C.children)==null?void 0:w.length)>0)g.push([C,-1,R]);else if(C.value){const P=document.createTextNode(C.value);d&&Gd.shouldBuildText(N)&&p.push(P),R.append(P)}}for(const A of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const SR=9,Sl=new WeakSet;class uA{static create(e){switch(e.data.annotationType){case Ct.LINK:return new OE(e);case Ct.TEXT:return new ER(e);case Ct.WIDGET:switch(e.data.fieldType){case"Tx":return new _R(e);case"Btn":return e.data.radioButton?new HE(e):e.data.checkBox?new kR(e):new TR(e);case"Ch":return new NR(e);case"Sig":return new CR(e)}return new kl(e);case Ct.POPUP:return new E0(e);case Ct.FREETEXT:return new GE(e);case Ct.LINE:return new RR(e);case Ct.SQUARE:return new LR(e);case Ct.CIRCLE:return new MR(e);case Ct.POLYLINE:return new XE(e);case Ct.CARET:return new DR(e);case Ct.INK:return new Sw(e);case Ct.POLYGON:return new IR(e);case Ct.HIGHLIGHT:return new qE(e);case Ct.UNDERLINE:return new jR(e);case Ct.SQUIGGLY:return new FR(e);case Ct.STRIKEOUT:return new OR(e);case Ct.STAMP:return new KE(e);case Ct.FILEATTACHMENT:return new zR(e);default:return new Pt(e)}}}var qa,Xc,qc,$h,S0;const Pw=class Pw{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){_(this,$h);_(this,qa,null);_(this,Xc,!1);_(this,qc,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Pw._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;a(this,qa)||b(this,qa,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&k(this,$h,S0).call(this,t),(n=a(this,qc))==null||n.popup.updateEdited(e)}resetEdited(){var e;a(this,qa)&&(k(this,$h,S0).call(this,a(this,qa).rect),(e=a(this,qc))==null||e.popup.resetEdited(),b(this,qa,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof kl||(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof E0){const{rotation:S}=t;return!t.hasOwnCanvas&&S!==0&&this.setRotation(S,o),o}const{width:d,height:h}=this;if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const S=t.borderStyle.horizontalCornerRadius,C=t.borderStyle.verticalCornerRadius;if(S>0||C>0){const R=`calc(${S}px * var(--total-scale-factor)) / calc(${C}px * var(--total-scale-factor))`;l.borderRadius=R}else if(this instanceof HE){const R=`calc(${d}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;l.borderRadius=R}switch(t.borderStyle.style){case tc.SOLID:l.borderStyle="solid";break;case tc.DASHED:l.borderStyle="dashed";break;case tc.BEVELED:Ne("Unimplemented border style: beveled");break;case tc.INSET:Ne("Unimplemented border style: inset");break;case tc.UNDERLINE:l.borderBottomStyle="solid";break}const N=t.borderColor||null;N?(b(this,Xc,!0),l.borderColor=we.makeHexColor(N[0]|0,N[1]|0,N[2]|0)):l.borderWidth=0}const p=we.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:g,pageHeight:v,pageX:w,pageY:A}=r.rawDims;l.left=`${100*(p[0]-w)/g}%`,l.top=`${100*(p[1]-A)/v}%`;const{rotation:E}=t;return t.hasOwnCanvas||E===0?(l.width=`${100*d/g}%`,l.height=`${100*h/v}%`):this.setRotation(E,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:o,height:l}=this;e%180!==0&&([o,l]=[l,o]),t.style.width=`${100*o/n}%`,t.style.height=`${100*l/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const o=r.detail[t],l=o[0],d=o.slice(1);r.target.style[n]=cA[`${l}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[n]:cA[`${l}_rgb`](d)})};return Oe(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const o=e[r]||n[r];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,o]of Object.entries(t)){const l=n[r];if(l){const d={detail:{[r]:o},target:e};l(d),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,o]=this.data.rect.map(S=>Math.fround(S));if(e.length===8){const[S,C,N,R]=e.subarray(2,6);if(r===S&&o===C&&t===N&&n===R)return}const{style:l}=this.container;let d;if(a(this,Xc)){const{borderColor:S,borderWidth:C}=l;l.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const h=r-t,p=o-n,{svgFactory:g}=this,v=g.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0),v.role="none";const w=g.createElement("defs");v.append(w);const A=g.createElement("clipPath"),E=`clippath_${this.data.id}`;A.setAttribute("id",E),A.setAttribute("clipPathUnits","objectBoundingBox"),w.append(A);for(let S=2,C=e.length;S<C;S+=8){const N=e[S],R=e[S+1],P=e[S+2],L=e[S+3],I=g.createElement("rect"),B=(P-t)/h,F=(o-R)/p,V=(N-P)/h,G=(R-L)/p;I.setAttribute("x",B),I.setAttribute("y",F),I.setAttribute("width",V),I.setAttribute("height",G),A.append(I),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${F}" width="${V}" height="${G}"/>`)}a(this,Xc)&&(d.push("</g></svg>')"),l.backgroundImage=d.join("")),this.container.append(v),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:e}=this,t=b(this,qc,new E0({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){et("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:o,id:l,exportValues:d}of r){if(o===-1||l===t)continue;const h=typeof d=="string"?d:null,p=document.querySelector(`[data-element-id="${l}"]`);if(p&&!Sl.has(p)){Ne(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:p})}return n}for(const r of document.getElementsByName(e)){const{exportValue:o}=r,l=r.getAttribute("data-element-id");l!==t&&Sl.has(r)&&n.push({id:l,exportValue:o,domElement:r})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};qa=new WeakMap,Xc=new WeakMap,qc=new WeakMap,$h=new WeakSet,S0=function(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:d,pageY:h}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-d)/o}%`,t.top=`${100*(l-e[3]+h)/l}%`,r===0?(t.width=`${100*(e[2]-e[0])/o}%`,t.height=`${100*(e[3]-e[1])/l}%`):this.setRotation(r)};let Pt=Pw;var ds,ca,zE,BE;class OE extends Pt{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});_(this,ds);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(r,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(r,t.action),o=!0):t.attachment?(k(this,ds,zE).call(this,r,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(k(this,ds,BE).call(this,r,t.setOCGState),o=!0):t.dest?(this._bindLink(r,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),o=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&k(this,ds,ca).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),k(this,ds,ca).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const l=r.get(o);l&&(t[l]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),k(this,ds,ca).call(this)}_bindResetFormAction(t,n){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),k(this,ds,ca).call(this),!this._fieldObjects){Ne('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var v;r==null||r();const{fields:o,refs:l,include:d}=n,h=[];if(o.length!==0||l.length!==0){const w=new Set(l);for(const A of o){const E=this._fieldObjects[A]||[];for(const{id:S}of E)w.add(S)}for(const A of Object.values(this._fieldObjects))for(const E of A)w.has(E.id)===d&&h.push(E)}else for(const w of Object.values(this._fieldObjects))h.push(...w);const p=this.annotationStorage,g=[];for(const w of h){const{id:A}=w;switch(g.push(A),w.type){case"text":{const S=w.defaultValue||"";p.setValue(A,{value:S});break}case"checkbox":case"radiobutton":{const S=w.defaultValue===w.exportValues;p.setValue(A,{value:S});break}case"combobox":case"listbox":{const S=w.defaultValue||"";p.setValue(A,{value:S});break}default:continue}const E=document.querySelector(`[data-element-id="${A}"]`);if(E){if(!Sl.has(E)){Ne(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}ds=new WeakSet,ca=function(){this.container.setAttribute("data-internal-link","")},zE=function(t,n,r=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,r),!1},k(this,ds,ca).call(this)},BE=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),k(this,ds,ca).call(this)};class ER extends Pt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class kl extends Pt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Qt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,o){n.includes("mouse")?e.addEventListener(n,l=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{var d;if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l)}}))})}_setEventListeners(e,t,n,r){var o,l,d;for(const[h,p]of n)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,h,p,r),p==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):p==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":we.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||SR,o=e.style;let l;const d=2,h=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d),g=Math.round(p/(Py*r))||1,v=p/g;l=Math.min(r,h(v/Py))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d);l=Math.min(r,h(p/Py))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=we.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class _R extends kl{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const o=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),o.setValue(l.id,{[r]:n})}render(){var r,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let d=l.value||"";const h=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;h&&d.length>h&&(d=d.slice(0,h));let p=l.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const g={userValue:d,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=p??d,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",p??d),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Sl.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const v=this.data.dateFormat||this.data.timeFormat;v&&(n.title=v),this._setRequired(n,this.data.required),h&&(n.maxLength=h),n.addEventListener("input",A=>{e.setValue(t,{value:A.target.value}),this.setPropertyOnSiblings(n,"value",A.target.value,"value"),g.formattedValue=null}),n.addEventListener("resetform",A=>{const E=this.data.defaultFieldValue??"";n.value=g.userValue=E,g.formattedValue=null});let w=A=>{const{formattedValue:E}=g;E!=null&&(A.target.value=E),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",E=>{var C;if(g.focused)return;const{target:S}=E;g.userValue&&(S.value=g.userValue),g.lastCommittedValue=S.value,g.commitKey=1,(C=this.data.actions)!=null&&C.Focus||(g.focused=!0)}),n.addEventListener("updatefromsandbox",E=>{this.showElementAndHideCanvas(E.target);const S={value(C){g.userValue=C.detail.value??"",e.setValue(t,{value:g.userValue.toString()}),C.target.value=g.userValue},formattedValue(C){const{formattedValue:N}=C.detail;g.formattedValue=N,N!=null&&C.target!==document.activeElement&&(C.target.value=N),e.setValue(t,{formattedValue:N})},selRange(C){C.target.setSelectionRange(...C.detail.selRange)},charLimit:C=>{var L;const{charLimit:N}=C.detail,{target:R}=C;if(N===0){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",N);let P=g.userValue;!P||P.length<=N||(P=P.slice(0,N),R.value=g.userValue=P,e.setValue(t,{value:P}),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(S,E)}),n.addEventListener("keydown",E=>{var N;g.commitKey=1;let S=-1;if(E.key==="Escape"?S=0:E.key==="Enter"&&!this.data.multiLine?S=2:E.key==="Tab"&&(g.commitKey=3),S===-1)return;const{value:C}=E.target;g.lastCommittedValue!==C&&(g.lastCommittedValue=C,g.userValue=C,(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:S,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}}))});const A=w;w=null,n.addEventListener("blur",E=>{var C,N;if(!g.focused||!E.relatedTarget)return;(C=this.data.actions)!=null&&C.Blur||(g.focused=!1);const{value:S}=E.target;g.userValue=S,g.lastCommittedValue!==S&&((N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,willCommit:!0,commitKey:g.commitKey,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}})),A(E)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",E=>{var B;g.lastCommittedValue=null;const{data:S,target:C}=E,{value:N,selectionStart:R,selectionEnd:P}=C;let L=R,I=P;switch(E.inputType){case"deleteWordBackward":{const F=N.substring(0,R).match(/\w*[^\w]*$/);F&&(L-=F[0].length);break}case"deleteWordForward":{const F=N.substring(R).match(/^[^\w]*\w*/);F&&(I+=F[0].length);break}case"deleteContentBackward":R===P&&(L-=1);break;case"deleteContentForward":R===P&&(I+=1);break}E.preventDefault(),(B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:N,change:S||"",willCommit:!1,selStart:L,selEnd:I}})}),this._setEventListeners(n,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.value)}if(w&&n.addEventListener("blur",w),this.data.comb){const E=(this.data.rect[2]-this.data.rect[0])/h;n.classList.add("comb"),n.style.letterSpacing=`calc(${E}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class CR extends kl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class kR extends kl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Sl.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:d,checked:h}=l.target;for(const p of this._getElementsByName(d,n)){const g=h&&p.exportValue===t.exportValue;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}e.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const d=t.defaultFieldValue||"Off";l.target.checked=d===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const d={value(h){h.target.checked=h.detail.value!=="Off",e.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(d,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class HE extends kl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const o=document.createElement("input");if(Sl.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:d,checked:h}=l.target;for(const p of this._getElementsByName(d,n))e.setValue(p.id,{value:!1});e.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const d=t.defaultFieldValue;l.target.checked=d!=null&&d===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;o.addEventListener("updatefromsandbox",d=>{const h={value:p=>{const g=l===p.detail.value;for(const v of this._getElementsByName(p.target.name)){const w=g&&v.id===n;v.domElement&&(v.domElement.checked=w),e.setValue(v.id,{value:w})}}};this._dispatchEventFromSandbox(h,d)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class TR extends OE{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class NR extends kl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Sl.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",g=>{const v=this.data.defaultFieldValue;for(const w of r.options)w.selected=w.value===v});for(const g of this.data.options){const v=document.createElement("option");v.textContent=g.displayValue,v.value=g.exportValue,n.value.includes(g.exportValue)&&(v.setAttribute("selected",!0),o=!1),r.append(v)}let l=null;if(o){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),r.prepend(g),l=()=>{g.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const d=g=>{const v=g?"value":"textContent",{options:w,multiple:A}=r;return A?Array.prototype.filter.call(w,E=>E.selected).map(E=>E[v]):w.selectedIndex===-1?null:w[w.selectedIndex][v]};let h=d(!1);const p=g=>{const v=g.target.options;return Array.prototype.map.call(v,w=>({displayValue:w.textContent,exportValue:w.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",g=>{const v={value(w){l==null||l();const A=w.detail.value,E=new Set(Array.isArray(A)?A:[A]);for(const S of r.options)S.selected=E.has(S.value);e.setValue(t,{value:d(!0)}),h=d(!1)},multipleSelection(w){r.multiple=!0},remove(w){const A=r.options,E=w.detail.remove;A[E].selected=!1,r.remove(E),A.length>0&&Array.prototype.findIndex.call(A,C=>C.selected)===-1&&(A[0].selected=!0),e.setValue(t,{value:d(!0),items:p(w)}),h=d(!1)},clear(w){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),h=d(!1)},insert(w){const{index:A,displayValue:E,exportValue:S}=w.detail.insert,C=r.children[A],N=document.createElement("option");N.textContent=E,N.value=S,C?C.before(N):r.append(N),e.setValue(t,{value:d(!0),items:p(w)}),h=d(!1)},items(w){const{items:A}=w.detail;for(;r.length!==0;)r.remove(0);for(const E of A){const{displayValue:S,exportValue:C}=E,N=document.createElement("option");N.textContent=S,N.value=C,r.append(N)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:d(!0),items:p(w)}),h=d(!1)},indices(w){const A=new Set(w.detail.indices);for(const E of w.target.options)E.selected=A.has(E.index);e.setValue(t,{value:d(!0)}),h=d(!1)},editable(w){w.target.disabled=!w.detail.editable}};this._dispatchEventFromSandbox(v,g)}),r.addEventListener("input",g=>{var A;const v=d(!0),w=d(!1);e.setValue(t,{value:v}),g.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,change:w,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):r.addEventListener("input",function(g){e.setValue(t,{value:d(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class E0 extends Pt{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Pt._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new PR({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${gw}${r}`).join(",")),this.container}}var Kc,om,am,Yc,Qc,bt,pr,Ka,Uh,Vh,Jc,gr,qs,mr,Wh,vr,Gh,Ya,Qa,tt,yg,_0,$E,UE,VE,WE,wg,xg,C0;class PR{constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:o,contentsObj:l,richText:d,parent:h,rect:p,parentRect:g,open:v}){_(this,tt);_(this,Kc,k(this,tt,VE).bind(this));_(this,om,k(this,tt,C0).bind(this));_(this,am,k(this,tt,xg).bind(this));_(this,Yc,k(this,tt,wg).bind(this));_(this,Qc,null);_(this,bt,null);_(this,pr,null);_(this,Ka,null);_(this,Uh,null);_(this,Vh,null);_(this,Jc,null);_(this,gr,!1);_(this,qs,null);_(this,mr,null);_(this,Wh,null);_(this,vr,null);_(this,Gh,null);_(this,Ya,null);_(this,Qa,!1);var w;b(this,bt,e),b(this,Gh,r),b(this,pr,l),b(this,vr,d),b(this,Vh,h),b(this,Qc,t),b(this,Wh,p),b(this,Jc,g),b(this,Uh,n),b(this,Ka,bm.toDateObject(o)),this.trigger=n.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",a(this,Yc)),A.addEventListener("mouseenter",a(this,am)),A.addEventListener("mouseleave",a(this,om)),A.classList.add("popupTriggerArea");for(const A of n)(w=A.container)==null||w.addEventListener("keydown",a(this,Kc));a(this,bt).hidden=!0,v&&k(this,tt,wg).call(this)}render(){if(a(this,qs))return;const e=b(this,qs,document.createElement("div"));if(e.className="popup",a(this,Qc)){const o=e.style.outlineColor=we.makeHexColor(...a(this,Qc));e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=a(this,Gh),e.append(t),a(this,Ka)){const o=document.createElement("time");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:a(this,Ka).valueOf()})),o.dateTime=a(this,Ka).toISOString(),t.append(o)}const r=a(this,tt,yg);if(r)Aw.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(a(this,pr));e.append(o)}a(this,bt).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let o=0,l=r.length;o<l;++o){const d=r[o];n.append(document.createTextNode(d)),o<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;a(this,Ya)||b(this,Ya,{contentsObj:a(this,pr),richText:a(this,vr)}),e&&b(this,mr,null),t&&(b(this,vr,k(this,tt,UE).call(this,t)),b(this,pr,null)),(n=a(this,qs))==null||n.remove(),b(this,qs,null)}resetEdited(){var e;a(this,Ya)&&({contentsObj:bn(this,pr)._,richText:bn(this,vr)._}=a(this,Ya),b(this,Ya,null),(e=a(this,qs))==null||e.remove(),b(this,qs,null),b(this,mr,null))}forceHide(){b(this,Qa,this.isVisible),a(this,Qa)&&(a(this,bt).hidden=!0)}maybeShow(){a(this,Qa)&&(a(this,qs)||k(this,tt,xg).call(this),b(this,Qa,!1),a(this,bt).hidden=!1)}get isVisible(){return a(this,bt).hidden===!1}}Kc=new WeakMap,om=new WeakMap,am=new WeakMap,Yc=new WeakMap,Qc=new WeakMap,bt=new WeakMap,pr=new WeakMap,Ka=new WeakMap,Uh=new WeakMap,Vh=new WeakMap,Jc=new WeakMap,gr=new WeakMap,qs=new WeakMap,mr=new WeakMap,Wh=new WeakMap,vr=new WeakMap,Gh=new WeakMap,Ya=new WeakMap,Qa=new WeakMap,tt=new WeakSet,yg=function(){const e=a(this,vr),t=a(this,pr);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&a(this,vr).html||null},_0=function(){var e,t,n;return((n=(t=(e=a(this,tt,yg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},$E=function(){var e,t,n;return((n=(t=(e=a(this,tt,yg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},UE=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:a(this,tt,$E),fontSize:a(this,tt,_0)?`calc(${a(this,tt,_0)}px * var(--total-scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:r});return n},VE=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&a(this,gr))&&k(this,tt,wg).call(this)},WE=function(){if(a(this,mr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:o}}}=a(this,Vh);let l=!!a(this,Jc),d=l?a(this,Jc):a(this,Wh);for(const E of a(this,Uh))if(!d||we.intersect(E.data.rect,d)!==null){d=E.data.rect,l=!0;break}const h=we.normalizeRect([d[0],e[3]-d[1]+e[1],d[2],e[3]-d[3]+e[1]]),g=l?d[2]-d[0]+5:0,v=h[0]+g,w=h[1];b(this,mr,[100*(v-r)/t,100*(w-o)/n]);const{style:A}=a(this,bt);A.left=`${a(this,mr)[0]}%`,A.top=`${a(this,mr)[1]}%`},wg=function(){b(this,gr,!a(this,gr)),a(this,gr)?(k(this,tt,xg).call(this),a(this,bt).addEventListener("click",a(this,Yc)),a(this,bt).addEventListener("keydown",a(this,Kc))):(k(this,tt,C0).call(this),a(this,bt).removeEventListener("click",a(this,Yc)),a(this,bt).removeEventListener("keydown",a(this,Kc)))},xg=function(){a(this,qs)||this.render(),this.isVisible?a(this,gr)&&a(this,bt).classList.add("focused"):(k(this,tt,WE).call(this),a(this,bt).hidden=!1,a(this,bt).style.zIndex=parseInt(a(this,bt).style.zIndex)+1e3)},C0=function(){a(this,bt).classList.remove("focused"),!(a(this,gr)||!this.isVisible)&&(a(this,bt).hidden=!0,a(this,bt).style.zIndex=parseInt(a(this,bt).style.zIndex)-1e3)};class GE extends Pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Te.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Xh;class RR extends Pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,Xh,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:r}=this,o=this.svgFactory.create(n,r,!0),l=b(this,Xh,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Xh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xh=new WeakMap;var qh;class LR extends Pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,qh,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:r}=this,o=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,d=b(this,qh,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",l/2),d.setAttribute("y",l/2),d.setAttribute("width",n-l),d.setAttribute("height",r-l),d.setAttribute("stroke-width",l||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,qh)}addHighlightArea(){this.container.classList.add("highlightArea")}}qh=new WeakMap;var Kh;class MR extends Pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,Kh,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:r}=this,o=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,d=b(this,Kh,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",n/2),d.setAttribute("cy",r/2),d.setAttribute("rx",n/2-l/2),d.setAttribute("ry",r/2-l/2),d.setAttribute("stroke-width",l||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Kh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kh=new WeakMap;var Yh;class XE extends Pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,Yh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:r,popupRef:o},width:l,height:d}=this;if(!n)return this.container;const h=this.svgFactory.create(l,d,!0);let p=[];for(let v=0,w=n.length;v<w;v+=2){const A=n[v]-t[0],E=t[3]-n[v+1];p.push(`${A},${E}`)}p=p.join(" ");const g=b(this,Yh,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",p),g.setAttribute("stroke-width",r.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),h.append(g),this.container.append(h),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Yh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yh=new WeakMap;class IR extends XE{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class DR extends Pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Qh,Ja,Jh,k0;class Sw extends Pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,Jh);_(this,Qh,null);_(this,Ja,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Te.HIGHLIGHT:Te.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:r,borderStyle:o,popupRef:l}}=this,{transform:d,width:h,height:p}=k(this,Jh,k0).call(this,n,t),g=this.svgFactory.create(h,p,!0),v=b(this,Qh,this.svgFactory.createElement("svg:g"));g.append(v),v.setAttribute("stroke-width",o.width||1),v.setAttribute("stroke-linecap","round"),v.setAttribute("stroke-linejoin","round"),v.setAttribute("stroke-miterlimit",10),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),v.setAttribute("transform",d);for(let w=0,A=r.length;w<A;w++){const E=this.svgFactory.createElement(this.svgElementName);a(this,Ja).push(E),E.setAttribute("points",r[w].join(",")),v.append(E)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(g),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:r,rect:o}=t,l=a(this,Qh);if(n>=0&&l.setAttribute("stroke-width",n||1),r)for(let d=0,h=a(this,Ja).length;d<h;d++)a(this,Ja)[d].setAttribute("points",r[d].join(","));if(o){const{transform:d,width:h,height:p}=k(this,Jh,k0).call(this,this.data.rotation,o);l.parentElement.setAttribute("viewBox",`0 0 ${h} ${p}`),l.setAttribute("transform",d)}}getElementsToTriggerPopup(){return a(this,Ja)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qh=new WeakMap,Ja=new WeakMap,Jh=new WeakSet,k0=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class qE extends Pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Te.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class jR extends Pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class FR extends Pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class OR extends Pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class KE extends Pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Te.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Zh,ef,T0;class zR extends Pt{constructor(t){var r;super(t,{isRenderable:!0});_(this,ef);_(this,Zh,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",k(this,ef,T0).bind(this)),b(this,Zh,r);const{isMac:o}=Qt.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(o?l.metaKey:l.ctrlKey)&&k(this,ef,T0).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return a(this,Zh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zh=new WeakMap,ef=new WeakSet,T0=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var tf,Za,Co,nf,Go,N0,P0,Zc;let Ew=(Zc=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:o,viewport:l,structTreeLayer:d}){_(this,Go);_(this,tf,null);_(this,Za,null);_(this,Co,new Map);_(this,nf,null);this.div=e,b(this,tf,t),b(this,Za,n),b(this,nf,d||null),this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return a(this,Co).size>0}async render(e){var l;const{annotations:t}=e,n=this.div;$o(n,this.viewport);const r=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Xd,annotationStorage:e.annotationStorage||new vw,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const d of t){if(d.noHTML)continue;const h=d.annotationType===Ct.POPUP;if(h){const v=r.get(d.id);if(!v)continue;o.elements=v}else if(d.rect[2]===d.rect[0]||d.rect[3]===d.rect[1])continue;o.data=d;const p=uA.create(o);if(!p.isRenderable)continue;if(!h&&d.popupRef){const v=r.get(d.popupRef);v?v.push(p):r.set(d.popupRef,[p])}const g=p.render();d.hidden&&(g.style.visibility="hidden"),await k(this,Go,N0).call(this,g,d.id,o.elements),p._isEditable&&(a(this,Co).set(p.data.id,p),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(p))}k(this,Go,P0).call(this)}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new Xd,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=Zc._defaultBorderStyle),n.data=r;const o=uA.create(n);if(!o.isRenderable)continue;const l=o.render();await k(this,Go,N0).call(this,l,r.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,$o(t,{rotation:e.rotation}),k(this,Go,P0).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(a(this,Co).values())}getEditableAnnotation(e){return a(this,Co).get(e)}static get _defaultBorderStyle(){return Oe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:tc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},tf=new WeakMap,Za=new WeakMap,Co=new WeakMap,nf=new WeakMap,Go=new WeakSet,N0=async function(e,t,n){var d,h;const r=e.firstChild||e,o=r.id=`${gw}${t}`,l=await((d=a(this,nf))==null?void 0:d.getAriaAttributes(o));if(l)for(const[p,g]of l)r.setAttribute(p,g);n?n.at(-1).container.after(e):(this.div.append(e),(h=a(this,tf))==null||h.moveElementInDOM(this.div,e,r,!1))},P0=function(){var t;if(!a(this,Za))return;const e=this.div;for(const[n,r]of a(this,Za)){const o=e.querySelector(`[data-annotation-id="${n}"]`);if(!o)continue;r.className="annotationContent";const{firstChild:l}=o;l?l.nodeName==="CANVAS"?l.replaceWith(r):l.classList.contains("annotationContent")?l.after(r):l.before(r):o.append(r);const d=a(this,Co).get(n);d&&(d._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,o.id,r),d._hasNoCanvas=!1):d.canvas=r)}a(this,Za).clear()},Zc);const tg=/\r\n?|\n/g;var Ks,Zn,sf,el,es,It,YE,QE,JE,bg,Tr,Ag,Sg,ZE,L0,e_;const it=class it extends rt{constructor(t){super({...t,name:"freeTextEditor"});_(this,It);_(this,Ks);_(this,Zn,"");_(this,sf,`${this.id}-editor`);_(this,el,null);_(this,es);b(this,Ks,t.color||it._defaultColor||rt._defaultLineColor),b(this,es,t.fontSize||it._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=it.prototype,n=l=>l.isEmpty(),r=Uo.TRANSLATE_SMALL,o=Uo.TRANSLATE_BIG;return Oe(this,"_keyboardManager",new Tf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){rt.initialize(t,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case He.FREETEXT_SIZE:it._defaultFontSize=n;break;case He.FREETEXT_COLOR:it._defaultColor=n;break}}updateParams(t,n){switch(t){case He.FREETEXT_SIZE:k(this,It,YE).call(this,n);break;case He.FREETEXT_COLOR:k(this,It,QE).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[He.FREETEXT_SIZE,it._defaultFontSize],[He.FREETEXT_COLOR,it._defaultColor||rt._defaultLineColor]]}get propertiesToUpdate(){return[[He.FREETEXT_SIZE,a(this,es)],[He.FREETEXT_COLOR,a(this,Ks)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-it._internalPadding*t,-(it._internalPadding+a(this,es))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,el,new AbortController);const t=this._uiManager.combinedSignal(a(this,el));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",a(this,sf)),this._isDraggable=!0,(t=a(this,el))==null||t.abort(),b(this,el,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=a(this,Zn),n=b(this,Zn,k(this,It,JE).call(this).trimEnd());if(t===n)return;const r=o=>{if(b(this,Zn,o),!o){this.remove();return}k(this,It,Sg).call(this),this._uiManager.rebuild(this),k(this,It,bg).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(t)},mustExec:!1}),k(this,It,bg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){it._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",a(this,sf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${a(this,es)}px * var(--total-scale-factor))`,r.color=a(this,Ks),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[o,l]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[h,p]=this.getInitialTranslation();[h,p]=this.pageTranslationToScreen(h,p);const[g,v]=this.pageDimensions,[w,A]=this.pageTranslation;let E,S;switch(this.rotation){case 0:E=t+(d[0]-w)/g,S=n+this.height-(d[1]-A)/v;break;case 90:E=t+(d[0]-w)/g,S=n-(d[1]-A)/v,[h,p]=[p,-h];break;case 180:E=t-this.width+(d[0]-w)/g,S=n-(d[1]-A)/v,[h,p]=[-h,-p];break;case 270:E=t+(d[0]-w-this.height*v)/g,S=n+(d[1]-A-this.width*g)/v,[h,p]=[-p,h];break}this.setAt(E*o,S*l,h,p)}else this._moveAfterPaste(t,n);k(this,It,Sg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var E,S,C;const n=t.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const o=k(E=it,Tr,L0).call(E,n.getData("text")||"").replaceAll(tg,`
`);if(!o)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const d=l.getRangeAt(0);if(!o.includes(`
`)){d.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:h,startOffset:p}=d,g=[],v=[];if(h.nodeType===Node.TEXT_NODE){const N=h.parentElement;if(v.push(h.nodeValue.slice(p).replaceAll(tg,"")),N!==this.editorDiv){let R=g;for(const P of this.editorDiv.childNodes){if(P===N){R=v;continue}R.push(k(S=it,Tr,Ag).call(S,P))}}g.push(h.nodeValue.slice(0,p).replaceAll(tg,""))}else if(h===this.editorDiv){let N=g,R=0;for(const P of this.editorDiv.childNodes)R++===p&&(N=v),N.push(k(C=it,Tr,Ag).call(C,P))}b(this,Zn,`${g.join(`
`)}${o}${v.join(`
`)}`),k(this,It,Sg).call(this);const w=new Range;let A=Math.sumPrecise(g.map(N=>N.length));for(const{firstChild:N}of this.editorDiv.childNodes)if(N.nodeType===Node.TEXT_NODE){const R=N.nodeValue.length;if(A<=R){w.setStart(N,A),w.setEnd(N,A);break}A-=R}l.removeAllRanges(),l.addRange(w)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,r){var d;let o=null;if(t instanceof GE){const{data:{defaultAppearanceData:{fontSize:h,fontColor:p},rect:g,rotation:v,id:w,popupRef:A},textContent:E,textPosition:S,parent:{page:{pageNumber:C}}}=t;if(!E||E.length===0)return null;o=t={annotationType:Te.FREETEXT,color:Array.from(p),fontSize:h,value:E.join(`
`),position:S,pageIndex:C-1,rect:g.slice(0),rotation:v,annotationElementId:w,id:w,deleted:!1,popupRef:A}}const l=await super.deserialize(t,n,r);return b(l,es,t.fontSize),b(l,Ks,we.makeHexColor(...t.color)),b(l,Zn,k(d=it,Tr,L0).call(d,t.value)),l._initialData=o,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=it._internalPadding*this.parentScale,r=this.getRect(n,n),o=rt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:a(this,Ks)),l={annotationType:Te.FREETEXT,color:o,fontSize:a(this,es),value:k(this,It,ZE).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(l.isCopy=!0,l):this.annotationElementId&&!k(this,It,e_).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${a(this,es)}px * var(--total-scale-factor))`,r.color=a(this,Ks),n.replaceChildren();for(const l of a(this,Zn).split(`
`)){const d=document.createElement("div");d.append(l?document.createTextNode(l):document.createElement("br")),n.append(d)}const o=it._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:a(this,Zn)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ks=new WeakMap,Zn=new WeakMap,sf=new WeakMap,el=new WeakMap,es=new WeakMap,It=new WeakSet,YE=function(t){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--total-scale-factor))`,this.translate(0,-(o-a(this,es))*this.parentScale),b(this,es,o),k(this,It,bg).call(this)},r=a(this,es);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},QE=function(t){const n=o=>{b(this,Ks,this.editorDiv.style.color=o)},r=a(this,Ks);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},JE=function(){var r;const t=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(k(r=it,Tr,Ag).call(r,o)),n=o);return t.join(`
`)},bg=function(){const[t,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:l}=this,d=l.style.display,h=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",o.div.append(this.div),r=l.getBoundingClientRect(),l.remove(),l.style.display=d,l.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/n):(this.width=r.height/t,this.height=r.width/n),this.fixAndSetPosition()},Tr=new WeakSet,Ag=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(tg,"")},Sg=function(){if(this.editorDiv.replaceChildren(),!!a(this,Zn))for(const t of a(this,Zn).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},ZE=function(){return a(this,Zn).replaceAll(" "," ")},L0=function(t){return t.replaceAll(" "," ")},e_=function(t){const{value:n,fontSize:r,color:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((d,h)=>d!==o[h])||t.pageIndex!==l},_(it,Tr),te(it,"_freeTextDefaultContent",""),te(it,"_internalPadding",0),te(it,"_defaultColor",null),te(it,"_defaultFontSize",10),te(it,"_type","freetext"),te(it,"_editorType",Te.FREETEXT);let R0=it;class de{toSVGPath(){et("Abstract method `toSVGPath` must be implemented.")}get box(){et("Abstract getter `box` must be implemented.")}serialize(e,t){et("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,r,o,l){l||(l=new Float32Array(e.length));for(let d=0,h=e.length;d<h;d+=2)l[d]=t+e[d]*r,l[d+1]=n+e[d+1]*o;return l}static _rescaleAndSwap(e,t,n,r,o,l){l||(l=new Float32Array(e.length));for(let d=0,h=e.length;d<h;d+=2)l[d]=t+e[d+1]*r,l[d+1]=n+e[d]*o;return l}static _translate(e,t,n,r){r||(r=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)r[o]=t+e[o],r[o+1]=n+e[o+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,r,o){switch(o){case 90:return[1-t/n,e/r];case 180:return[1-e/n,1-t/r];case 270:return[t/n,1-e/r];default:return[e/n,t/r]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,r,o,l){return[(e+5*n)/6,(t+5*r)/6,(5*n+o)/6,(5*r+l)/6,(n+o)/2,(r+l)/2]}}te(de,"PRECISION",1e-4);var ts,Ys,eu,tu,_i,je,tl,nl,rf,of,nu,su,ko,af,lm,cm,Bt,Ld,t_,n_,s_,i_,r_,o_;const Yi=class Yi{constructor({x:e,y:t},n,r,o,l,d=0){_(this,Bt);_(this,ts);_(this,Ys,[]);_(this,eu);_(this,tu);_(this,_i,[]);_(this,je,new Float32Array(18));_(this,tl);_(this,nl);_(this,rf);_(this,of);_(this,nu);_(this,su);_(this,ko,[]);b(this,ts,n),b(this,su,o*r),b(this,tu,l),a(this,je).set([NaN,NaN,NaN,NaN,e,t],6),b(this,eu,d),b(this,of,a(Yi,af)*r),b(this,rf,a(Yi,cm)*r),b(this,nu,r),a(this,ko).push(e,t)}isEmpty(){return isNaN(a(this,je)[8])}add({x:e,y:t}){var G;b(this,tl,e),b(this,nl,t);const[n,r,o,l]=a(this,ts);let[d,h,p,g]=a(this,je).subarray(8,12);const v=e-p,w=t-g,A=Math.hypot(v,w);if(A<a(this,rf))return!1;const E=A-a(this,of),S=E/A,C=S*v,N=S*w;let R=d,P=h;d=p,h=g,p+=C,g+=N,(G=a(this,ko))==null||G.push(e,t);const L=-N/E,I=C/E,B=L*a(this,su),F=I*a(this,su);return a(this,je).set(a(this,je).subarray(2,8),0),a(this,je).set([p+B,g+F],4),a(this,je).set(a(this,je).subarray(14,18),12),a(this,je).set([p-B,g-F],16),isNaN(a(this,je)[6])?(a(this,_i).length===0&&(a(this,je).set([d+B,h+F],2),a(this,_i).push(NaN,NaN,NaN,NaN,(d+B-n)/o,(h+F-r)/l),a(this,je).set([d-B,h-F],14),a(this,Ys).push(NaN,NaN,NaN,NaN,(d-B-n)/o,(h-F-r)/l)),a(this,je).set([R,P,d,h,p,g],6),!this.isEmpty()):(a(this,je).set([R,P,d,h,p,g],6),Math.abs(Math.atan2(P-h,R-d)-Math.atan2(N,C))<Math.PI/2?([d,h,p,g]=a(this,je).subarray(2,6),a(this,_i).push(NaN,NaN,NaN,NaN,((d+p)/2-n)/o,((h+g)/2-r)/l),[d,h,R,P]=a(this,je).subarray(14,18),a(this,Ys).push(NaN,NaN,NaN,NaN,((R+d)/2-n)/o,((P+h)/2-r)/l),!0):([R,P,d,h,p,g]=a(this,je).subarray(0,6),a(this,_i).push(((R+5*d)/6-n)/o,((P+5*h)/6-r)/l,((5*d+p)/6-n)/o,((5*h+g)/6-r)/l,((d+p)/2-n)/o,((h+g)/2-r)/l),[p,g,d,h,R,P]=a(this,je).subarray(12,18),a(this,Ys).push(((R+5*d)/6-n)/o,((P+5*h)/6-r)/l,((5*d+p)/6-n)/o,((5*h+g)/6-r)/l,((d+p)/2-n)/o,((h+g)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=a(this,_i),t=a(this,Ys);if(isNaN(a(this,je)[6])&&!this.isEmpty())return k(this,Bt,t_).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);k(this,Bt,s_).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return k(this,Bt,n_).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,o,l){return new a_(e,t,n,r,o,l)}getOutlines(){var v;const e=a(this,_i),t=a(this,Ys),n=a(this,je),[r,o,l,d]=a(this,ts),h=new Float32Array((((v=a(this,ko))==null?void 0:v.length)??0)+2);for(let w=0,A=h.length-2;w<A;w+=2)h[w]=(a(this,ko)[w]-r)/l,h[w+1]=(a(this,ko)[w+1]-o)/d;if(h[h.length-2]=(a(this,tl)-r)/l,h[h.length-1]=(a(this,nl)-o)/d,isNaN(n[6])&&!this.isEmpty())return k(this,Bt,i_).call(this,h);const p=new Float32Array(a(this,_i).length+24+a(this,Ys).length);let g=e.length;for(let w=0;w<g;w+=2){if(isNaN(e[w])){p[w]=p[w+1]=NaN;continue}p[w]=e[w],p[w+1]=e[w+1]}g=k(this,Bt,o_).call(this,p,g);for(let w=t.length-6;w>=6;w-=6)for(let A=0;A<6;A+=2){if(isNaN(t[w+A])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=t[w+A],p[g+1]=t[w+A+1],g+=2}return k(this,Bt,r_).call(this,p,g),this.newFreeDrawOutline(p,h,a(this,ts),a(this,nu),a(this,eu),a(this,tu))}};ts=new WeakMap,Ys=new WeakMap,eu=new WeakMap,tu=new WeakMap,_i=new WeakMap,je=new WeakMap,tl=new WeakMap,nl=new WeakMap,rf=new WeakMap,of=new WeakMap,nu=new WeakMap,su=new WeakMap,ko=new WeakMap,af=new WeakMap,lm=new WeakMap,cm=new WeakMap,Bt=new WeakSet,Ld=function(){const e=a(this,je).subarray(4,6),t=a(this,je).subarray(16,18),[n,r,o,l]=a(this,ts);return[(a(this,tl)+(e[0]-t[0])/2-n)/o,(a(this,nl)+(e[1]-t[1])/2-r)/l,(a(this,tl)+(t[0]-e[0])/2-n)/o,(a(this,nl)+(t[1]-e[1])/2-r)/l]},t_=function(){const[e,t,n,r]=a(this,ts),[o,l,d,h]=k(this,Bt,Ld).call(this);return`M${(a(this,je)[2]-e)/n} ${(a(this,je)[3]-t)/r} L${(a(this,je)[4]-e)/n} ${(a(this,je)[5]-t)/r} L${o} ${l} L${d} ${h} L${(a(this,je)[16]-e)/n} ${(a(this,je)[17]-t)/r} L${(a(this,je)[14]-e)/n} ${(a(this,je)[15]-t)/r} Z`},n_=function(e){const t=a(this,Ys);e.push(`L${t[4]} ${t[5]} Z`)},s_=function(e){const[t,n,r,o]=a(this,ts),l=a(this,je).subarray(4,6),d=a(this,je).subarray(16,18),[h,p,g,v]=k(this,Bt,Ld).call(this);e.push(`L${(l[0]-t)/r} ${(l[1]-n)/o} L${h} ${p} L${g} ${v} L${(d[0]-t)/r} ${(d[1]-n)/o}`)},i_=function(e){const t=a(this,je),[n,r,o,l]=a(this,ts),[d,h,p,g]=k(this,Bt,Ld).call(this),v=new Float32Array(36);return v.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-r)/l,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-r)/l,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-r)/l,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-r)/l],0),this.newFreeDrawOutline(v,e,a(this,ts),a(this,nu),a(this,eu),a(this,tu))},r_=function(e,t){const n=a(this,Ys);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},o_=function(e,t){const n=a(this,je).subarray(4,6),r=a(this,je).subarray(16,18),[o,l,d,h]=a(this,ts),[p,g,v,w]=k(this,Bt,Ld).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/d,(n[1]-l)/h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,v,w,NaN,NaN,NaN,NaN,(r[0]-o)/d,(r[1]-l)/h],t),t+=24},_(Yi,af,8),_(Yi,lm,2),_(Yi,cm,a(Yi,af)+a(Yi,lm));let Ug=Yi;var iu,sl,yr,lf,ns,cf,Tt,um,l_;class a_ extends de{constructor(t,n,r,o,l,d){super();_(this,um);_(this,iu);_(this,sl,new Float32Array(4));_(this,yr);_(this,lf);_(this,ns);_(this,cf);_(this,Tt);b(this,Tt,t),b(this,ns,n),b(this,iu,r),b(this,cf,o),b(this,yr,l),b(this,lf,d),this.lastPoint=[NaN,NaN],k(this,um,l_).call(this,d);const[h,p,g,v]=a(this,sl);for(let w=0,A=t.length;w<A;w+=2)t[w]=(t[w]-h)/g,t[w+1]=(t[w+1]-p)/v;for(let w=0,A=n.length;w<A;w+=2)n[w]=(n[w]-h)/g,n[w+1]=(n[w+1]-p)/v}toSVGPath(){const t=[`M${a(this,Tt)[4]} ${a(this,Tt)[5]}`];for(let n=6,r=a(this,Tt).length;n<r;n+=6){if(isNaN(a(this,Tt)[n])){t.push(`L${a(this,Tt)[n+4]} ${a(this,Tt)[n+5]}`);continue}t.push(`C${a(this,Tt)[n]} ${a(this,Tt)[n+1]} ${a(this,Tt)[n+2]} ${a(this,Tt)[n+3]} ${a(this,Tt)[n+4]} ${a(this,Tt)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,r,o],l){const d=r-t,h=o-n;let p,g;switch(l){case 0:p=de._rescale(a(this,Tt),t,o,d,-h),g=de._rescale(a(this,ns),t,o,d,-h);break;case 90:p=de._rescaleAndSwap(a(this,Tt),t,n,d,h),g=de._rescaleAndSwap(a(this,ns),t,n,d,h);break;case 180:p=de._rescale(a(this,Tt),r,n,-d,h),g=de._rescale(a(this,ns),r,n,-d,h);break;case 270:p=de._rescaleAndSwap(a(this,Tt),r,o,-d,-h),g=de._rescaleAndSwap(a(this,ns),r,o,-d,-h);break}return{outline:Array.from(p),points:[Array.from(g)]}}get box(){return a(this,sl)}newOutliner(t,n,r,o,l,d=0){return new Ug(t,n,r,o,l,d)}getNewOutline(t,n){const[r,o,l,d]=a(this,sl),[h,p,g,v]=a(this,iu),w=l*g,A=d*v,E=r*g+h,S=o*v+p,C=this.newOutliner({x:a(this,ns)[0]*w+E,y:a(this,ns)[1]*A+S},a(this,iu),a(this,cf),t,a(this,lf),n??a(this,yr));for(let N=2;N<a(this,ns).length;N+=2)C.add({x:a(this,ns)[N]*w+E,y:a(this,ns)[N+1]*A+S});return C.getOutlines()}}iu=new WeakMap,sl=new WeakMap,yr=new WeakMap,lf=new WeakMap,ns=new WeakMap,cf=new WeakMap,Tt=new WeakMap,um=new WeakSet,l_=function(t){const n=a(this,Tt);let r=n[4],o=n[5];const l=[r,o,r,o];let d=r,h=o;const p=t?Math.max:Math.min;for(let v=6,w=n.length;v<w;v+=6){const A=n[v+4],E=n[v+5];if(isNaN(n[v]))we.pointBoundingBox(A,E,l),h<E?(d=A,h=E):h===E&&(d=p(d,A));else{const S=[1/0,1/0,-1/0,-1/0];we.bezierBoundingBox(r,o,...n.slice(v,v+6),S),we.rectBoundingBox(...S,l),h<S[3]?(d=S[2],h=S[3]):h===S[3]&&(d=p(d,S[2]))}r=A,o=E}const g=a(this,sl);g[0]=l[0]-a(this,yr),g[1]=l[1]-a(this,yr),g[2]=l[2]-l[0]+2*a(this,yr),g[3]=l[3]-l[1]+2*a(this,yr),this.lastPoint=[d,h]};var uf,df,To,Qs,Pn,c_,Eg,u_,d_,I0;class M0{constructor(e,t=0,n=0,r=!0){_(this,Pn);_(this,uf);_(this,df);_(this,To,[]);_(this,Qs,[]);const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:A,y:E,width:S,height:C}of e){const N=Math.floor((A-t)/l)*l,R=Math.ceil((A+S+t)/l)*l,P=Math.floor((E-t)/l)*l,L=Math.ceil((E+C+t)/l)*l,I=[N,P,L,!0],B=[R,P,L,!1];a(this,To).push(I,B),we.rectBoundingBox(N,P,R,L,o)}const d=o[2]-o[0]+2*n,h=o[3]-o[1]+2*n,p=o[0]-n,g=o[1]-n,v=a(this,To).at(r?-1:-2),w=[v[0],v[2]];for(const A of a(this,To)){const[E,S,C]=A;A[0]=(E-p)/d,A[1]=(S-g)/h,A[2]=(C-g)/h}b(this,uf,new Float32Array([p,g,d,h])),b(this,df,w)}getOutlines(){a(this,To).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of a(this,To))t[3]?(e.push(...k(this,Pn,I0).call(this,t)),k(this,Pn,u_).call(this,t)):(k(this,Pn,d_).call(this,t),e.push(...k(this,Pn,I0).call(this,t)));return k(this,Pn,c_).call(this,e)}}uf=new WeakMap,df=new WeakMap,To=new WeakMap,Qs=new WeakMap,Pn=new WeakSet,c_=function(e){const t=[],n=new Set;for(const l of e){const[d,h,p]=l;t.push([d,h,l],[d,p,l])}t.sort((l,d)=>l[1]-d[1]||l[0]-d[0]);for(let l=0,d=t.length;l<d;l+=2){const h=t[l][2],p=t[l+1][2];h.push(p),p.push(h),n.add(h),n.add(p)}const r=[];let o;for(;n.size>0;){const l=n.values().next().value;let[d,h,p,g,v]=l;n.delete(l);let w=d,A=h;for(o=[d,p],r.push(o);;){let E;if(n.has(g))E=g;else if(n.has(v))E=v;else break;n.delete(E),[d,h,p,g,v]=E,w!==d&&(o.push(w,A,d,A===h?h:p),w=d),A=A===h?p:h}o.push(w,A)}return new BR(r,a(this,uf),a(this,df))},Eg=function(e){const t=a(this,Qs);let n=0,r=t.length-1;for(;n<=r;){const o=n+r>>1,l=t[o][0];if(l===e)return o;l<e?n=o+1:r=o-1}return r+1},u_=function([,e,t]){const n=k(this,Pn,Eg).call(this,e);a(this,Qs).splice(n,0,[e,t])},d_=function([,e,t]){const n=k(this,Pn,Eg).call(this,e);for(let r=n;r<a(this,Qs).length;r++){const[o,l]=a(this,Qs)[r];if(o!==e)break;if(o===e&&l===t){a(this,Qs).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[o,l]=a(this,Qs)[r];if(o!==e)break;if(o===e&&l===t){a(this,Qs).splice(r,1);return}}},I0=function(e){const[t,n,r]=e,o=[[t,n,r]],l=k(this,Pn,Eg).call(this,r);for(let d=0;d<l;d++){const[h,p]=a(this,Qs)[d];for(let g=0,v=o.length;g<v;g++){const[,w,A]=o[g];if(!(p<=w||A<=h)){if(w>=h){if(A>p)o[g][1]=p;else{if(v===1)return[];o.splice(g,1),g--,v--}continue}o[g][2]=h,A>p&&o.push([t,p,A])}}}return o};var hf,ru;class BR extends de{constructor(t,n,r){super();_(this,hf);_(this,ru);b(this,ru,t),b(this,hf,n),this.lastPoint=r}toSVGPath(){const t=[];for(const n of a(this,ru)){let[r,o]=n;t.push(`M${r} ${o}`);for(let l=2;l<n.length;l+=2){const d=n[l],h=n[l+1];d===r?(t.push(`V${h}`),o=h):h===o&&(t.push(`H${d}`),r=d)}t.push("Z")}return t.join(" ")}serialize([t,n,r,o],l){const d=[],h=r-t,p=o-n;for(const g of a(this,ru)){const v=new Array(g.length);for(let w=0;w<g.length;w+=2)v[w]=t+g[w]*h,v[w+1]=o-g[w+1]*p;d.push(v)}return d}get box(){return a(this,hf)}get classNamesForOutlining(){return["highlightOutline"]}}hf=new WeakMap,ru=new WeakMap;class D0 extends Ug{newFreeDrawOutline(e,t,n,r,o,l){return new HR(e,t,n,r,o,l)}}class HR extends a_{newOutliner(e,t,n,r,o,l=0){return new D0(e,t,n,r,o,l)}}var ss,il,ou,zt,ff,au,wr,pf,No,Js,lu,gf,Ze,j0,F0,O0,ua,h_,no;const zn=class zn{constructor({editor:e=null,uiManager:t=null}){_(this,Ze);_(this,ss,null);_(this,il,null);_(this,ou);_(this,zt,null);_(this,ff,!1);_(this,au,!1);_(this,wr,null);_(this,pf);_(this,No,null);_(this,Js,null);_(this,lu);var n,r;e?(b(this,au,!1),b(this,lu,He.HIGHLIGHT_COLOR),b(this,wr,e)):(b(this,au,!0),b(this,lu,He.HIGHLIGHT_DEFAULT_COLOR)),b(this,Js,(e==null?void 0:e._uiManager)||t),b(this,pf,a(this,Js)._eventBus),b(this,ou,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((r=a(this,Js))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),a(zn,gf)||b(zn,gf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Oe(this,"_keyboardManager",new Tf([[["Escape","mac+Escape"],zn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],zn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],zn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],zn.prototype._moveToPrevious],[["Home","mac+Home"],zn.prototype._moveToBeginning],[["End","mac+End"],zn.prototype._moveToEnd]]))}renderButton(){const e=b(this,ss,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",a(this,wr)&&(e.ariaControls=`${a(this,wr).id}_colorpicker_dropdown`);const t=a(this,Js)._signal;e.addEventListener("click",k(this,Ze,ua).bind(this),{signal:t}),e.addEventListener("keydown",k(this,Ze,O0).bind(this),{signal:t});const n=b(this,il,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=a(this,ou),e.append(n),e}renderMainDropdown(){const e=b(this,zt,k(this,Ze,j0).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===a(this,ss)){k(this,Ze,ua).call(this,e);return}const t=e.target.getAttribute("data-color");t&&k(this,Ze,F0).call(this,t,e)}_moveToNext(e){var t,n;if(!a(this,Ze,no)){k(this,Ze,ua).call(this,e);return}if(e.target===a(this,ss)){(t=a(this,zt).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=a(this,zt))==null?void 0:t.firstChild)||e.target===a(this,ss)){a(this,Ze,no)&&this._hideDropdownFromKeyboard();return}a(this,Ze,no)||k(this,Ze,ua).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!a(this,Ze,no)){k(this,Ze,ua).call(this,e);return}(t=a(this,zt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!a(this,Ze,no)){k(this,Ze,ua).call(this,e);return}(t=a(this,zt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=a(this,zt))==null||e.classList.add("hidden"),a(this,ss).ariaExpanded="false",(t=a(this,No))==null||t.abort(),b(this,No,null)}_hideDropdownFromKeyboard(){var e;if(!a(this,au)){if(!a(this,Ze,no)){(e=a(this,wr))==null||e.unselect();return}this.hideDropdown(),a(this,ss).focus({preventScroll:!0,focusVisible:a(this,ff)})}}updateColor(e){if(a(this,il)&&(a(this,il).style.backgroundColor=e),!a(this,zt))return;const t=a(this,Js).highlightColors.values();for(const n of a(this,zt).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=a(this,ss))==null||e.remove(),b(this,ss,null),b(this,il,null),(t=a(this,zt))==null||t.remove(),b(this,zt,null)}};ss=new WeakMap,il=new WeakMap,ou=new WeakMap,zt=new WeakMap,ff=new WeakMap,au=new WeakMap,wr=new WeakMap,pf=new WeakMap,No=new WeakMap,Js=new WeakMap,lu=new WeakMap,gf=new WeakMap,Ze=new WeakSet,j0=function(){const e=document.createElement("div"),t=a(this,Js)._signal;e.addEventListener("contextmenu",Ls,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),a(this,wr)&&(e.id=`${a(this,wr).id}_colorpicker_dropdown`);for(const[n,r]of a(this,Js).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=n,o.setAttribute("data-l10n-id",a(zn,gf)[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=r,o.ariaSelected=r===a(this,ou),o.addEventListener("click",k(this,Ze,F0).bind(this,r),{signal:t}),e.append(o)}return e.addEventListener("keydown",k(this,Ze,O0).bind(this),{signal:t}),e},F0=function(e,t){t.stopPropagation(),a(this,pf).dispatch("switchannotationeditorparams",{source:this,type:a(this,lu),value:e})},O0=function(e){zn._keyboardManager.exec(this,e)},ua=function(e){if(a(this,Ze,no)){this.hideDropdown();return}if(b(this,ff,e.detail===0),a(this,No)||(b(this,No,new AbortController),window.addEventListener("pointerdown",k(this,Ze,h_).bind(this),{signal:a(this,Js).combinedSignal(a(this,No))})),a(this,ss).ariaExpanded="true",a(this,zt)){a(this,zt).classList.remove("hidden");return}const t=b(this,zt,k(this,Ze,j0).call(this));a(this,ss).append(t)},h_=function(e){var t;(t=a(this,zt))!=null&&t.contains(e.target)||this.hideDropdown()},no=function(){return a(this,zt)&&!a(this,zt).classList.contains("hidden")},_(zn,gf,null);let qd=zn;var cu,mf,xr,rl,vf,$n,yf,wf,ol,Cs,is,sn,uu,br,mn,du,ks,xf,Re,z0,_g,f_,p_,g_,B0,da,Ps,oc,m_,Cg,Md,v_,y_,w_,x_,b_;const Ge=class Ge extends rt{constructor(t){super({...t,name:"highlightEditor"});_(this,Re);_(this,cu,null);_(this,mf,0);_(this,xr);_(this,rl,null);_(this,vf,null);_(this,$n,null);_(this,yf,null);_(this,wf,0);_(this,ol,null);_(this,Cs,null);_(this,is,null);_(this,sn,!1);_(this,uu,null);_(this,br);_(this,mn,null);_(this,du,"");_(this,ks);_(this,xf,"");this.color=t.color||Ge._defaultColor,b(this,ks,t.thickness||Ge._defaultThickness),b(this,br,t.opacity||Ge._defaultOpacity),b(this,xr,t.boxes||null),b(this,xf,t.methodOfCreation||""),b(this,du,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(b(this,sn,!0),k(this,Re,_g).call(this,t),k(this,Re,da).call(this)):a(this,xr)&&(b(this,cu,t.anchorNode),b(this,mf,t.anchorOffset),b(this,yf,t.focusNode),b(this,wf,t.focusOffset),k(this,Re,z0).call(this),k(this,Re,da).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ge.prototype;return Oe(this,"_keyboardManager",new Tf([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:a(this,sn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:a(this,ks),methodOfCreation:a(this,xf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var r;rt.initialize(t,n),Ge._defaultColor||(Ge._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case He.HIGHLIGHT_DEFAULT_COLOR:Ge._defaultColor=n;break;case He.HIGHLIGHT_THICKNESS:Ge._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return a(this,uu)}updateParams(t,n){switch(t){case He.HIGHLIGHT_COLOR:k(this,Re,f_).call(this,n);break;case He.HIGHLIGHT_THICKNESS:k(this,Re,p_).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[He.HIGHLIGHT_DEFAULT_COLOR,Ge._defaultColor],[He.HIGHLIGHT_THICKNESS,Ge._defaultThickness]]}get propertiesToUpdate(){return[[He.HIGHLIGHT_COLOR,this.color||Ge._defaultColor],[He.HIGHLIGHT_THICKNESS,a(this,ks)||Ge._defaultThickness],[He.HIGHLIGHT_FREE,a(this,sn)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",b(this,vf,new qd({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(k(this,Re,Md).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,k(this,Re,Md).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){k(this,Re,B0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,Re,da).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?k(this,Re,B0).call(this):t&&(k(this,Re,da).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,l,d;const{drawLayer:n}=this.parent;let r;a(this,sn)?(t=(t-this.rotation+360)%360,r=k(o=Ge,Ps,oc).call(o,a(this,Cs).box,t)):r=k(l=Ge,Ps,oc).call(l,[this.x,this.y,this.width,this.height],t),n.updateProperties(a(this,is),{bbox:r,root:{"data-main-rotation":t}}),n.updateProperties(a(this,mn),{bbox:k(d=Ge,Ps,oc).call(d,a(this,$n).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();a(this,du)&&(t.setAttribute("aria-label",a(this,du)),t.setAttribute("role","mark")),a(this,sn)?t.classList.add("free"):this.div.addEventListener("keydown",k(this,Re,m_).bind(this),{signal:this._uiManager._signal});const n=b(this,ol,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=a(this,rl);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),HS(this,a(this,ol),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(a(this,mn),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(a(this,mn),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:k(this,Re,Cg).call(this,!0);break;case 1:case 3:k(this,Re,Cg).call(this,!1);break}}select(){var t;super.select(),a(this,mn)&&((t=this.parent)==null||t.drawLayer.updateProperties(a(this,mn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),a(this,mn)&&((t=this.parent)==null||t.drawLayer.updateProperties(a(this,mn),{rootClass:{selected:!1}}),a(this,sn)||k(this,Re,Cg).call(this,!1))}get _mustFixPosition(){return!a(this,sn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(a(this,is),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(a(this,mn),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:r,x:o,y:l}){const{x:d,y:h,width:p,height:g}=r.getBoundingClientRect(),v=new AbortController,w=t.combinedSignal(v),A=E=>{v.abort(),k(this,Ps,x_).call(this,t,E)};window.addEventListener("blur",A,{signal:w}),window.addEventListener("pointerup",A,{signal:w}),window.addEventListener("pointerdown",Nt,{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",Ls,{signal:w}),r.addEventListener("pointermove",k(this,Ps,w_).bind(this,t),{signal:w}),this._freeHighlight=new D0({x:o,y:l},[d,h,p,g],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,r){var S,C,N,R;let o=null;if(t instanceof qE){const{data:{quadPoints:P,rect:L,rotation:I,id:B,color:F,opacity:V,popupRef:G},parent:{page:{pageNumber:Y}}}=t;o=t={annotationType:Te.HIGHLIGHT,color:Array.from(F),opacity:V,quadPoints:P,boxes:null,pageIndex:Y-1,rect:L.slice(0),rotation:I,annotationElementId:B,id:B,deleted:!1,popupRef:G}}else if(t instanceof Sw){const{data:{inkLists:P,rect:L,rotation:I,id:B,color:F,borderStyle:{rawWidth:V},popupRef:G},parent:{page:{pageNumber:Y}}}=t;o=t={annotationType:Te.HIGHLIGHT,color:Array.from(F),thickness:V,inkLists:P,boxes:null,pageIndex:Y-1,rect:L.slice(0),rotation:I,annotationElementId:B,id:B,deleted:!1,popupRef:G}}const{color:l,quadPoints:d,inkLists:h,opacity:p}=t,g=await super.deserialize(t,n,r);g.color=we.makeHexColor(...l),b(g,br,p||1),h&&b(g,ks,t.thickness),g._initialData=o;const[v,w]=g.pageDimensions,[A,E]=g.pageTranslation;if(d){const P=b(g,xr,[]);for(let L=0;L<d.length;L+=8)P.push({x:(d[L]-A)/v,y:1-(d[L+1]-E)/w,width:(d[L+2]-d[L])/v,height:(d[L+1]-d[L+5])/w});k(S=g,Re,z0).call(S),k(C=g,Re,da).call(C),g.rotate(g.rotation)}else if(h){b(g,sn,!0);const P=h[0],L={x:P[0]-A,y:w-(P[1]-E)},I=new D0(L,[0,0,v,w],1,a(g,ks)/2,!0,.001);for(let V=0,G=P.length;V<G;V+=2)L.x=P[V]-A,L.y=w-(P[V+1]-E),I.add(L);const{id:B,clipPathId:F}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:g.color,"fill-opacity":g._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:I.toSVGPath()}},!0,!0);k(N=g,Re,_g).call(N,{highlightOutlines:I.getOutlines(),highlightId:B,clipPathId:F}),k(R=g,Re,da).call(R),g.rotate(g.parentRotation)}return g}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=rt._colorManager.convert(this.color),o={annotationType:Te.HIGHLIGHT,color:r,opacity:a(this,br),thickness:a(this,ks),quadPoints:k(this,Re,v_).call(this),outlines:k(this,Re,y_).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:k(this,Re,Md).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!k(this,Re,b_).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};cu=new WeakMap,mf=new WeakMap,xr=new WeakMap,rl=new WeakMap,vf=new WeakMap,$n=new WeakMap,yf=new WeakMap,wf=new WeakMap,ol=new WeakMap,Cs=new WeakMap,is=new WeakMap,sn=new WeakMap,uu=new WeakMap,br=new WeakMap,mn=new WeakMap,du=new WeakMap,ks=new WeakMap,xf=new WeakMap,Re=new WeakSet,z0=function(){const t=new M0(a(this,xr),.001);b(this,Cs,t.getOutlines()),[this.x,this.y,this.width,this.height]=a(this,Cs).box;const n=new M0(a(this,xr),.0025,.001,this._uiManager.direction==="ltr");b(this,$n,n.getOutlines());const{lastPoint:r}=a(this,$n);b(this,uu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},_g=function({highlightOutlines:t,highlightId:n,clipPathId:r}){var v,w;if(b(this,Cs,t),b(this,$n,t.getNewOutline(a(this,ks)/2+1.5,.0025)),n>=0)b(this,is,n),b(this,rl,r),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),b(this,mn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:a(this,$n).box,path:{d:a(this,$n).toSVGPath()}},!0));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(a(this,is),{bbox:k(v=Ge,Ps,oc).call(v,a(this,Cs).box,(A-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(a(this,mn),{bbox:k(w=Ge,Ps,oc).call(w,a(this,$n).box,A),path:{d:a(this,$n).toSVGPath()}})}const[l,d,h,p]=t.box;switch(this.rotation){case 0:this.x=l,this.y=d,this.width=h,this.height=p;break;case 90:{const[A,E]=this.parentDimensions;this.x=d,this.y=1-l,this.width=h*E/A,this.height=p*A/E;break}case 180:this.x=1-l,this.y=1-d,this.width=h,this.height=p;break;case 270:{const[A,E]=this.parentDimensions;this.x=1-d,this.y=l,this.width=h*E/A,this.height=p*A/E;break}}const{lastPoint:g}=a(this,$n);b(this,uu,[(g[0]-l)/h,(g[1]-d)/p])},f_=function(t){const n=(l,d)=>{var h,p;this.color=l,b(this,br,d),(h=this.parent)==null||h.drawLayer.updateProperties(a(this,is),{root:{fill:l,"fill-opacity":d}}),(p=a(this,vf))==null||p.updateColor(l)},r=this.color,o=a(this,br);this.addCommands({cmd:n.bind(this,t,Ge._defaultOpacity),undo:n.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},p_=function(t){const n=a(this,ks),r=o=>{b(this,ks,o),k(this,Re,g_).call(this,o)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},g_=function(t){if(!a(this,sn))return;k(this,Re,_g).call(this,{highlightOutlines:a(this,Cs).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},B0=function(){a(this,is)===null||!this.parent||(this.parent.drawLayer.remove(a(this,is)),b(this,is,null),this.parent.drawLayer.remove(a(this,mn)),b(this,mn,null))},da=function(t=this.parent){a(this,is)===null&&({id:bn(this,is)._,clipPathId:bn(this,rl)._}=t.drawLayer.draw({bbox:a(this,Cs).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":a(this,br)},rootClass:{highlight:!0,free:a(this,sn)},path:{d:a(this,Cs).toSVGPath()}},!1,!0),b(this,mn,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:a(this,sn)},bbox:a(this,$n).box,path:{d:a(this,$n).toSVGPath()}},a(this,sn))),a(this,ol)&&(a(this,ol).style.clipPath=a(this,rl)))},Ps=new WeakSet,oc=function([t,n,r,o],l){switch(l){case 90:return[1-n-o,t,o,r];case 180:return[1-t-r,1-n-o,r,o];case 270:return[n,1-t-r,o,r]}return[t,n,r,o]},m_=function(t){Ge._keyboardManager.exec(this,t)},Cg=function(t){if(!a(this,cu))return;const n=window.getSelection();t?n.setPosition(a(this,cu),a(this,mf)):n.setPosition(a(this,yf),a(this,wf))},Md=function(){return a(this,sn)?this.rotation:0},v_=function(){if(a(this,sn))return null;const[t,n]=this.pageDimensions,[r,o]=this.pageTranslation,l=a(this,xr),d=new Float32Array(l.length*8);let h=0;for(const{x:p,y:g,width:v,height:w}of l){const A=p*t+r,E=(1-g)*n+o;d[h]=d[h+4]=A,d[h+1]=d[h+3]=E,d[h+2]=d[h+6]=A+v*t,d[h+5]=d[h+7]=E-w*n,h+=8}return d},y_=function(t){return a(this,Cs).serialize(t,k(this,Re,Md).call(this))},w_=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},x_=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},b_=function(t){const{color:n}=this._initialData;return t.color.some((r,o)=>r!==n[o])},_(Ge,Ps),te(Ge,"_defaultColor",null),te(Ge,"_defaultOpacity",1),te(Ge,"_defaultThickness",12),te(Ge,"_type","highlight"),te(Ge,"_editorType",Te.HIGHLIGHT),te(Ge,"_freeHighlightId",-1),te(Ge,"_freeHighlight",null),te(Ge,"_freeHighlightClipId","");let Vg=Ge;var al;class A_{constructor(){_(this,al,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){a(this,al)[e]=t}toSVGProperties(){const e=a(this,al);return b(this,al,Object.create(null)),{root:e}}reset(){b(this,al,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){et("Not implemented")}}al=new WeakMap;var rs,hu,Gt,ll,cl,Po,Ro,Lo,ul,Ue,H0,$0,U0,Id,S_,kg,Dd,ac;const fe=class fe extends rt{constructor(t){super(t);_(this,Ue);_(this,rs,null);_(this,hu);te(this,"_drawId",null);b(this,hu,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(k(this,Ue,H0).call(this,t),k(this,Ue,Id).call(this))}static _mergeSVGProperties(t,n){const r=new Set(Object.keys(t));for(const[o,l]of Object.entries(n))r.has(o)?Object.assign(t[o],l):t[o]=l;return t}static getDefaultDrawingOptions(t){et("Not implemented")}static get typesMap(){et("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(a(fe,Gt).updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[r,o]of this.typesMap)t.push([r,n[o]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[r,o]of this.constructor.typesMap)t.push([r,n[o]]);return t}_updateProperty(t,n,r){const o=this._drawingOptions,l=o[n],d=h=>{var g;o.updateProperty(n,h);const p=a(this,rs).updateProperty(n,h);p&&k(this,Ue,Dd).call(this,p),(g=this.parent)==null||g.drawLayer.updateProperties(this._drawId,o.toSVGProperties())};this.addCommands({cmd:d.bind(this,r),undo:d.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties(a(this,rs).getPathResizingSVGProperties(k(this,Ue,kg).call(this)),{bbox:k(this,Ue,ac).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties(a(this,rs).getPathResizedSVGProperties(k(this,Ue,kg).call(this)),{bbox:k(this,Ue,ac).call(this)}))}_onTranslating(t,n){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:k(this,Ue,ac).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties(a(this,rs).getPathTranslatedSVGProperties(k(this,Ue,kg).call(this),this.parentDimensions),{bbox:k(this,Ue,ac).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,a(this,hu)&&(b(this,hu,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){k(this,Ue,U0).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,Ue,Id).call(this),k(this,Ue,Dd).call(this,a(this,rs).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),k(this,Ue,U0).call(this)):t&&(this._uiManager.addShouldRescale(this),k(this,Ue,Id).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties({bbox:k(this,Ue,ac).call(this)},a(this,rs).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&k(this,Ue,Dd).call(this,a(this,rs).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const r=super.render();r.classList.add("draw");const o=document.createElement("div");r.append(o),o.setAttribute("aria-hidden","true"),o.className="internal";const[l,d]=this.parentDimensions;return this.setDims(this.width*l,this.height*d),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),r}static createDrawerInstance(t,n,r,o,l){et("Not implemented")}static startDrawing(t,n,r,o){var C;const{target:l,offsetX:d,offsetY:h,pointerId:p,pointerType:g}=o;if(a(fe,Ro)&&a(fe,Ro)!==g)return;const{viewport:{rotation:v}}=t,{width:w,height:A}=l.getBoundingClientRect(),E=b(fe,ll,new AbortController),S=t.combinedSignal(E);if(a(fe,Po)||b(fe,Po,p),a(fe,Ro)??b(fe,Ro,g),window.addEventListener("pointerup",N=>{var R;a(fe,Po)===N.pointerId?this._endDraw(N):(R=a(fe,Lo))==null||R.delete(N.pointerId)},{signal:S}),window.addEventListener("pointercancel",N=>{var R;a(fe,Po)===N.pointerId?this._currentParent.endDrawingSession():(R=a(fe,Lo))==null||R.delete(N.pointerId)},{signal:S}),window.addEventListener("pointerdown",N=>{a(fe,Ro)===N.pointerType&&((a(fe,Lo)||b(fe,Lo,new Set)).add(N.pointerId),a(fe,Gt).isCancellable()&&(a(fe,Gt).removeLastElement(),a(fe,Gt).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",Ls,{signal:S}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),l.addEventListener("touchmove",N=>{N.timeStamp===a(fe,ul)&&Nt(N)},{signal:S}),t.toggleDrawing(),(C=n._editorUndoBar)==null||C.hide(),a(fe,Gt)){t.drawLayer.updateProperties(this._currentDrawId,a(fe,Gt).startNew(d,h,w,A,v));return}n.updateUIForDefaultProperties(this),b(fe,Gt,this.createDrawerInstance(d,h,w,A,v)),b(fe,cl,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(a(fe,cl).toSVGProperties(),a(fe,Gt).defaultSVGProperties),!0,!1)}static _drawMove(t){var l;if(b(fe,ul,-1),!a(fe,Gt))return;const{offsetX:n,offsetY:r,pointerId:o}=t;if(a(fe,Po)===o){if(((l=a(fe,Lo))==null?void 0:l.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,a(fe,Gt).add(n,r)),b(fe,ul,t.timeStamp),Nt(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,b(fe,Gt,null),b(fe,cl,null),b(fe,Ro,null),b(fe,ul,NaN)),a(fe,ll)&&(a(fe,ll).abort(),b(fe,ll,null),b(fe,Po,NaN),b(fe,Lo,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,a(fe,Gt).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=a(fe,Gt),o=this._currentDrawId,l=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(o,r.setLastElement(l))},undo:()=>{n.drawLayer.updateProperties(o,r.removeLastElement())},mustExec:!1,type:He.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(He.DRAW_STEP),!a(fe,Gt).isEmpty()){const{pageDimensions:[r,o],scale:l}=n,d=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:a(fe,Gt).getOutlines(r*l,o*l,l,this._INNER_MARGIN),drawingOptions:a(fe,cl),mustBeCommitted:!t});return this._cleanup(!0),d}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,r,o,l,d){et("Not implemented")}static async deserialize(t,n,r){var v,w;const{rawDims:{pageWidth:o,pageHeight:l,pageX:d,pageY:h}}=n.viewport,p=this.deserializeDraw(d,h,o,l,this._INNER_MARGIN,t),g=await super.deserialize(t,n,r);return g.createDrawingOptions(t),k(v=g,Ue,H0).call(v,{drawOutlines:p}),k(w=g,Ue,Id).call(w),g.onScaleChanging(),g.rotate(),g}serializeDraw(t){const[n,r]=this.pageTranslation,[o,l]=this.pageDimensions;return a(this,rs).serialize([n,r,o,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};rs=new WeakMap,hu=new WeakMap,Gt=new WeakMap,ll=new WeakMap,cl=new WeakMap,Po=new WeakMap,Ro=new WeakMap,Lo=new WeakMap,ul=new WeakMap,Ue=new WeakSet,H0=function({drawOutlines:t,drawId:n,drawingOptions:r}){b(this,rs,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=k(this,Ue,$0).call(this,t,this.parent),k(this,Ue,Dd).call(this,t.box)},$0=function(t,n){const{id:r}=n.drawLayer.draw(fe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},U0=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Id=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=k(this,Ue,$0).call(this,a(this,rs),t)}},S_=function([t,n,r,o]){const{parentDimensions:[l,d],rotation:h}=this;switch(h){case 90:return[n,1-t,r*(d/l),o*(l/d)];case 180:return[1-t,1-n,r,o];case 270:return[1-n,t,r*(d/l),o*(l/d)];default:return[t,n,r,o]}},kg=function(){const{x:t,y:n,width:r,height:o,parentDimensions:[l,d],rotation:h}=this;switch(h){case 90:return[1-n,t,r*(l/d),o*(d/l)];case 180:return[1-t,1-n,r,o];case 270:return[n,1-t,r*(l/d),o*(d/l)];default:return[t,n,r,o]}},Dd=function(t){if([this.x,this.y,this.width,this.height]=k(this,Ue,S_).call(this,t),this.div){this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)}this._onResized()},ac=function(){const{x:t,y:n,width:r,height:o,rotation:l,parentRotation:d,parentDimensions:[h,p]}=this;switch((l*4+d)/90){case 1:return[1-n-o,t,o,r];case 2:return[1-t-r,1-n-o,r,o];case 3:return[n,1-t-r,o,r];case 4:return[t,n-r*(h/p),o*(p/h),r*(h/p)];case 5:return[1-n,t,r*(h/p),o*(p/h)];case 6:return[1-t-o*(p/h),1-n,o*(p/h),r*(h/p)];case 7:return[n-r*(h/p),1-t-o*(p/h),r*(h/p),o*(p/h)];case 8:return[t-r,n-o,r,o];case 9:return[1-n,t-r,o,r];case 10:return[1-t,1-n,r,o];case 11:return[n-o,1-t,o,r];case 12:return[t-o*(p/h),n,o*(p/h),r*(h/p)];case 13:return[1-n-r*(h/p),t-o*(p/h),r*(h/p),o*(p/h)];case 14:return[1-t,1-n-r*(h/p),o*(p/h),r*(h/p)];case 15:return[n,1-t,r*(h/p),o*(p/h)];default:return[t,n,r,o]}},te(fe,"_currentDrawId",-1),te(fe,"_currentParent",null),_(fe,Gt,null),_(fe,ll,null),_(fe,cl,null),_(fe,Po,NaN),_(fe,Ro,null),_(fe,Lo,null),_(fe,ul,NaN),te(fe,"_INNER_MARGIN",3);let Wg=fe;var Ci,Xt,qt,dl,fu,En,rn,Ts,hl,fl,pl,pu,Tg;class $R{constructor(e,t,n,r,o,l){_(this,pu);_(this,Ci,new Float64Array(6));_(this,Xt);_(this,qt);_(this,dl);_(this,fu);_(this,En);_(this,rn,"");_(this,Ts,0);_(this,hl,new Pf);_(this,fl);_(this,pl);b(this,fl,n),b(this,pl,r),b(this,dl,o),b(this,fu,l),[e,t]=k(this,pu,Tg).call(this,e,t);const d=b(this,Xt,[NaN,NaN,NaN,NaN,e,t]);b(this,En,[e,t]),b(this,qt,[{line:d,points:a(this,En)}]),a(this,Ci).set(d,0)}updateProperty(e,t){e==="stroke-width"&&b(this,fu,t)}isEmpty(){return!a(this,qt)||a(this,qt).length===0}isCancellable(){return a(this,En).length<=10}add(e,t){[e,t]=k(this,pu,Tg).call(this,e,t);const[n,r,o,l]=a(this,Ci).subarray(2,6),d=e-o,h=t-l;return Math.hypot(a(this,fl)*d,a(this,pl)*h)<=2?null:(a(this,En).push(e,t),isNaN(n)?(a(this,Ci).set([o,l,e,t],2),a(this,Xt).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(a(this,Ci)[0])&&a(this,Xt).splice(6,6),a(this,Ci).set([n,r,o,l,e,t],0),a(this,Xt).push(...de.createBezierPoints(n,r,o,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(a(this,En).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,r,o){b(this,fl,n),b(this,pl,r),b(this,dl,o),[e,t]=k(this,pu,Tg).call(this,e,t);const l=b(this,Xt,[NaN,NaN,NaN,NaN,e,t]);b(this,En,[e,t]);const d=a(this,qt).at(-1);return d&&(d.line=new Float32Array(d.line),d.points=new Float32Array(d.points)),a(this,qt).push({line:l,points:a(this,En)}),a(this,Ci).set(l,0),b(this,Ts,0),this.toSVGPath(),null}getLastElement(){return a(this,qt).at(-1)}setLastElement(e){return a(this,qt)?(a(this,qt).push(e),b(this,Xt,e.line),b(this,En,e.points),b(this,Ts,0),{path:{d:this.toSVGPath()}}):a(this,hl).setLastElement(e)}removeLastElement(){if(!a(this,qt))return a(this,hl).removeLastElement();a(this,qt).pop(),b(this,rn,"");for(let e=0,t=a(this,qt).length;e<t;e++){const{line:n,points:r}=a(this,qt)[e];b(this,Xt,n),b(this,En,r),b(this,Ts,0),this.toSVGPath()}return{path:{d:a(this,rn)}}}toSVGPath(){const e=de.svgRound(a(this,Xt)[4]),t=de.svgRound(a(this,Xt)[5]);if(a(this,En).length===2)return b(this,rn,`${a(this,rn)} M ${e} ${t} Z`),a(this,rn);if(a(this,En).length<=6){const r=a(this,rn).lastIndexOf("M");b(this,rn,`${a(this,rn).slice(0,r)} M ${e} ${t}`),b(this,Ts,6)}if(a(this,En).length===4){const r=de.svgRound(a(this,Xt)[10]),o=de.svgRound(a(this,Xt)[11]);return b(this,rn,`${a(this,rn)} L ${r} ${o}`),b(this,Ts,12),a(this,rn)}const n=[];a(this,Ts)===0&&(n.push(`M ${e} ${t}`),b(this,Ts,6));for(let r=a(this,Ts),o=a(this,Xt).length;r<o;r+=6){const[l,d,h,p,g,v]=a(this,Xt).slice(r,r+6).map(de.svgRound);n.push(`C${l} ${d} ${h} ${p} ${g} ${v}`)}return b(this,rn,a(this,rn)+n.join(" ")),b(this,Ts,a(this,Xt).length),a(this,rn)}getOutlines(e,t,n,r){const o=a(this,qt).at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),a(this,hl).build(a(this,qt),e,t,n,a(this,dl),a(this,fu),r),b(this,Ci,null),b(this,Xt,null),b(this,qt,null),b(this,rn,null),a(this,hl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ci=new WeakMap,Xt=new WeakMap,qt=new WeakMap,dl=new WeakMap,fu=new WeakMap,En=new WeakMap,rn=new WeakMap,Ts=new WeakMap,hl=new WeakMap,fl=new WeakMap,pl=new WeakMap,pu=new WeakSet,Tg=function(e,t){return de._normalizePoint(e,t,a(this,fl),a(this,pl),a(this,dl))};var _n,bf,Af,os,ki,Ti,gu,mu,gl,an,qi,E_,__,C_;class Pf extends de{constructor(){super(...arguments);_(this,an);_(this,_n);_(this,bf,0);_(this,Af);_(this,os);_(this,ki);_(this,Ti);_(this,gu);_(this,mu);_(this,gl)}build(t,n,r,o,l,d,h){b(this,ki,n),b(this,Ti,r),b(this,gu,o),b(this,mu,l),b(this,gl,d),b(this,Af,h??0),b(this,os,t),k(this,an,__).call(this)}get thickness(){return a(this,gl)}setLastElement(t){return a(this,os).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return a(this,os).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of a(this,os)){if(t.push(`M${de.svgRound(n[4])} ${de.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${de.svgRound(n[10])} ${de.svgRound(n[11])}`);continue}for(let r=6,o=n.length;r<o;r+=6){const[l,d,h,p,g,v]=n.subarray(r,r+6).map(de.svgRound);t.push(`C${l} ${d} ${h} ${p} ${g} ${v}`)}}return t.join("")}serialize([t,n,r,o],l){const d=[],h=[],[p,g,v,w]=k(this,an,E_).call(this);let A,E,S,C,N,R,P,L,I;switch(a(this,mu)){case 0:I=de._rescale,A=t,E=n+o,S=r,C=-o,N=t+p*r,R=n+(1-g-w)*o,P=t+(p+v)*r,L=n+(1-g)*o;break;case 90:I=de._rescaleAndSwap,A=t,E=n,S=r,C=o,N=t+g*r,R=n+p*o,P=t+(g+w)*r,L=n+(p+v)*o;break;case 180:I=de._rescale,A=t+r,E=n,S=-r,C=o,N=t+(1-p-v)*r,R=n+g*o,P=t+(1-p)*r,L=n+(g+w)*o;break;case 270:I=de._rescaleAndSwap,A=t+r,E=n+o,S=-r,C=-o,N=t+(1-g-w)*r,R=n+(1-p-v)*o,P=t+(1-g)*r,L=n+(1-p)*o;break}for(const{line:B,points:F}of a(this,os))d.push(I(B,A,E,S,C,l?new Array(B.length):null)),h.push(I(F,A,E,S,C,l?new Array(F.length):null));return{lines:d,points:h,rect:[N,R,P,L]}}static deserialize(t,n,r,o,l,{paths:{lines:d,points:h},rotation:p,thickness:g}){const v=[];let w,A,E,S,C;switch(p){case 0:C=de._rescale,w=-t/r,A=n/o+1,E=1/r,S=-1/o;break;case 90:C=de._rescaleAndSwap,w=-n/o,A=-t/r,E=1/o,S=1/r;break;case 180:C=de._rescale,w=t/r+1,A=-n/o,E=-1/r,S=1/o;break;case 270:C=de._rescaleAndSwap,w=n/o+1,A=t/r+1,E=-1/o,S=-1/r;break}if(!d){d=[];for(const R of h){const P=R.length;if(P===2){d.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1]]));continue}if(P===4){d.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1],NaN,NaN,NaN,NaN,R[2],R[3]]));continue}const L=new Float32Array(3*(P-2));d.push(L);let[I,B,F,V]=R.subarray(0,4);L.set([NaN,NaN,NaN,NaN,I,B],0);for(let G=4;G<P;G+=2){const Y=R[G],ee=R[G+1];L.set(de.createBezierPoints(I,B,F,V,Y,ee),(G-2)*3),[I,B,F,V]=[F,V,Y,ee]}}}for(let R=0,P=d.length;R<P;R++)v.push({line:C(d[R].map(L=>L??NaN),w,A,E,S),points:C(h[R].map(L=>L??NaN),w,A,E,S)});const N=new this.prototype.constructor;return N.build(v,r,o,1,p,g,l),N}get box(){return a(this,_n)}updateProperty(t,n){return t==="stroke-width"?k(this,an,C_).call(this,n):null}updateParentDimensions([t,n],r){const[o,l]=k(this,an,qi).call(this);b(this,ki,t),b(this,Ti,n),b(this,gu,r);const[d,h]=k(this,an,qi).call(this),p=d-o,g=h-l,v=a(this,_n);return v[0]-=p,v[1]-=g,v[2]+=2*p,v[3]+=2*g,v}updateRotation(t){return b(this,bf,t),{path:{transform:this.rotationTransform}}}get viewBox(){return a(this,_n).map(de.svgRound).join(" ")}get defaultProperties(){const[t,n]=a(this,_n);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(t)} ${de.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=a(this,_n);let r=0,o=0,l=0,d=0,h=0,p=0;switch(a(this,bf)){case 90:o=n/t,l=-t/n,h=t;break;case 180:r=-1,d=-1,h=t,p=n;break;case 270:o=-n/t,l=t/n,p=n;break;default:return""}return`matrix(${r} ${o} ${l} ${d} ${de.svgRound(h)} ${de.svgRound(p)})`}getPathResizingSVGProperties([t,n,r,o]){const[l,d]=k(this,an,qi).call(this),[h,p,g,v]=a(this,_n);if(Math.abs(g-l)<=de.PRECISION||Math.abs(v-d)<=de.PRECISION){const C=t+r/2-(h+g/2),N=n+o/2-(p+v/2);return{path:{"transform-origin":`${de.svgRound(t)} ${de.svgRound(n)}`,transform:`${this.rotationTransform} translate(${C} ${N})`}}}const w=(r-2*l)/(g-2*l),A=(o-2*d)/(v-2*d),E=g/r,S=v/o;return{path:{"transform-origin":`${de.svgRound(h)} ${de.svgRound(p)}`,transform:`${this.rotationTransform} scale(${E} ${S}) translate(${de.svgRound(l)} ${de.svgRound(d)}) scale(${w} ${A}) translate(${de.svgRound(-l)} ${de.svgRound(-d)})`}}}getPathResizedSVGProperties([t,n,r,o]){const[l,d]=k(this,an,qi).call(this),h=a(this,_n),[p,g,v,w]=h;if(h[0]=t,h[1]=n,h[2]=r,h[3]=o,Math.abs(v-l)<=de.PRECISION||Math.abs(w-d)<=de.PRECISION){const N=t+r/2-(p+v/2),R=n+o/2-(g+w/2);for(const{line:P,points:L}of a(this,os))de._translate(P,N,R,P),de._translate(L,N,R,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(t)} ${de.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const A=(r-2*l)/(v-2*l),E=(o-2*d)/(w-2*d),S=-A*(p+l)+t+l,C=-E*(g+d)+n+d;if(A!==1||E!==1||S!==0||C!==0)for(const{line:N,points:R}of a(this,os))de._rescale(N,S,C,A,E,N),de._rescale(R,S,C,A,E,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(t)} ${de.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],r){const[o,l]=r,d=a(this,_n),h=t-d[0],p=n-d[1];if(a(this,ki)===o&&a(this,Ti)===l)for(const{line:g,points:v}of a(this,os))de._translate(g,h,p,g),de._translate(v,h,p,v);else{const g=a(this,ki)/o,v=a(this,Ti)/l;b(this,ki,o),b(this,Ti,l);for(const{line:w,points:A}of a(this,os))de._rescale(w,h,p,g,v,w),de._rescale(A,h,p,g,v,A);d[2]*=g,d[3]*=v}return d[0]=t,d[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${de.svgRound(t)} ${de.svgRound(n)}`}}}get defaultSVGProperties(){const t=a(this,_n);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${de.svgRound(t[0])} ${de.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}_n=new WeakMap,bf=new WeakMap,Af=new WeakMap,os=new WeakMap,ki=new WeakMap,Ti=new WeakMap,gu=new WeakMap,mu=new WeakMap,gl=new WeakMap,an=new WeakSet,qi=function(t=a(this,gl)){const n=a(this,Af)+t/2*a(this,gu);return a(this,mu)%180===0?[n/a(this,ki),n/a(this,Ti)]:[n/a(this,Ti),n/a(this,ki)]},E_=function(){const[t,n,r,o]=a(this,_n),[l,d]=k(this,an,qi).call(this,0);return[t+l,n+d,r-2*l,o-2*d]},__=function(){const t=b(this,_n,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:o}of a(this,os)){if(o.length<=12){for(let h=4,p=o.length;h<p;h+=6)we.pointBoundingBox(o[h],o[h+1],t);continue}let l=o[4],d=o[5];for(let h=6,p=o.length;h<p;h+=6){const[g,v,w,A,E,S]=o.subarray(h,h+6);we.bezierBoundingBox(l,d,g,v,w,A,E,S,t),l=E,d=S}}const[n,r]=k(this,an,qi).call(this);t[0]=vn(t[0]-n,0,1),t[1]=vn(t[1]-r,0,1),t[2]=vn(t[2]+n,0,1),t[3]=vn(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},C_=function(t){const[n,r]=k(this,an,qi).call(this);b(this,gl,t);const[o,l]=k(this,an,qi).call(this),[d,h]=[o-n,l-r],p=a(this,_n);return p[0]-=d,p[1]-=h,p[2]+=2*d,p[3]+=2*h,p};class Sm extends A_{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:rt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Sm(this._viewParameters);return e.updateAll(this),e}}var dm,k_;const uc=class uc extends Wg{constructor(t){super({...t,name:"inkEditor"});_(this,dm);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){rt.initialize(t,n),this._defaultDrawingOptions=new Sm(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Oe(this,"typesMap",new Map([[He.INK_THICKNESS,"stroke-width"],[He.INK_COLOR,"stroke"],[He.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,r,o,l){return new $R(t,n,r,o,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,r,o,l,d){return Pf.deserialize(t,n,r,o,l,d)}static async deserialize(t,n,r){let o=null;if(t instanceof Sw){const{data:{inkLists:d,rect:h,rotation:p,id:g,color:v,opacity:w,borderStyle:{rawWidth:A},popupRef:E},parent:{page:{pageNumber:S}}}=t;o=t={annotationType:Te.INK,color:Array.from(v),thickness:A,opacity:w,paths:{points:d},boxes:null,pageIndex:S-1,rect:h.slice(0),rotation:p,annotationElementId:g,id:g,deleted:!1,popupRef:E}}const l=await super.deserialize(t,n,r);return l._initialData=o,l}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:r}){this._drawingOptions=uc.getDefaultDrawingOptions({stroke:we.makeHexColor(...t),"stroke-width":n,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r,rect:o}=this.serializeDraw(t),{_drawingOptions:{stroke:l,"stroke-opacity":d,"stroke-width":h}}=this,p={annotationType:Te.INK,color:rt._colorManager.convert(l),opacity:d,thickness:h,paths:{lines:n,points:r},pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(p.isCopy=!0,p):this.annotationElementId&&!k(this,dm,k_).call(this,p)?null:(p.id=this.annotationElementId,p)}renderAnnotationElement(t){const{points:n,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n}),null}};dm=new WeakSet,k_=function(t){const{color:n,thickness:r,opacity:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((d,h)=>d!==n[h])||t.thickness!==r||t.opacity!==o||t.pageIndex!==l},te(uc,"_type","ink"),te(uc,"_editorType",Te.INK),te(uc,"_defaultDrawingOptions",null);let V0=uc;class W0 extends Pf{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const ng=8,yd=3;var ml,qe,G0,Zs,T_,N_,X0,Ng,P_,R_,L_,q0,K0,M_;class Ii{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:r},o,l,d,h){let p=new OffscreenCanvas(1,1),g=p.getContext("2d",{alpha:!1});const v=200,w=g.font=`${n} ${r} ${v}px ${t}`,{actualBoundingBoxLeft:A,actualBoundingBoxRight:E,actualBoundingBoxAscent:S,actualBoundingBoxDescent:C,fontBoundingBoxAscent:N,fontBoundingBoxDescent:R,width:P}=g.measureText(e),L=1.5,I=Math.ceil(Math.max(Math.abs(A)+Math.abs(E)||0,P)*L),B=Math.ceil(Math.max(Math.abs(S)+Math.abs(C)||v,Math.abs(N)+Math.abs(R)||v)*L);p=new OffscreenCanvas(I,B),g=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=w,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,I,B),g.fillStyle="black",g.fillText(e,I*(L-1)/2,B*(3-L)/2);const F=k(this,qe,q0).call(this,g.getImageData(0,0,I,B).data),V=k(this,qe,L_).call(this,F),G=k(this,qe,K0).call(this,V),Y=k(this,qe,X0).call(this,F,I,B,G);return this.processDrawnLines({lines:{curves:Y,width:I,height:B},pageWidth:o,pageHeight:l,rotation:d,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(e,t,n,r,o){const[l,d,h]=k(this,qe,M_).call(this,e),[p,g]=k(this,qe,R_).call(this,l,d,h,Math.hypot(d,h)*a(this,ml).sigmaSFactor,a(this,ml).sigmaR,a(this,ml).kernelSize),v=k(this,qe,K0).call(this,g),w=k(this,qe,X0).call(this,p,d,h,v);return this.processDrawnLines({lines:{curves:w,width:d,height:h},pageWidth:t,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:l,areContours:d}){r%180!==0&&([t,n]=[n,t]);const{curves:h,width:p,height:g}=e,v=e.thickness??0,w=[],A=Math.min(t/p,n/g),E=A/t,S=A/n,C=[];for(const{points:R}of h){const P=l?k(this,qe,P_).call(this,R):R;if(!P)continue;C.push(P);const L=P.length,I=new Float32Array(L),B=new Float32Array(3*(L===2?2:L-2));if(w.push({line:B,points:I}),L===2){I[0]=P[0]*E,I[1]=P[1]*S,B.set([NaN,NaN,NaN,NaN,I[0],I[1]],0);continue}let[F,V,G,Y]=P;F*=E,V*=S,G*=E,Y*=S,I.set([F,V,G,Y],0),B.set([NaN,NaN,NaN,NaN,F,V],0);for(let ee=4;ee<L;ee+=2){const re=I[ee]=P[ee]*E,ve=I[ee+1]=P[ee+1]*S;B.set(de.createBezierPoints(F,V,G,Y,re,ve),(ee-2)*3),[F,V,G,Y]=[G,Y,re,ve]}}if(w.length===0)return null;const N=d?new W0:new Pf;return N.build(w,t,n,1,r,d?0:v,o),{outline:N,newCurves:C,areContours:d,thickness:v,width:p,height:g}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:r,height:o}){let l=1/0,d=-1/0,h=0;for(const P of e){h+=P.length;for(let L=2,I=P.length;L<I;L++){const B=P[L]-P[L-2];l=Math.min(l,B),d=Math.max(d,B)}}let p;l>=-128&&d<=127?p=Int8Array:l>=-32768&&d<=32767?p=Int16Array:p=Int32Array;const g=e.length,v=ng+yd*g,w=new Uint32Array(v);let A=0;w[A++]=v*Uint32Array.BYTES_PER_ELEMENT+(h-2*g)*p.BYTES_PER_ELEMENT,w[A++]=0,w[A++]=r,w[A++]=o,w[A++]=t?0:1,w[A++]=Math.max(0,Math.floor(n??0)),w[A++]=g,w[A++]=p.BYTES_PER_ELEMENT;for(const P of e)w[A++]=P.length-2,w[A++]=P[0],w[A++]=P[1];const E=new CompressionStream("deflate-raw"),S=E.writable.getWriter();await S.ready,S.write(w);const C=p.prototype.constructor;for(const P of e){const L=new C(P.length-2);for(let I=2,B=P.length;I<B;I++)L[I-2]=P[I]-P[I-2];S.write(L)}S.close();const N=await new Response(E.readable).arrayBuffer(),R=new Uint8Array(N);return RS(R)}static async decompressSignature(e){try{const t=y2(e),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),o=r.getWriter();await o.ready,o.write(t).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,d=0;for await(const P of n)l||(l=new Uint8Array(new Uint32Array(P.buffer,0,4)[0])),l.set(P,d),d+=P.length;const h=new Uint32Array(l.buffer,0,l.length>>2),p=h[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const g=h[2],v=h[3],w=h[4]===0,A=h[5],E=h[6],S=h[7],C=[],N=(ng+yd*E)*Uint32Array.BYTES_PER_ELEMENT;let R;switch(S){case Int8Array.BYTES_PER_ELEMENT:R=new Int8Array(l.buffer,N);break;case Int16Array.BYTES_PER_ELEMENT:R=new Int16Array(l.buffer,N);break;case Int32Array.BYTES_PER_ELEMENT:R=new Int32Array(l.buffer,N);break}d=0;for(let P=0;P<E;P++){const L=h[yd*P+ng],I=new Float32Array(L+2);C.push(I);for(let B=0;B<yd-1;B++)I[B]=h[yd*P+ng+B+1];for(let B=0;B<L;B++)I[B+2]=I[B]+R[d++]}return{areContours:w,thickness:A,outlines:C,width:g,height:v}}catch(t){return Ne(`decompressSignature: ${t}`),null}}}ml=new WeakMap,qe=new WeakSet,G0=function(e,t,n,r){return n-=e,r-=t,n===0?r>0?0:4:n===1?r+6:2-r},Zs=new WeakMap,T_=function(e,t,n,r,o,l,d){const h=k(this,qe,G0).call(this,n,r,o,l);for(let p=0;p<8;p++){const g=(-p+h-d+16)%8,v=a(this,Zs)[2*g],w=a(this,Zs)[2*g+1];if(e[(n+v)*t+(r+w)]!==0)return g}return-1},N_=function(e,t,n,r,o,l,d){const h=k(this,qe,G0).call(this,n,r,o,l);for(let p=0;p<8;p++){const g=(p+h+d+16)%8,v=a(this,Zs)[2*g],w=a(this,Zs)[2*g+1];if(e[(n+v)*t+(r+w)]!==0)return g}return-1},X0=function(e,t,n,r){const o=e.length,l=new Int32Array(o);for(let g=0;g<o;g++)l[g]=e[g]<=r?1:0;for(let g=1;g<n-1;g++)l[g*t]=l[g*t+t-1]=0;for(let g=0;g<t;g++)l[g]=l[t*n-1-g]=0;let d=1,h;const p=[];for(let g=1;g<n-1;g++){h=1;for(let v=1;v<t-1;v++){const w=g*t+v,A=l[w];if(A===0)continue;let E=g,S=v;if(A===1&&l[w-1]===0)d+=1,S-=1;else if(A>=1&&l[w+1]===0)d+=1,S+=1,A>1&&(h=A);else{A!==1&&(h=Math.abs(A));continue}const C=[v,g],N=S===v+1,R={isHole:N,points:C,id:d,parent:0};p.push(R);let P;for(const ee of p)if(ee.id===h){P=ee;break}P?P.isHole?R.parent=N?P.parent:h:R.parent=N?h:P.parent:R.parent=N?h:0;const L=k(this,qe,T_).call(this,l,t,g,v,E,S,0);if(L===-1){l[w]=-d,l[w]!==1&&(h=Math.abs(l[w]));continue}let I=a(this,Zs)[2*L],B=a(this,Zs)[2*L+1];const F=g+I,V=v+B;E=F,S=V;let G=g,Y=v;for(;;){const ee=k(this,qe,N_).call(this,l,t,G,Y,E,S,1);I=a(this,Zs)[2*ee],B=a(this,Zs)[2*ee+1];const re=G+I,ve=Y+B;C.push(ve,re);const oe=G*t+Y;if(l[oe+1]===0?l[oe]=-d:l[oe]===1&&(l[oe]=d),re===g&&ve===v&&G===F&&Y===V){l[w]!==1&&(h=Math.abs(l[w]));break}else E=G,S=Y,G=re,Y=ve}}}return p},Ng=function(e,t,n,r){if(n-t<=4){for(let F=t;F<n-2;F+=2)r.push(e[F],e[F+1]);return}const o=e[t],l=e[t+1],d=e[n-4]-o,h=e[n-3]-l,p=Math.hypot(d,h),g=d/p,v=h/p,w=g*l-v*o,A=h/d,E=1/p,S=Math.atan(A),C=Math.cos(S),N=Math.sin(S),R=E*(Math.abs(C)+Math.abs(N)),P=E*(1-R+R**2),L=Math.max(Math.atan(Math.abs(N+C)*P),Math.atan(Math.abs(N-C)*P));let I=0,B=t;for(let F=t+2;F<n-2;F+=2){const V=Math.abs(w-g*e[F+1]+v*e[F]);V>I&&(B=F,I=V)}I>(p*L)**2?(k(this,qe,Ng).call(this,e,t,B+2,r),k(this,qe,Ng).call(this,e,B,n,r)):r.push(o,l)},P_=function(e){const t=[],n=e.length;return k(this,qe,Ng).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},R_=function(e,t,n,r,o,l){const d=new Float32Array(l**2),h=-2*r**2,p=l>>1;for(let S=0;S<l;S++){const C=(S-p)**2;for(let N=0;N<l;N++)d[S*l+N]=Math.exp((C+(N-p)**2)/h)}const g=new Float32Array(256),v=-2*o**2;for(let S=0;S<256;S++)g[S]=Math.exp(S**2/v);const w=e.length,A=new Uint8Array(w),E=new Uint32Array(256);for(let S=0;S<n;S++)for(let C=0;C<t;C++){const N=S*t+C,R=e[N];let P=0,L=0;for(let B=0;B<l;B++){const F=S+B-p;if(!(F<0||F>=n))for(let V=0;V<l;V++){const G=C+V-p;if(G<0||G>=t)continue;const Y=e[F*t+G],ee=d[B*l+V]*g[Math.abs(Y-R)];P+=Y*ee,L+=ee}}const I=A[N]=Math.round(P/L);E[I]++}return[A,E]},L_=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},q0=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let r=-1/0,o=1/0;for(let d=0,h=n.length;d<h;d++){if(e[(d<<2)+3]===0){r=n[d]=255;continue}const g=n[d]=e[d<<2];g>r&&(r=g),g<o&&(o=g)}const l=255/(r-o);for(let d=0;d<t;d++)n[d]=(n[d]-o)*l;return n},K0=function(e){let t,n=-1/0,r=-1/0;const o=e.findIndex(h=>h!==0);let l=o,d=o;for(t=o;t<256;t++){const h=e[t];h>n&&(t-l>r&&(r=t-l,d=t-1),n=h,l=t)}for(t=d-1;t>=0&&!(e[t]>e[t+1]);t--);return t},M_=function(e){const t=e,{width:n,height:r}=e,{maxDim:o}=a(this,ml);let l=n,d=r;if(n>o||r>o){let w=n,A=r,E=Math.log2(Math.max(n,r)/o);const S=Math.floor(E);E=E===S?S-1:S;for(let N=0;N<E;N++){l=Math.ceil(w/2),d=Math.ceil(A/2);const R=new OffscreenCanvas(l,d);R.getContext("2d").drawImage(e,0,0,w,A,0,0,l,d),w=l,A=d,e!==t&&e.close(),e=R.transferToImageBitmap()}const C=Math.min(o/l,o/d);l=Math.round(l*C),d=Math.round(d*C)}const p=new OffscreenCanvas(l,d).getContext("2d",{willReadFrequently:!0});p.filter="grayscale(1)",p.drawImage(e,0,0,e.width,e.height,0,0,l,d);const g=p.getImageData(0,0,l,d).data;return[k(this,qe,q0).call(this,g),l,d]},_(Ii,qe),_(Ii,ml,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),_(Ii,Zs,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class _w extends A_{constructor(){super(),super.updateProperties({fill:rt._defaultLineColor,"stroke-width":0})}clone(){const e=new _w;return e.updateAll(this),e}}class Cw extends Sm{constructor(e){super(e),super.updateProperties({stroke:rt._defaultLineColor,"stroke-width":1})}clone(){const e=new Cw(this._viewParameters);return e.updateAll(this),e}}var Mo,Ni,Io,vl;const qn=class qn extends Wg{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});_(this,Mo,!1);_(this,Ni,null);_(this,Io,null);_(this,vl,null);this._willKeepAspectRatio=!0,b(this,Io,t.signatureData||null),b(this,Ni,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){rt.initialize(t,n),this._defaultDrawingOptions=new _w,this._defaultDrawnSignatureOptions=new Cw(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Oe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!a(this,Ni)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(a(this,Io)){const{lines:o,mustSmooth:l,areContours:d,description:h,uuid:p,heightInPage:g}=a(this,Io),{rawDims:{pageWidth:v,pageHeight:w},rotation:A}=this.parent.viewport,E=Ii.processDrawnLines({lines:o,pageWidth:v,pageHeight:w,rotation:A,innerMargin:qn._INNER_MARGIN,mustSmooth:l,areContours:d});this.addSignature(E,g,h,p)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return r&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){b(this,vl,t),this.addEditToolbar()}getUuid(){return a(this,vl)}get description(){return a(this,Ni)}set description(t){b(this,Ni,t),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:r,width:o,height:l}=a(this,Io),d=Math.max(o,l),h=Ii.processDrawnLines({lines:{curves:t.map(p=>({points:p})),thickness:r,width:o,height:l},pageWidth:d,pageHeight:d,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:h.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,r,o){const{x:l,y:d}=this,{outline:h}=b(this,Io,t);b(this,Mo,h instanceof W0),this.description=r,this.div.setAttribute("data-l10n-args",JSON.stringify({description:r}));let p;a(this,Mo)?p=qn.getDefaultDrawingOptions():(p=qn._defaultDrawnSignatureOptions.clone(),p.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:p});const[g,v]=this.parentDimensions,[,w]=this.pageDimensions;let A=n/w;A=A>=1?.5:A,this.width*=A/this.height,this.width>=1&&(A*=.9/this.width,this.width=.9),this.height=A,this.setDims(g*this.width,v*this.height),this.x=l,this.y=d,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(o),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!o,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:o}=this.parent.viewport;return Ii.process(t,n,r,o,qn._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:r,pageHeight:o},rotation:l}=this.parent.viewport;return Ii.extractContoursFromText(t,n,r,o,l,qn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:o}=this.parent.viewport;return Ii.processDrawnLines({lines:t,pageWidth:n,pageHeight:r,rotation:o,innerMargin:qn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=qn.getDefaultDrawingOptions():(this._drawingOptions=qn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:r,rect:o}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":l}}=this,d={annotationType:Te.SIGNATURE,isSignature:!0,areContours:a(this,Mo),color:[0,0,0],thickness:a(this,Mo)?0:l,pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(d.paths={lines:n,points:r},d.uuid=a(this,vl),d.isCopy=!0):d.lines=n,a(this,Ni)&&(d.accessibilityData={type:"Figure",alt:a(this,Ni)}),d}static deserializeDraw(t,n,r,o,l,d){return d.areContours?W0.deserialize(t,n,r,o,l,d):Pf.deserialize(t,n,r,o,l,d)}static async deserialize(t,n,r){var l;const o=await super.deserialize(t,n,r);return b(o,Mo,t.areContours),b(o,Ni,((l=t.accessibilityData)==null?void 0:l.alt)||""),b(o,vl,t.uuid),o}};Mo=new WeakMap,Ni=new WeakMap,Io=new WeakMap,vl=new WeakMap,te(qn,"_type","signature"),te(qn,"_editorType",Te.SIGNATURE),te(qn,"_defaultDrawingOptions",null);let Y0=qn;var ht,Kt,Do,Ar,jo,vu,Sr,yl,Pi,as,yu,Ve,jd,Fd,Pg,Rg,Lg,J0,Mg,I_;class Q0 extends rt{constructor(t){super({...t,name:"stampEditor"});_(this,Ve);_(this,ht,null);_(this,Kt,null);_(this,Do,null);_(this,Ar,null);_(this,jo,null);_(this,vu,"");_(this,Sr,null);_(this,yl,!1);_(this,Pi,null);_(this,as,!1);_(this,yu,!1);b(this,Ar,t.bitmapUrl),b(this,jo,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){rt.initialize(t,n)}static isHandlingMimeForPasting(t){return Hg.includes(t)}static paste(t,n){n.pasteEditor({mode:Te.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:l,height:d}=t||this.copyCanvas(null,null,!0).imageData,h=await r.guess({name:"altText",request:{data:o,width:l,height:d,channels:o.length/(l*d)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const p=h.output;return await this.setGuessedAltText(p),n&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var t;a(this,Kt)&&(b(this,ht,null),this._uiManager.imageManager.deleteId(a(this,Kt)),(t=a(this,Sr))==null||t.remove(),b(this,Sr,null),a(this,Pi)&&(clearTimeout(a(this,Pi)),b(this,Pi,null))),super.remove()}rebuild(){if(!this.parent){a(this,Kt)&&k(this,Ve,Pg).call(this);return}super.rebuild(),this.div!==null&&(a(this,Kt)&&a(this,Sr)===null&&k(this,Ve,Pg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(a(this,Do)||a(this,ht)||a(this,Ar)||a(this,jo)||a(this,Kt)||a(this,yl))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),a(this,yl)||(a(this,ht)?k(this,Ve,Rg).call(this):k(this,Ve,Pg).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:r,bitmap:o}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(b(this,Kt,r),o&&b(this,ht,o),b(this,yl,!1),k(this,Ve,Rg).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;a(this,Pi)!==null&&clearTimeout(a(this,Pi)),b(this,Pi,setTimeout(()=>{b(this,Pi,null),k(this,Ve,J0).call(this)},200))}copyCanvas(t,n,r=!1){var A;t||(t=224);const{width:o,height:l}=a(this,ht),d=new si;let h=a(this,ht),p=o,g=l,v=null;if(n){if(o>n||l>n){const V=Math.min(n/o,n/l);p=Math.floor(o*V),g=Math.floor(l*V)}v=document.createElement("canvas");const E=v.width=Math.ceil(p*d.sx),S=v.height=Math.ceil(g*d.sy);a(this,as)||(h=k(this,Ve,Lg).call(this,E,S));const C=v.getContext("2d");C.filter=this._uiManager.hcmFilter;let N="white",R="#cfcfd8";this._uiManager.hcmFilter!=="none"?R="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(N="#8f8f9d",R="#42414d");const P=15,L=P*d.sx,I=P*d.sy,B=new OffscreenCanvas(L*2,I*2),F=B.getContext("2d");F.fillStyle=N,F.fillRect(0,0,L*2,I*2),F.fillStyle=R,F.fillRect(0,0,L,I),F.fillRect(L,I,L,I),C.fillStyle=C.createPattern(B,"repeat"),C.fillRect(0,0,E,S),C.drawImage(h,0,0,h.width,h.height,0,0,E,S)}let w=null;if(r){let E,S;if(d.symmetric&&h.width<t&&h.height<t)E=h.width,S=h.height;else if(h=a(this,ht),o>t||l>t){const R=Math.min(t/o,t/l);E=Math.floor(o*R),S=Math.floor(l*R),a(this,as)||(h=k(this,Ve,Lg).call(this,E,S))}const N=new OffscreenCanvas(E,S).getContext("2d",{willReadFrequently:!0});N.drawImage(h,0,0,h.width,h.height,0,0,E,S),w={width:E,height:S,data:N.getImageData(0,0,E,S).data}}return{canvas:v,width:p,height:g,imageData:w}}static async deserialize(t,n,r){var C;let o=null,l=!1;if(t instanceof KE){const{data:{rect:N,rotation:R,id:P,structParent:L,popupRef:I},container:B,parent:{page:{pageNumber:F}},canvas:V}=t;let G,Y;V?(delete t.canvas,{id:G,bitmap:Y}=r.imageManager.getFromCanvas(B.id,V),V.remove()):(l=!0,t._hasNoCanvas=!0);const ee=((C=await n._structTree.getAriaAttributes(`${gw}${P}`))==null?void 0:C.get("aria-label"))||"";o=t={annotationType:Te.STAMP,bitmapId:G,bitmap:Y,pageIndex:F-1,rect:N.slice(0),rotation:R,annotationElementId:P,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:ee},isSvg:!1,structParent:L,popupRef:I}}const d=await super.deserialize(t,n,r),{rect:h,bitmap:p,bitmapUrl:g,bitmapId:v,isSvg:w,accessibilityData:A}=t;l?(r.addMissingCanvas(t.id,d),b(d,yl,!0)):v&&r.imageManager.isValidId(v)?(b(d,Kt,v),p&&b(d,ht,p)):b(d,Ar,g),b(d,as,w);const[E,S]=d.pageDimensions;return d.width=(h[2]-h[0])/E,d.height=(h[3]-h[1])/S,A&&(d.altTextData=A),d._initialData=o,b(d,yu,!!o),d}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Te.STAMP,bitmapId:a(this,Kt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:a(this,as),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=k(this,Ve,Mg).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:o,altText:l}=this.serializeAltText(!1);if(!o&&l&&(r.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const h=k(this,Ve,I_).call(this,r);if(h.isSame)return null;h.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const d=a(this,as)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(a(this,Kt)))n.stamps.set(a(this,Kt),{area:d,serialized:r}),r.bitmap=k(this,Ve,Mg).call(this,!1);else if(a(this,as)){const h=n.stamps.get(a(this,Kt));d>h.area&&(h.area=d,h.serialized.bitmap.close(),h.serialized.bitmap=k(this,Ve,Mg).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}ht=new WeakMap,Kt=new WeakMap,Do=new WeakMap,Ar=new WeakMap,jo=new WeakMap,vu=new WeakMap,Sr=new WeakMap,yl=new WeakMap,Pi=new WeakMap,as=new WeakMap,yu=new WeakMap,Ve=new WeakSet,jd=function(t,n=!1){if(!t){this.remove();return}b(this,ht,t.bitmap),n||(b(this,Kt,t.id),b(this,as,t.isSvg)),t.file&&b(this,vu,t.file.name),k(this,Ve,Rg).call(this)},Fd=function(){if(b(this,Do,null),this._uiManager.enableWaiting(!1),!!a(this,Sr)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&a(this,ht)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&a(this,ht)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Pg=function(){if(a(this,Kt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(a(this,Kt)).then(r=>k(this,Ve,jd).call(this,r,!0)).finally(()=>k(this,Ve,Fd).call(this));return}if(a(this,Ar)){const r=a(this,Ar);b(this,Ar,null),this._uiManager.enableWaiting(!0),b(this,Do,this._uiManager.imageManager.getFromUrl(r).then(o=>k(this,Ve,jd).call(this,o)).finally(()=>k(this,Ve,Fd).call(this)));return}if(a(this,jo)){const r=a(this,jo);b(this,jo,null),this._uiManager.enableWaiting(!0),b(this,Do,this._uiManager.imageManager.getFromFile(r).then(o=>k(this,Ve,jd).call(this,o)).finally(()=>k(this,Ve,Fd).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Hg.join(",");const n=this._uiManager._signal;b(this,Do,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),k(this,Ve,jd).call(this,o)}r()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>k(this,Ve,Fd).call(this))),t.click()},Rg=function(){var v;const{div:t}=this;let{width:n,height:r}=a(this,ht);const[o,l]=this.pageDimensions,d=.75;if(this.width)n=this.width*o,r=this.height*l;else if(n>d*o||r>d*l){const w=Math.min(d*o/n,d*l/r);n*=w,r*=w}const[h,p]=this.parentDimensions;this.setDims(n*h/o,r*p/l),this._uiManager.enableWaiting(!1);const g=b(this,Sr,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),this.width=n/o,this.height=r/l,(v=this._initialOptions)!=null&&v.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),k(this,Ve,J0).call(this),a(this,yu)||(this.parent.addUndoableEditor(this),b(this,yu,!0)),this._reportTelemetry({action:"inserted_image"}),a(this,vu)&&this.div.setAttribute("aria-description",a(this,vu)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Lg=function(t,n){const{width:r,height:o}=a(this,ht);let l=r,d=o,h=a(this,ht);for(;l>2*t||d>2*n;){const p=l,g=d;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),d>2*n&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const v=new OffscreenCanvas(l,d);v.getContext("2d").drawImage(h,0,0,p,g,0,0,l,d),h=v.transferToImageBitmap()}return h},J0=function(){const[t,n]=this.parentDimensions,{width:r,height:o}=this,l=new si,d=Math.ceil(r*t*l.sx),h=Math.ceil(o*n*l.sy),p=a(this,Sr);if(!p||p.width===d&&p.height===h)return;p.width=d,p.height=h;const g=a(this,as)?a(this,ht):k(this,Ve,Lg).call(this,d,h),v=p.getContext("2d");v.filter=this._uiManager.hcmFilter,v.drawImage(g,0,0,g.width,g.height,0,0,d,h)},Mg=function(t){if(t){if(a(this,as)){const o=this._uiManager.imageManager.getSvgUrl(a(this,Kt));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=a(this,ht),n.getContext("2d").drawImage(a(this,ht),0,0),n.toDataURL()}if(a(this,as)){const[n,r]=this.pageDimensions,o=Math.round(this.width*n*Pr.PDF_TO_CSS_UNITS),l=Math.round(this.height*r*Pr.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(o,l);return d.getContext("2d").drawImage(a(this,ht),0,0,a(this,ht).width,a(this,ht).height,0,0,o,l),d.transferToImageBitmap()}return structuredClone(a(this,ht))},I_=function(t){var d;const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,o=t.pageIndex===n,l=(((d=t.accessibilityData)==null?void 0:d.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&o&&l,isSameAltText:l}},te(Q0,"_type","stamp"),te(Q0,"_editorType",Te.STAMP);var wl,wu,Ri,Fo,Er,ls,Oo,xu,xl,ei,_r,Yt,Cr,zo,bu,ye,Bo,ft,D_,pi,Z0,ew,Ig;const Us=class Us{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:o,annotationLayer:l,drawLayer:d,textLayer:h,viewport:p,l10n:g}){_(this,ft);_(this,wl);_(this,wu,!1);_(this,Ri,null);_(this,Fo,null);_(this,Er,null);_(this,ls,new Map);_(this,Oo,!1);_(this,xu,!1);_(this,xl,!1);_(this,ei,null);_(this,_r,null);_(this,Yt,null);_(this,Cr,null);_(this,zo,null);_(this,bu,-1);_(this,ye);const v=[...a(Us,Bo).values()];if(!Us._initialized){Us._initialized=!0;for(const w of v)w.initialize(g,e)}e.registerEditorTypes(v),b(this,ye,e),this.pageIndex=t,this.div=n,b(this,wl,o),b(this,Ri,l),this.viewport=p,b(this,Yt,h),this.drawLayer=d,this._structTree=r,a(this,ye).addLayer(this)}get isEmpty(){return a(this,ls).size===0}get isInvisible(){return this.isEmpty&&a(this,ye).getMode()===Te.NONE}updateToolbar(e){a(this,ye).updateToolbar(e)}updateMode(e=a(this,ye).getMode()){switch(k(this,ft,Ig).call(this),e){case Te.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Te.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Te.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of a(Us,Bo).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=a(this,Yt))==null?void 0:t.div)}setEditingState(e){a(this,ye).setEditingState(e)}addCommands(e){a(this,ye).addCommands(e)}cleanUndoStack(e){a(this,ye).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=a(this,Ri))==null||t.div.classList.toggle("disabled",!e)}async enable(){var n;b(this,xl,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(n=a(this,zo))==null||n.abort(),b(this,zo,null);const e=new Set;for(const r of a(this,ls).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(a(this,ye).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!a(this,Ri)){b(this,xl,!1);return}const t=a(this,Ri).getEditableAnnotations();for(const r of t){if(r.hide(),a(this,ye).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const o=await this.deserialize(r);o&&(this.addOrRebuild(o),o.enableEditing())}b(this,xl,!1)}disable(){var r;if(b(this,xu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),a(this,Yt)&&!a(this,zo)){b(this,zo,new AbortController);const o=a(this,ye).combinedSignal(a(this,zo));a(this,Yt).div.addEventListener("pointerdown",l=>{const{clientX:h,clientY:p,timeStamp:g}=l,v=a(this,bu);if(g-v>500){b(this,bu,g);return}b(this,bu,-1);const{classList:w}=this.div;w.toggle("getElements",!0);const A=document.elementsFromPoint(h,p);if(w.toggle("getElements",!1),!this.div.contains(A[0]))return;let E;const S=new RegExp(`^${CS}[0-9]+$`);for(const N of A)if(S.test(N.id)){E=N.id;break}if(!E)return;const C=a(this,ls).get(E);(C==null?void 0:C.annotationElementId)===null&&(l.stopPropagation(),l.preventDefault(),C.dblclick())},{signal:o,capture:!0})}const e=new Map,t=new Map;for(const o of a(this,ls).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(a(this,Ri)){const o=a(this,Ri).getEditableAnnotations();for(const l of o){const{id:d}=l.data;if(a(this,ye).isDeletedAnnotationElement(d))continue;let h=t.get(d);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=e.get(d),h&&(a(this,ye).addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}k(this,ft,Ig).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of a(Us,Bo).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,xu,!1)}getEditableAnnotation(e){var t;return((t=a(this,Ri))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){a(this,ye).getActive()!==e&&a(this,ye).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=a(this,Yt))!=null&&e.div&&!a(this,Cr)){b(this,Cr,new AbortController);const t=a(this,ye).combinedSignal(a(this,Cr));a(this,Yt).div.addEventListener("pointerdown",k(this,ft,D_).bind(this),{signal:t}),a(this,Yt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=a(this,Yt))!=null&&e.div&&a(this,Cr)&&(a(this,Cr).abort(),b(this,Cr,null),a(this,Yt).div.classList.remove("highlighting"))}enableClick(){if(a(this,Fo))return;b(this,Fo,new AbortController);const e=a(this,ye).combinedSignal(a(this,Fo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=a(this,Fo))==null||e.abort(),b(this,Fo,null)}attach(e){a(this,ls).set(e.id,e);const{annotationElementId:t}=e;t&&a(this,ye).isDeletedAnnotationElement(t)&&a(this,ye).removeDeletedAnnotationElement(e)}detach(e){var t;a(this,ls).delete(e.id),(t=a(this,wl))==null||t.removePointerInTextLayer(e.contentDiv),!a(this,xu)&&e.annotationElementId&&a(this,ye).addDeletedAnnotationElement(e)}remove(e){this.detach(e),a(this,ye).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(a(this,ye).addDeletedAnnotationElement(e.annotationElementId),rt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),a(this,ye).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!a(this,xl)),a(this,ye).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!a(this,Er)&&(e._focusEventsAllowed=!1,b(this,Er,setTimeout(()=>{b(this,Er,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:a(this,ye)._signal}),t.focus())},0))),e._structTreeParentId=(n=a(this,wl))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return a(this,ye).getId()}combinedSignal(e){return a(this,ye).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=a(this,ft,pi))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await a(this,ye).updateMode(e.mode);const{offsetX:n,offsetY:r}=k(this,ft,ew).call(this),o=this.getNextId(),l=k(this,ft,Z0).call(this,{parent:this,id:o,x:n,y:r,uiManager:a(this,ye),isCentered:!0,...t});l&&this.add(l)}async deserialize(e){var t;return await((t=a(Us,Bo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,a(this,ye)))||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),o=k(this,ft,Z0).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:a(this,ye),isCentered:t,...n});return o&&this.add(o),o}addNewEditor(e={}){this.createAndAddNewEditor(k(this,ft,ew).call(this),!0,e)}setSelected(e){a(this,ye).setSelected(e)}toggleSelected(e){a(this,ye).toggleSelected(e)}unselect(e){a(this,ye).unselect(e)}pointerup(e){var r;const{isMac:t}=Qt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!a(this,Oo)||(b(this,Oo,!1),(r=a(this,ft,pi))!=null&&r.isDrawer&&a(this,ft,pi).supportMultipleDrawings))return;if(!a(this,wu)){b(this,wu,!0);return}const n=a(this,ye).getMode();if(n===Te.STAMP||n===Te.SIGNATURE){a(this,ye).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(a(this,ye).getMode()===Te.HIGHLIGHT&&this.enableTextSelection(),a(this,Oo)){b(this,Oo,!1);return}const{isMac:t}=Qt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(b(this,Oo,!0),(r=a(this,ft,pi))!=null&&r.isDrawer){this.startDrawingSession(e);return}const n=a(this,ye).getActive();b(this,wu,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),a(this,ei)){a(this,ft,pi).startDrawing(this,a(this,ye),!1,e);return}a(this,ye).setCurrentDrawingSession(this),b(this,ei,new AbortController);const t=a(this,ye).combinedSignal(a(this,ei));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(b(this,_r,null),this.commitOrRemove())},{signal:t}),a(this,ft,pi).startDrawing(this,a(this,ye),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&b(this,_r,t);return}a(this,_r)&&setTimeout(()=>{var t;(t=a(this,_r))==null||t.focus(),b(this,_r,null)},0)}endDrawingSession(e=!1){return a(this,ei)?(a(this,ye).setCurrentDrawingSession(null),a(this,ei).abort(),b(this,ei,null),b(this,_r,null),a(this,ft,pi).endDrawing(e)):null}findNewParent(e,t,n){const r=a(this,ye).findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return a(this,ei)?(this.endDrawingSession(),!0):!1}onScaleChanging(){a(this,ei)&&a(this,ft,pi).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=a(this,ye).getActive())==null?void 0:e.parent)===this&&(a(this,ye).commitOrRemove(),a(this,ye).setActiveEditor(null)),a(this,Er)&&(clearTimeout(a(this,Er)),b(this,Er,null));for(const n of a(this,ls).values())(t=a(this,wl))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,a(this,ls).clear(),a(this,ye).removeLayer(this)}render({viewport:e}){this.viewport=e,$o(this.div,e);for(const t of a(this,ye).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){a(this,ye).commitOrRemove(),k(this,ft,Ig).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,$o(this.div,{rotation:n}),t!==n)for(const r of a(this,ls).values())r.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return a(this,ye).viewParameters.realScale}};wl=new WeakMap,wu=new WeakMap,Ri=new WeakMap,Fo=new WeakMap,Er=new WeakMap,ls=new WeakMap,Oo=new WeakMap,xu=new WeakMap,xl=new WeakMap,ei=new WeakMap,_r=new WeakMap,Yt=new WeakMap,Cr=new WeakMap,zo=new WeakMap,bu=new WeakMap,ye=new WeakMap,Bo=new WeakMap,ft=new WeakSet,D_=function(e){a(this,ye).unselectAll();const{target:t}=e;if(t===a(this,Yt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&a(this,Yt).div.contains(t)){const{isMac:n}=Qt.platform;if(e.button!==0||e.ctrlKey&&n)return;a(this,ye).showAllEditors("highlight",!0,!0),a(this,Yt).div.classList.add("free"),this.toggleDrawing(),Vg.startHighlighting(this,a(this,ye).direction==="ltr",{target:a(this,Yt).div,x:e.x,y:e.y}),a(this,Yt).div.addEventListener("pointerup",()=>{a(this,Yt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:a(this,ye)._signal}),e.preventDefault()}},pi=function(){return a(Us,Bo).get(a(this,ye).getMode())},Z0=function(e){const t=a(this,ft,pi);return t?new t.prototype.constructor(e):null},ew=function(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,e),l=Math.max(0,t),d=Math.min(window.innerWidth,e+n),h=Math.min(window.innerHeight,t+r),p=(o+d)/2-e,g=(l+h)/2-t,[v,w]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:v,offsetY:w}},Ig=function(){for(const e of a(this,ls).values())e.isEmpty()&&e.remove()},te(Us,"_initialized",!1),_(Us,Bo,new Map([R0,V0,Q0,Vg,Y0].map(e=>[e._editorType,e])));let Gg=Us;var ti,Cn,bl,Sf,hm,j_,Di,tw,F_,nw;const Ft=class Ft{constructor({pageIndex:e}){_(this,Di);_(this,ti,null);_(this,Cn,new Map);_(this,bl,new Map);this.pageIndex=e}setParent(e){if(!a(this,ti)){b(this,ti,e);return}if(a(this,ti)!==e){if(a(this,Cn).size>0)for(const t of a(this,Cn).values())t.remove(),e.append(t);b(this,ti,e)}}static get _svgFactory(){return Oe(this,"_svgFactory",new Xd)}draw(e,t=!1,n=!1){const r=bn(Ft,Sf)._++,o=k(this,Di,tw).call(this),l=Ft._svgFactory.createElement("defs");o.append(l);const d=Ft._svgFactory.createElement("path");l.append(d);const h=`path_p${this.pageIndex}_${r}`;d.setAttribute("id",h),d.setAttribute("vector-effect","non-scaling-stroke"),t&&a(this,bl).set(r,d);const p=n?k(this,Di,F_).call(this,l,h):null,g=Ft._svgFactory.createElement("use");return o.append(g),g.setAttribute("href",`#${h}`),this.updateProperties(o,e),a(this,Cn).set(r,o),{id:r,clipPathId:`url(#${p})`}}drawOutline(e,t){const n=bn(Ft,Sf)._++,r=k(this,Di,tw).call(this),o=Ft._svgFactory.createElement("defs");r.append(o);const l=Ft._svgFactory.createElement("path");o.append(l);const d=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",d),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(t){const v=Ft._svgFactory.createElement("mask");o.append(v),h=`mask_p${this.pageIndex}_${n}`,v.setAttribute("id",h),v.setAttribute("maskUnits","objectBoundingBox");const w=Ft._svgFactory.createElement("rect");v.append(w),w.setAttribute("width","1"),w.setAttribute("height","1"),w.setAttribute("fill","white");const A=Ft._svgFactory.createElement("use");v.append(A),A.setAttribute("href",`#${d}`),A.setAttribute("stroke","none"),A.setAttribute("fill","black"),A.setAttribute("fill-rule","nonzero"),A.classList.add("mask")}const p=Ft._svgFactory.createElement("use");r.append(p),p.setAttribute("href",`#${d}`),h&&p.setAttribute("mask",`url(#${h})`);const g=p.cloneNode();return r.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(r,e),a(this,Cn).set(n,r),n}finalizeDraw(e,t){a(this,bl).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var h;if(!t)return;const{root:n,bbox:r,rootClass:o,path:l}=t,d=typeof e=="number"?a(this,Cn).get(e):e;if(d){if(n&&k(this,Di,nw).call(this,d,n),r&&k(h=Ft,hm,j_).call(h,d,r),o){const{classList:p}=d;for(const[g,v]of Object.entries(o))p.toggle(g,v)}if(l){const g=d.firstChild.firstChild;k(this,Di,nw).call(this,g,l)}}}updateParent(e,t){if(t===this)return;const n=a(this,Cn).get(e);n&&(a(t,ti).append(n),a(this,Cn).delete(e),a(t,Cn).set(e,n))}remove(e){a(this,bl).delete(e),a(this,ti)!==null&&(a(this,Cn).get(e).remove(),a(this,Cn).delete(e))}destroy(){b(this,ti,null);for(const e of a(this,Cn).values())e.remove();a(this,Cn).clear(),a(this,bl).clear()}};ti=new WeakMap,Cn=new WeakMap,bl=new WeakMap,Sf=new WeakMap,hm=new WeakSet,j_=function(e,[t,n,r,o]){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*r}%`,l.height=`${100*o}%`},Di=new WeakSet,tw=function(){const e=Ft._svgFactory.create(1,1,!0);return a(this,ti).append(e),e.setAttribute("aria-hidden",!0),e},F_=function(e,t){const n=Ft._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Ft._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),r},nw=function(e,t){for(const[n,r]of Object.entries(t))r===null?e.removeAttribute(n):e.setAttribute(n,r)},_(Ft,hm),_(Ft,Sf,0);let Xg=Ft;globalThis._pdfjsTestingUtils={HighlightOutliner:M0};globalThis.pdfjsLib={AbortException:Nr,AnnotationEditorLayer:Gg,AnnotationEditorParamsType:He,AnnotationEditorType:Te,AnnotationEditorUIManager:Uo,AnnotationLayer:Ew,AnnotationMode:Mi,AnnotationType:Ct,build:FE,ColorPicker:qd,createValidAbsoluteUrl:hw,DOMSVGFactory:Xd,DrawLayer:Xg,FeatureTest:Qt,fetchData:ku,getDocument:xw,getFilenameFromUrl:LS,getPdfFilenameFromUrl:MS,getUuid:pw,getXfaPageViewport:IS,GlobalWorkerOptions:Ns,ImageKind:Od,InvalidPDFException:Bg,isDataScheme:kf,isPdfFile:xm,isValidExplicitDest:pE,MathClamp:vn,noContextMenu:Ls,normalizeUnicode:PS,OPS:$d,OutputScale:si,PasswordResponses:TS,PDFDataRangeTransport:bw,PDFDateString:bm,PDFWorker:Au,PermissionFlag:kS,PixelsPerInch:Pr,RenderingCancelledException:wm,ResponseException:Ud,setLayerDimensions:$o,shadow:Oe,SignatureExtractor:Ii,stopEvent:Nt,SupportedImageMimeTypes:Hg,TextLayer:Wd,TouchManager:Vd,updateUrlHash:fw,Util:we,VerbosityLevel:Ef,version:zd,XfaLayer:Aw};const UR=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Nr,AnnotationEditorLayer:Gg,AnnotationEditorParamsType:He,AnnotationEditorType:Te,AnnotationEditorUIManager:Uo,AnnotationLayer:Ew,AnnotationMode:Mi,AnnotationType:Ct,ColorPicker:qd,DOMSVGFactory:Xd,DrawLayer:Xg,FeatureTest:Qt,GlobalWorkerOptions:Ns,ImageKind:Od,InvalidPDFException:Bg,MathClamp:vn,OPS:$d,OutputScale:si,PDFDataRangeTransport:bw,PDFDateString:bm,PDFWorker:Au,PasswordResponses:TS,PermissionFlag:kS,PixelsPerInch:Pr,RenderingCancelledException:wm,ResponseException:Ud,SignatureExtractor:Ii,SupportedImageMimeTypes:Hg,TextLayer:Wd,TouchManager:Vd,Util:we,VerbosityLevel:Ef,XfaLayer:Aw,build:FE,createValidAbsoluteUrl:hw,fetchData:ku,getDocument:xw,getFilenameFromUrl:LS,getPdfFilenameFromUrl:MS,getUuid:pw,getXfaPageViewport:IS,isDataScheme:kf,isPdfFile:xm,isValidExplicitDest:pE,noContextMenu:Ls,normalizeUnicode:PS,setLayerDimensions:$o,shadow:Oe,stopEvent:Nt,updateUrlHash:fw,version:zd},Symbol.toStringTag,{value:"Module"}));var dA=Object.prototype.hasOwnProperty;function hA(u,e,t){for(t of u.keys())if(pc(t,e))return t}function pc(u,e){var t,n,r;if(u===e)return!0;if(u&&e&&(t=u.constructor)===e.constructor){if(t===Date)return u.getTime()===e.getTime();if(t===RegExp)return u.toString()===e.toString();if(t===Array){if((n=u.length)===e.length)for(;n--&&pc(u[n],e[n]););return n===-1}if(t===Set){if(u.size!==e.size)return!1;for(n of u)if(r=n,r&&typeof r=="object"&&(r=hA(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(u.size!==e.size)return!1;for(n of u)if(r=n[0],r&&typeof r=="object"&&(r=hA(e,r),!r)||!pc(n[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)u=new Uint8Array(u),e=new Uint8Array(e);else if(t===DataView){if((n=u.byteLength)===e.byteLength)for(;n--&&u.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(u)){if((n=u.byteLength)===e.byteLength)for(;n--&&u[n]===e[n];);return n===-1}if(!t||typeof u=="object"){n=0;for(t in u)if(dA.call(u,t)&&++n&&!dA.call(e,t)||!(t in e)||!pc(u[t],e[t]))return!1;return Object.keys(e).length===n}}return u!==u&&e!==e}function Rf(u){let e=!1;return{promise:new Promise((n,r)=>{u.then(o=>!e&&n(o)).catch(o=>!e&&r(o))}),cancel(){e=!0}}}const VR=["onCopy","onCut","onPaste"],WR=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],GR=["onFocus","onBlur"],XR=["onInput","onInvalid","onReset","onSubmit"],qR=["onLoad","onError"],KR=["onKeyDown","onKeyPress","onKeyUp"],YR=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],QR=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],JR=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],ZR=["onSelect"],eL=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],tL=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],nL=["onScroll"],sL=["onWheel"],iL=["onAnimationStart","onAnimationEnd","onAnimationIteration"],rL=["onTransitionEnd"],oL=["onToggle"],aL=["onChange"],lL=[...VR,...WR,...GR,...XR,...qR,...KR,...YR,...QR,...JR,...ZR,...eL,...tL,...nL,...sL,...iL,...rL,...aL,...oL];function O_(u,e){const t={};for(const n of lL){const r=u[n];r&&(e?t[n]=(o=>r(o,e(n))):t[n]=r)}return t}var cL="Invariant failed";function nt(u,e){if(!u)throw new Error(cL)}var Oy,fA;function uL(){if(fA)return Oy;fA=1;var u=function(){};return Oy=u,Oy}var dL=uL();const yn=fm(dL),z_=D.createContext(null),hL="noopener noreferrer nofollow";class fL{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return nt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){nt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{nt(this.pdfDocument),nt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{nt(Array.isArray(t));const n=t[0];new Promise(r=>{nt(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{r(o)}).catch(()=>{nt(!1)}):typeof n=="number"?r(n):nt(!1)}).then(r=>{const o=r+1;nt(this.pdfViewer),nt(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;nt(this.pdfViewer),nt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||hL,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function gc({children:u,type:e}){return y.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:u})}const pA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function pL(u,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return u}}function Su(){return D.useReducer(pL,{value:void 0,error:void 0})}const Em=typeof window<"u",B_=Em&&window.location.protocol==="file:";function gL(u){return typeof u<"u"}function la(u){return gL(u)&&u!==null}function mL(u){return typeof u=="string"}function vL(u){return u instanceof ArrayBuffer}function yL(u){return nt(Em),u instanceof Blob}function sw(u){return mL(u)&&/^data:/.test(u)}function gA(u){nt(sw(u));const[e="",t=""]=u.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function wL(){return Em&&window.devicePixelRatio||1}const H_="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function mA(){yn(!B_,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${H_}`)}function xL(){yn(!B_,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${H_}`)}function El(u){u!=null&&u.cancel&&u.cancel()}function iw(u,e){return Object.defineProperty(u,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(u,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(u,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(u,"originalHeight",{get(){return this.view[3]},configurable:!0}),u}function bL(u){return u.name==="RenderingCancelledException"}function AL(u){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(u)})}const{PDFDataRangeTransport:SL}=UR,EL=(u,e)=>{switch(e){case pA.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");u(t);break}case pA.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");u(t);break}}};function vA(u){return typeof u=="object"&&u!==null&&("data"in u||"range"in u||"url"in u)}const _L=D.forwardRef(function({children:e,className:t,error:n="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:d,imageResourcesPath:h,loading:p="Loading PDF…",noData:g="No PDF file specified.",onItemClick:v,onLoadError:w,onLoadProgress:A,onLoadSuccess:E,onPassword:S=EL,onSourceError:C,onSourceSuccess:N,options:R,renderMode:P,rotate:L,scale:I,...B},F){const[V,G]=Su(),{value:Y,error:ee}=V,[re,ve]=Su(),{value:oe,error:Pe}=re,Q=D.useRef(new fL),q=D.useRef([]),J=D.useRef(void 0),ae=D.useRef(void 0);l&&l!==J.current&&vA(l)&&(yn(!pc(l,J.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),J.current=l),R&&R!==ae.current&&(yn(!pc(R,ae.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ae.current=R);const se=D.useRef({scrollPageIntoView:Be=>{const{dest:Qe,pageNumber:wt,pageIndex:St=wt-1}=Be;if(v){v({dest:Qe,pageIndex:St,pageNumber:wt});return}const oi=q.current[St];if(oi){oi.scrollIntoView();return}yn(!1,`An internal link leading to page ${wt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});D.useImperativeHandle(F,()=>({linkService:Q,pages:q,viewer:se}),[]);function O(){N&&N()}function W(){ee&&(yn(!1,ee.toString()),C&&C(ee))}function ue(){G({type:"RESET"})}D.useEffect(ue,[l,G]);const be=D.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return sw(l)?{data:gA(l)}:(mA(),{url:l});if(l instanceof SL)return{range:l};if(vL(l))return{data:l};if(Em&&yL(l))return{data:await AL(l)};if(nt(typeof l=="object"),nt(vA(l)),"url"in l&&typeof l.url=="string"){if(sw(l.url)){const{url:Be,...Qe}=l;return{data:gA(Be),...Qe}}mA()}return l},[l]);D.useEffect(()=>{const Be=Rf(be());return Be.promise.then(Qe=>{G({type:"RESOLVE",value:Qe})}).catch(Qe=>{G({type:"REJECT",error:Qe})}),()=>{El(Be)}},[be,G]),D.useEffect(()=>{if(!(typeof Y>"u")){if(Y===!1){W();return}O()}},[Y]);function Ce(){oe&&(E&&E(oe),q.current=new Array(oe.numPages),Q.current.setDocument(oe))}function _e(){Pe&&(yn(!1,Pe.toString()),w&&w(Pe))}D.useEffect(function(){ve({type:"RESET"})},[ve,Y]),D.useEffect(function(){if(!Y)return;const Qe=R?{...Y,...R}:Y,wt=xw(Qe);A&&(wt.onProgress=A),S&&(wt.onPassword=S);const St=wt,oi=St.promise.then(Mr=>{ve({type:"RESOLVE",value:Mr})}).catch(Mr=>{St.destroyed||ve({type:"REJECT",error:Mr})});return()=>{oi.finally(()=>St.destroy())}},[R,ve,Y]),D.useEffect(()=>{if(!(typeof oe>"u")){if(oe===!1){_e();return}Ce()}},[oe]),D.useEffect(function(){Q.current.setViewer(se.current),Q.current.setExternalLinkRel(r),Q.current.setExternalLinkTarget(o)},[r,o]);const xe=D.useCallback((Be,Qe)=>{q.current[Be]=Qe},[]),Me=D.useCallback(Be=>{delete q.current[Be]},[]),ze=D.useMemo(()=>({imageResourcesPath:h,linkService:Q.current,onItemClick:v,pdf:oe,registerPage:xe,renderMode:P,rotate:L,scale:I,unregisterPage:Me}),[h,v,oe,xe,P,L,I,Me]),Fe=D.useMemo(()=>O_(B,()=>oe),[B,oe]);function Rn(){function Be(wt){return!!(wt!=null&&wt.pdf)}if(!Be(ze))throw new Error("pdf is undefined");const Qe=typeof e=="function"?e(ze):e;return y.jsx(z_.Provider,{value:ze,children:Qe})}function fs(){return l?oe==null?y.jsx(gc,{type:"loading",children:typeof p=="function"?p():p}):oe===!1?y.jsx(gc,{type:"error",children:typeof n=="function"?n():n}):Rn():y.jsx(gc,{type:"no-data",children:typeof g=="function"?g():g})}return y.jsx("div",{className:Eu("react-pdf__Document",t),ref:d,...Fe,children:fs()})});function $_(){return D.useContext(z_)}function U_(){for(var u=[],e=0;e<arguments.length;e++)u[e]=arguments[e];var t=u.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(o){for(var l=0,d=t;l<d.length;l++){var h=d[l];typeof h=="function"?h(o):h&&(h.current=o)}}}const V_=D.createContext(null);function _m(){return D.useContext(V_)}function CL(){const u=$_(),e=_m();nt(e);const t={...u,...e},{imageResourcesPath:n,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:h,page:p,pdf:g,renderForms:v,rotate:w,scale:A=1}=t;nt(g),nt(p),nt(r);const[E,S]=Su(),{value:C,error:N}=E,R=D.useRef(null);yn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function P(){C&&l&&l(C)}function L(){N&&(yn(!1,N.toString()),o&&o(N))}D.useEffect(function(){S({type:"RESET"})},[S,p]),D.useEffect(function(){if(!p)return;const G=Rf(p.getAnnotations()),Y=G;return G.promise.then(ee=>{S({type:"RESOLVE",value:ee})}).catch(ee=>{S({type:"REJECT",error:ee})}),()=>{El(Y)}},[S,p]),D.useEffect(()=>{if(C!==void 0){if(C===!1){L();return}P()}},[C]);function I(){h&&h()}function B(V){yn(!1,`${V}`),d&&d(V)}const F=D.useMemo(()=>p.getViewport({scale:A,rotation:w}),[p,w,A]);return D.useEffect(function(){if(!g||!p||!r||!C)return;const{current:G}=R;if(!G)return;const Y=F.clone({dontFlip:!0}),ee={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:G,l10n:null,page:p,structTreeLayer:null,viewport:Y},re={annotations:C,annotationStorage:g.annotationStorage,div:G,imageResourcesPath:n,linkService:r,page:p,renderForms:v,viewport:Y};G.innerHTML="";try{new Ew(ee).render(re),I()}catch(ve){B(ve)}return()=>{}},[C,n,r,p,g,v,F]),y.jsx("div",{className:Eu("react-pdf__Page__annotations","annotationLayer"),ref:R})}const W_={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},kL=/^H(\d+)$/;function TL(u){return u in W_}function Cm(u){return"children"in u}function G_(u){return Cm(u)?u.children.length===1&&0 in u.children&&"id"in u.children[0]:!1}function NL(u){const e={};if(Cm(u)){const{role:t}=u,n=t.match(kL);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(TL(t)){const r=W_[t];r&&(e.role=r)}}return e}function X_(u){const e={};if(Cm(u)){if(u.alt!==void 0&&(e["aria-label"]=u.alt),u.lang!==void 0&&(e.lang=u.lang),G_(u)){const[t]=u.children;if(t){const n=X_(t);return{...e,...n}}}}else"id"in u&&(e["aria-owns"]=u.id);return e}function PL(u){return u?{...NL(u),...X_(u)}:null}function q_({className:u,node:e}){const t=D.useMemo(()=>PL(e),[e]),n=D.useMemo(()=>!Cm(e)||G_(e)?null:e.children.map((r,o)=>y.jsx(q_,{node:r},o)),[e]);return y.jsx("span",{className:u,...t,children:n})}function RL(){const u=_m();nt(u);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=u,[n,r]=Su(),{value:o,error:l}=n,{customTextRenderer:d,page:h}=u;function p(){o&&t&&t(o)}function g(){l&&(yn(!1,l.toString()),e&&e(l))}return D.useEffect(function(){r({type:"RESET"})},[r,h]),D.useEffect(function(){if(d||!h)return;const w=Rf(h.getStructTree()),A=w;return w.promise.then(E=>{r({type:"RESOLVE",value:E})}).catch(E=>{r({type:"REJECT",error:E})}),()=>El(A)},[d,h,r]),D.useEffect(()=>{if(o!==void 0){if(o===!1){g();return}p()}},[o]),o?y.jsx(q_,{className:"react-pdf__Page__structTree structTree",node:o}):null}const yA=Mi;function LL(u){const e=_m();nt(e);const t={...e,...u},{_className:n,canvasBackground:r,devicePixelRatio:o=wL(),onRenderError:l,onRenderSuccess:d,page:h,renderForms:p,renderTextLayer:g,rotate:v,scale:w}=t,{canvasRef:A}=u;nt(h);const E=D.useRef(null);function S(){h&&d&&d(iw(h,w))}function C(L){bL(L)||(yn(!1,L.toString()),l&&l(L))}const N=D.useMemo(()=>h.getViewport({scale:w*o,rotation:v}),[o,h,v,w]),R=D.useMemo(()=>h.getViewport({scale:w,rotation:v}),[h,v,w]);D.useEffect(function(){if(!h)return;h.cleanup();const{current:I}=E;if(!I)return;I.width=N.width,I.height=N.height,I.style.width=`${Math.floor(R.width)}px`,I.style.height=`${Math.floor(R.height)}px`,I.style.visibility="hidden";const B={annotationMode:p?yA.ENABLE_FORMS:yA.ENABLE,canvasContext:I.getContext("2d",{alpha:!1}),viewport:N};r&&(B.background=r);const F=h.render(B),V=F;return F.promise.then(()=>{I.style.visibility="",S()}).catch(C),()=>El(V)},[r,h,p,N,R]);const P=D.useCallback(()=>{const{current:L}=E;L&&(L.width=0,L.height=0)},[]);return D.useEffect(()=>P,[P]),y.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:U_(A,E),style:{display:"block",userSelect:"none"},children:g?y.jsx(RL,{}):null})}function ML(u){return"str"in u}function IL(){const u=_m();nt(u);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:l,pageIndex:d,pageNumber:h,rotate:p,scale:g}=u;nt(l);const[v,w]=Su(),{value:A,error:E}=v,S=D.useRef(null);yn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){A&&n&&n(A)}function N(){E&&(yn(!1,E.toString()),t&&t(E))}D.useEffect(function(){w({type:"RESET"})},[l,w]),D.useEffect(function(){if(!l)return;const V=Rf(l.getTextContent()),G=V;return V.promise.then(Y=>{w({type:"RESOLVE",value:Y})}).catch(Y=>{w({type:"REJECT",error:Y})}),()=>El(G)},[l,w]),D.useEffect(()=>{if(A!==void 0){if(A===!1){N();return}C()}},[A]);const R=D.useCallback(()=>{o&&o()},[o]),P=D.useCallback(F=>{yn(!1,F.toString()),r&&r(F)},[r]);function L(){const F=S.current;F&&F.classList.add("selecting")}function I(){const F=S.current;F&&F.classList.remove("selecting")}const B=D.useMemo(()=>l.getViewport({scale:g,rotation:p}),[l,p,g]);return D.useLayoutEffect(function(){if(!l||!A)return;const{current:V}=S;if(!V)return;V.innerHTML="";const G=l.streamTextContent({includeMarkedContent:!0}),Y={container:V,textContentSource:G,viewport:B},ee=new Wd(Y),re=ee;return ee.render().then(()=>{const ve=document.createElement("div");ve.className="endOfContent",V.append(ve);const oe=V.querySelectorAll('[role="presentation"]');if(e){let Pe=0;A.items.forEach((Q,q)=>{if(!ML(Q))return;const J=oe[Pe];if(!J)return;const ae=e({pageIndex:d,pageNumber:h,itemIndex:q,...Q});J.innerHTML=ae,Pe+=Q.str&&Q.hasEOL?2:1})}R()}).catch(P),()=>El(re)},[e,P,R,l,d,h,A,B]),y.jsx("div",{className:Eu("react-pdf__Page__textContent","textLayer"),onMouseUp:I,onMouseDown:L,ref:S})}const wA=1;function DL(u){const t={...$_(),...u},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:l,children:d,className:h,customRenderer:p,customTextRenderer:g,devicePixelRatio:v,error:w="Failed to load the page.",height:A,inputRef:E,loading:S="Loading page…",noData:C="No page specified.",onGetAnnotationsError:N,onGetAnnotationsSuccess:R,onGetStructTreeError:P,onGetStructTreeSuccess:L,onGetTextError:I,onGetTextSuccess:B,onLoadError:F,onLoadSuccess:V,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:Y,onRenderError:ee,onRenderSuccess:re,onRenderTextLayerError:ve,onRenderTextLayerSuccess:oe,pageIndex:Pe,pageNumber:Q,pdf:q,registerPage:J,renderAnnotationLayer:ae=!0,renderForms:se=!1,renderMode:O="canvas",renderTextLayer:W=!0,rotate:ue,scale:be=wA,unregisterPage:Ce,width:_e,...xe}=t,[Me,ze]=Su(),{value:Fe,error:Rn}=Me,fs=D.useRef(null);nt(q);const Be=la(Q)?Q-1:Pe??null,Qe=Q??(la(Pe)?Pe+1:null),wt=ue??(Fe?Fe.rotate:null),St=D.useMemo(()=>{if(!Fe)return null;let ps=1;const Is=be??wA;if(_e||A){const Ds=Fe.getViewport({scale:1,rotation:wt});_e?ps=_e/Ds.width:A&&(ps=A/Ds.height)}return Is*ps},[A,Fe,wt,be,_e]);D.useEffect(function(){return()=>{la(Be)&&r&&Ce&&Ce(Be)}},[r,q,Be,Ce]);function oi(){if(V){if(!Fe||!St)return;V(iw(Fe,St))}if(r&&J){if(!la(Be)||!fs.current)return;J(Be,fs.current)}}function Mr(){Rn&&(yn(!1,Rn.toString()),F&&F(Rn))}D.useEffect(function(){ze({type:"RESET"})},[ze,q,Be]),D.useEffect(function(){if(!q||!Qe)return;const Is=Rf(q.getPage(Qe)),Ds=Is;return Is.promise.then(ji=>{ze({type:"RESOLVE",value:ji})}).catch(ji=>{ze({type:"REJECT",error:ji})}),()=>El(Ds)},[ze,q,Qe]),D.useEffect(()=>{if(Fe!==void 0){if(Fe===!1){Mr();return}oi()}},[Fe,St]);const Xo=D.useMemo(()=>la(Be)&&Qe&&la(wt)&&la(St)?{_className:n,canvasBackground:o,customTextRenderer:g,devicePixelRatio:v,onGetAnnotationsError:N,onGetAnnotationsSuccess:R,onGetStructTreeError:P,onGetStructTreeSuccess:L,onGetTextError:I,onGetTextSuccess:B,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:Y,onRenderError:ee,onRenderSuccess:re,onRenderTextLayerError:ve,onRenderTextLayerSuccess:oe,page:Fe,pageIndex:Be,pageNumber:Qe,renderForms:se,renderTextLayer:W,rotate:wt,scale:St}:null,[n,o,g,v,N,R,P,L,I,B,G,Y,ee,re,ve,oe,Fe,Be,Qe,se,W,wt,St]),qo=D.useMemo(()=>O_(xe,()=>Fe&&(St?iw(Fe,St):void 0)),[xe,Fe,St]),Ms=`${Be}@${St}/${wt}`;function Tu(){switch(O){case"custom":return nt(p),y.jsx(p,{},`${Ms}_custom`);case"none":return null;case"canvas":default:return y.jsx(LL,{canvasRef:l},`${Ms}_canvas`)}}function Lf(){return W?y.jsx(IL,{},`${Ms}_text`):null}function Mf(){return ae?y.jsx(CL,{},`${Ms}_annotations`):null}function If(){function ps(Ds){return!!(Ds!=null&&Ds.page)}if(!ps(Xo))throw new Error("page is undefined");const Is=typeof d=="function"?d(Xo):d;return y.jsxs(V_.Provider,{value:Xo,children:[Tu(),Lf(),Mf(),Is]})}function Df(){return Qe?q===null||Fe===void 0||Fe===null?y.jsx(gc,{type:"loading",children:typeof S=="function"?S():S}):q===!1||Fe===!1?y.jsx(gc,{type:"error",children:typeof w=="function"?w():w}):If():y.jsx(gc,{type:"no-data",children:typeof C=="function"?C():C})}return y.jsx("div",{className:Eu(n,h),"data-page-number":Qe,ref:U_(E,fs),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${St}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...qo,children:Df()})}xL();Ns.workerSrc="pdf.worker.mjs";const jL=[`//unpkg.com/pdfjs-dist@${zd}/build/pdf.worker.min.js`,`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${zd}/pdf.worker.min.js`,`//cdn.jsdelivr.net/npm/pdfjs-dist@${zd}/build/pdf.worker.min.js`];let K_=!1;for(const u of jL)try{Ns.workerSrc=u,console.log("PDF.js worker configured:",u),K_=!0;break}catch(e){console.warn("Failed to load PDF.js worker from:",u,e)}K_||console.error("Failed to load PDF.js worker from any source");function xA({pdfUrl:u,title:e,className:t="",useIframe:n=!1}){const[r,o]=D.useState(null),[l,d]=D.useState(1),[h,p]=D.useState(!n),[g,v]=D.useState(null);ow.useEffect(()=>{console.log("PDFViewer mounted for:",u),fetch(u,{method:"HEAD"}).then(C=>{console.log(`PDF URL ${u} status:`,C.status),C.ok||console.error(`PDF URL ${u} is not accessible:`,C.statusText)}).catch(C=>{console.error(`Failed to fetch PDF URL ${u}:`,C)})},[u]);function w({numPages:C}){console.log(`PDF loaded successfully: ${u} - ${C} pages`),o(C),p(!1),v(null)}function A(C){console.error("PDF Load Error for:",u),console.error("Error details:",C),console.error("Error name:",C.name),console.error("Error message:",C.message),console.error("Error stack:",C.stack),v(`Failed to load PDF: ${C.message}`),p(!1)}const E=()=>{l<(r||1)&&d(l+1)},S=()=>{l>1&&d(l-1)};return y.jsxs("div",{className:`pdf-viewer ${t}`,children:[e&&y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold",children:e}),y.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>window.open(u,"_blank"),className:"flex items-center gap-2 hover:bg-primary hover:text-primary-foreground",title:"Open PDF in full screen",children:[y.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 3H3a2 2 0 00-2 2v14a2 2 0 002 2h18a2 2 0 002-2V5a2 2 0 00-2-2z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 14l-9-9-9 9"})]}),"Full Screen"]})]}),y.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white relative group",children:[!e&&y.jsx("div",{className:"absolute top-3 right-3 z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:y.jsxs(Xe,{variant:"secondary",size:"sm",onClick:()=>window.open(u,"_blank"),className:"bg-white/90 hover:bg-white shadow-lg flex items-center gap-2",title:"Open PDF in full screen",children:[y.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 3H3a2 2 0 00-2 2v14a2 2 0 002 2h18a2 2 0 002-2V5a2 2 0 00-2-2z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 14l-9-9-9 9"})]}),"Full Screen"]})}),h&&!n&&y.jsx("div",{className:"flex flex-col items-center justify-center h-96 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),y.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Loading PDF..."}),y.jsx("p",{className:"text-xs text-gray-500",children:"This may take a few moments"})]})}),g&&y.jsx("div",{className:"flex flex-col items-center justify-center h-96 bg-red-50 rounded-lg border border-red-200",children:y.jsxs("div",{className:"text-center p-6",children:[y.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),y.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Failed to Load PDF"}),y.jsx("p",{className:"text-sm text-red-600 mb-4",children:g}),y.jsxs("div",{className:"flex gap-2 justify-center",children:[y.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),className:"text-red-600 border-red-300 hover:bg-red-50",children:"Retry"}),y.jsx(Xe,{variant:"outline",size:"sm",onClick:()=>window.open(u,"_blank"),className:"text-red-600 border-red-300 hover:bg-red-50",children:"Open in Browser"})]})]})}),!h&&!g&&y.jsx(y.Fragment,{children:n?y.jsxs("div",{className:"relative bg-gray-50 rounded-lg overflow-hidden",children:[h&&y.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white bg-opacity-95 z-10 rounded-lg",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),y.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Loading PDF..."}),y.jsx("p",{className:"text-xs text-gray-500",children:"Opening document in viewer"})]})}),y.jsx("iframe",{src:u,className:"w-full border-0 rounded-lg",title:e||"PDF Document",style:{minHeight:"600px"},onLoad:()=>{console.log(`PDF iframe loaded for: ${u}`),p(!1)},onError:()=>{console.error(`PDF iframe failed to load: ${u}`),v("Failed to load PDF in iframe"),p(!1)}})]}):y.jsxs(y.Fragment,{children:[console.log(`Rendering Document component for: ${u}`),y.jsx(_L,{file:u,onLoadSuccess:w,onLoadError:A,loading:"",className:"flex justify-center",children:y.jsx(DL,{pageNumber:l,renderTextLayer:!1,renderAnnotationLayer:!1,className:"shadow-sm"})}),r&&r>1&&y.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-t",children:[y.jsx(Xe,{variant:"outline",size:"sm",onClick:S,disabled:l<=1,children:"Previous"}),y.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",l," of ",r]}),y.jsx(Xe,{variant:"outline",size:"sm",onClick:E,disabled:l>=r,children:"Next"})]})]})})]})]})}function FL(){var l,d,h;const u=[{title:"Poppin' Joe's Kettle Corn E-Commerce Website Redesign",description:"Redesigned the website for a beloved family brand by conducting a site analysis, creating a content strategy report, and developing a full editorial style guide. The project improved navigation, clarified brand voice, and established a cohesive, accessible digital presence.",tags:["User Research","Information Architecture","Style Guide","Brand Voice","Accessibility"],image:"/placeholder-ecommerce.jpg",pdfUrls:["/pdfs/poppin-joe-site-analysis.pdf","/pdfs/poppin-joe-content-strategy.pdf","/pdfs/poppin-joe-style-guide.pdf"],pdfTitles:["Site Analysis Report","Content Strategy Report","Editorial Style Guide"]},{title:"Mobile Banking App",description:"Designed an intuitive mobile banking experience focusing on security and accessibility.",tags:["Mobile Design","Accessibility","Security UX","User Flows"],image:"/placeholder-banking.jpg",pdfUrl:"/pdfs/mobile-banking-case-study.pdf"},{title:"SaaS Dashboard Interface",description:"Simplified complex data visualization for better user decision-making and workflow efficiency.",tags:["Data Visualization","Dashboard Design","Information Architecture","User Testing"],image:"/placeholder-saas.jpg",pdfUrl:"/pdfs/saas-dashboard-case-study.pdf"},{title:"Healthcare Patient Portal",description:"Streamlined patient access to medical records and appointment scheduling with HIPAA-compliant design.",tags:["Healthcare UX","Accessibility","Information Security","User Journey Mapping"],image:"/placeholder-healthcare.jpg",pdfUrl:"/pdfs/healthcare-portal-case-study.pdf"},{title:"Educational Learning Platform",description:"Enhanced student engagement and learning outcomes through gamification and adaptive UI design.",tags:["EdTech","Gamification","Adaptive Design","User Engagement"],image:"/placeholder-education.jpg",pdfUrl:"/pdfs/education-platform-case-study.pdf"},{title:"Travel Booking Website",description:"Optimized the booking flow to reduce cart abandonment by 40% with improved UX patterns.",tags:["Conversion Optimization","User Flows","Mobile-First Design","Usability Testing"],image:"/placeholder-travel.jpg",pdfUrl:"/pdfs/travel-booking-case-study.pdf"}],[e,t]=D.useState(null),n=e?u.findIndex(p=>p.title===e.title):-1,r=p=>{if(n===-1)return;const g=p==="next"?(n+1)%u.length:(n-1+u.length)%u.length;t(u[g])},o=p=>{p.key==="ArrowLeft"?(p.preventDefault(),r("prev")):p.key==="ArrowRight"?(p.preventDefault(),r("next")):p.key==="Escape"&&t(null)};return y.jsx("section",{id:"ux-studies",className:"py-20","aria-labelledby":"ux-studies-heading",children:y.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("p",{className:"subheading text-primary text-lg mb-4",role:"text",children:"User Experience Research & Design"}),y.jsx("h2",{id:"ux-studies-heading",className:"text-4xl font-bold mb-4",children:"UX Case Studies"}),y.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",role:"text",children:"Real projects, real impact. Here's how I've helped businesses improve their user experience and achieve their goals."})]}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",role:"list","aria-label":"UX case studies",children:u.map((p,g)=>y.jsxs("article",{role:"listitem",className:"group glass-card rounded-xl overflow-hidden focus-within:ring-2 focus-within:ring-primary flex flex-col h-full card-interactive cursor-pointer",onClick:()=>t(p),children:[y.jsx("div",{className:"aspect-video glass-section flex items-center justify-center card-image",role:"img","aria-label":`Preview image for ${p.title}`,children:y.jsx("span",{className:"text-muted-foreground",children:"Project Image"})}),y.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[y.jsx("h3",{className:"text-xl font-semibold mb-3",id:`study-title-${g}`,children:p.title}),y.jsx("p",{className:"text-muted-foreground mb-4 flex-grow","aria-describedby":`study-title-${g}`,children:p.description}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-4",role:"list","aria-label":"Project tags",children:p.tags.map((v,w)=>y.jsx("span",{role:"listitem",className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:v},w))}),y.jsx(Xe,{className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground focus:ring-2 focus:ring-primary focus:ring-offset-2 mt-auto btn-animate hover-glow","aria-label":`View case study for ${p.title}`,onClick:v=>{v.stopPropagation(),t(p)},children:"View Case Study"})]})]},g))}),y.jsx(Uy,{open:!!e,onOpenChange:()=>t(null),children:y.jsxs(jg,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] max-w-7xl w-[95vw] max-h-[90vh] overflow-hidden flex flex-col z-50",onKeyDown:o,"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:[y.jsx("a",{href:"#modal-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-primary text-primary-foreground px-3 py-2 rounded-md text-sm font-medium z-50",children:"Skip to content"}),y.jsxs(Fg,{className:"flex-shrink-0",children:[y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>r("prev"),className:"p-2 h-8 w-8","aria-label":`Previous case study: ${(l=u[(n-1+u.length)%u.length])==null?void 0:l.title}`,disabled:u.length<=1,children:y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),y.jsxs("div",{className:"text-sm text-muted-foreground","aria-live":"polite",children:[n+1," of ",u.length]}),y.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>r("next"),className:"p-2 h-8 w-8","aria-label":`Next case study: ${(d=u[(n+1)%u.length])==null?void 0:d.title}`,disabled:u.length<=1,children:y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),y.jsx(Og,{id:"modal-title",className:"text-xl md:text-2xl pr-8 mt-4 text-green-800",children:e==null?void 0:e.title}),y.jsx(zg,{id:"modal-description",className:"text-sm md:text-base",children:e==null?void 0:e.description})]}),y.jsx("div",{className:"flex-1 overflow-y-auto",id:"modal-content",children:(e==null?void 0:e.title)==="Poppin' Joe's Kettle Corn E-Commerce Website Redesign"?y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold mb-3 text-lg",children:"Project Overview"}),y.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"This comprehensive redesign project focused on transforming Poppin' Joe's online presence through strategic user research and content strategy. The work included detailed site analysis to identify usability issues, development of a comprehensive content strategy to strengthen brand voice, and creation of an editorial style guide to ensure consistent messaging across all touchpoints."})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold mb-3 text-lg",children:"Key Deliverables"}),y.jsxs("ul",{className:"text-muted-foreground space-y-2",children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Complete site analysis report identifying UX issues and improvement opportunities"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Content strategy framework with brand voice guidelines and messaging hierarchy"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Editorial style guide ensuring consistent tone and terminology across all content"})]})]})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold mb-3",children:"Key Skills & Technologies"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:e==null?void 0:e.tags.map((p,g)=>y.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:p},g))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold mb-3",children:"Impact & Results"}),y.jsxs("ul",{className:"text-muted-foreground space-y-2 text-sm",children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"Improved site navigation and user flow clarity"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"Established consistent brand voice and messaging"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"Enhanced accessibility and user experience standards"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"Created scalable content framework for future growth"})]})]})]})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"font-semibold text-xl md:text-2xl text-green-800",children:"Project Documentation"}),y.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-6",children:(h=e.pdfUrls)==null?void 0:h.map((p,g)=>{var v;return y.jsx("div",{className:"flex flex-col",children:y.jsx(xA,{pdfUrl:p,title:((v=e.pdfTitles)==null?void 0:v[g])||`Document ${g+1}`,className:"w-full flex-1",useIframe:!0})},g)})})]})]}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold mb-3 text-lg",children:"Project Overview"}),y.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:[(e==null?void 0:e.title)==="Mobile Banking App"&&"This mobile banking application redesign focused on creating a secure, intuitive, and accessible banking experience. The project addressed key pain points in mobile financial services, implementing biometric authentication, simplified navigation, and comprehensive accessibility features to serve users with diverse needs and abilities.",(e==null?void 0:e.title)==="SaaS Dashboard Interface"&&"This comprehensive dashboard redesign transformed complex data visualization into clear, actionable insights. The project involved extensive user research with data analysts and business users to understand their workflows, pain points, and information needs, resulting in a streamlined interface that improved decision-making efficiency.",(e==null?void 0:e.title)==="Healthcare Patient Portal"&&"This patient portal redesign addressed critical usability issues in healthcare technology, focusing on HIPAA compliance, accessibility standards, and intuitive navigation for patients managing their healthcare journey. The project involved collaboration with healthcare providers and extensive user testing with patients of varying technical proficiency.",(e==null?void 0:e.title)==="Educational Learning Platform"&&"This educational platform redesign leveraged gamification principles and adaptive design to enhance student engagement and learning outcomes. The project involved extensive research with educators, students, and learning specialists to create an inclusive, motivating environment that supports diverse learning styles and abilities.",(e==null?void 0:e.title)==="Travel Booking Website"&&"This travel booking website optimization focused on reducing cart abandonment and improving conversion rates through strategic UX improvements. The project involved comprehensive user journey mapping, A/B testing, and iterative design refinements to create a seamless booking experience."]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold mb-3 text-lg",children:"Key Deliverables"}),y.jsxs("ul",{className:"text-muted-foreground space-y-2",children:[(e==null?void 0:e.title)==="Mobile Banking App"&&y.jsxs(y.Fragment,{children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Biometric authentication flow with Face ID and Touch ID integration"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Simplified transaction interface with gesture-based navigation"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Comprehensive accessibility features meeting WCAG 2.1 AA standards"})]})]}),(e==null?void 0:e.title)==="SaaS Dashboard Interface"&&y.jsxs(y.Fragment,{children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Interactive data visualization components with drill-down capabilities"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Customizable dashboard layouts with drag-and-drop functionality"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Advanced filtering and search capabilities for large datasets"})]})]}),(e==null?void 0:e.title)==="Healthcare Patient Portal"&&y.jsxs(y.Fragment,{children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"HIPAA-compliant user interface with secure data handling"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Simplified appointment scheduling with conflict resolution"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Accessible design supporting screen readers and assistive technologies"})]})]}),(e==null?void 0:e.title)==="Educational Learning Platform"&&y.jsxs(y.Fragment,{children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Gamified learning modules with progress tracking and rewards"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Adaptive difficulty adjustment based on student performance"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Collaborative learning features with peer interaction tools"})]})]}),(e==null?void 0:e.title)==="Travel Booking Website"&&y.jsxs(y.Fragment,{children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Streamlined booking funnel reducing steps by 40%"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Progressive disclosure pattern for complex travel options"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-primary mt-1",children:"•"}),y.jsx("span",{children:"Mobile-first responsive design with touch-optimized interactions"})]})]})]})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold mb-3",children:"Key Skills & Technologies"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:e==null?void 0:e.tags.map((p,g)=>y.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:p},g))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold mb-3",children:"Impact & Results"}),y.jsxs("ul",{className:"text-muted-foreground space-y-2 text-sm",children:[(e==null?void 0:e.title)==="Mobile Banking App"&&y.jsxs(y.Fragment,{children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"300% increase in mobile app adoption"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"95% user satisfaction rating"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"Full accessibility compliance achieved"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"50% reduction in support tickets"})]})]}),(e==null?void 0:e.title)==="SaaS Dashboard Interface"&&y.jsxs(y.Fragment,{children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"60% faster data insights generation"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"85% user task completion rate"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"40% reduction in training time"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"Enterprise-wide adoption achieved"})]})]}),(e==null?void 0:e.title)==="Healthcare Patient Portal"&&y.jsxs(y.Fragment,{children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"70% increase in patient portal usage"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"HIPAA compliance maintained"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"95% accessibility score achieved"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"50% reduction in phone inquiries"})]})]}),(e==null?void 0:e.title)==="Educational Learning Platform"&&y.jsxs(y.Fragment,{children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"45% improvement in learning outcomes"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"80% student engagement increase"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"Adaptive learning algorithm success"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"Cross-platform accessibility achieved"})]})]}),(e==null?void 0:e.title)==="Travel Booking Website"&&y.jsxs(y.Fragment,{children:[y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"35% increase in conversion rates"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"60% reduction in cart abandonment"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"Mobile conversion parity achieved"})]}),y.jsxs("li",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"text-green-600 mt-1",children:"✓"}),y.jsx("span",{children:"25% increase in average order value"})]})]})]})]})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"font-semibold text-xl md:text-2xl text-green-800",children:"Project Documentation"}),y.jsx("div",{className:"grid grid-cols-1 gap-4 md:gap-6",children:y.jsx(xA,{pdfUrl:(e==null?void 0:e.pdfUrl)||"",className:"w-full"})})]})]})}),y.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center pt-4 border-t",children:[y.jsxs("div",{className:"flex gap-2",children:[(e==null?void 0:e.pdfUrl)&&y.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>window.open(e.pdfUrl,"_blank"),className:"flex items-center gap-2",children:[y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download PDF"]}),(e==null?void 0:e.pdfUrls)&&y.jsxs(Xe,{variant:"outline",size:"sm",onClick:()=>{var p;(p=e.pdfUrls)==null||p.forEach(g=>{window.open(g,"_blank")})},className:"flex items-center gap-2",children:[y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download All"]})]}),y.jsxs("div",{className:"text-xs text-muted-foreground",children:[y.jsx("span",{className:"sr-only",children:"Keyboard navigation: "}),"Use ← → arrow keys to navigate • ESC to close"]})]})]})})]})})}function OL(){const u=[{icon:y.jsx(zy,{className:"w-8 h-8"}),title:"User Guides & Documentation",description:"Clear, step-by-step guides that help users accomplish their goals efficiently.",examples:["SaaS Onboarding Guide","Mobile App Tutorial","Feature Documentation"]},{icon:y.jsx(mT,{className:"w-8 h-8"}),title:"API Documentation",description:"Comprehensive developer resources with code examples and best practices.",examples:["REST API Reference","SDK Documentation","Integration Guides"]},{icon:y.jsx(CA,{className:"w-8 h-8"}),title:"Knowledge Base Articles",description:"Searchable, organized content that reduces support burden and empowers users.",examples:["FAQ Collections","Troubleshooting Guides","Best Practices"]},{icon:y.jsx(PA,{className:"w-8 h-8"}),title:"Process Documentation",description:"Detailed workflows and procedures that improve team efficiency.",examples:["Standard Operating Procedures","Workflow Documentation","Training Materials"]},{icon:y.jsx(DA,{className:"w-8 h-8"}),title:"Content Strategy",description:"Strategic content planning that aligns with business goals and user needs.",examples:["Content Audits","Information Architecture","User Journey Mapping"]},{icon:y.jsx(IA,{className:"w-8 h-8"}),title:"Technical Blog Posts",description:"Engaging articles that explain complex concepts to diverse audiences.",examples:["How-to Articles","Feature Announcements","Technical Tutorials"]}];return y.jsx("section",{id:"tech-writing",className:"py-20 bg-muted/50","aria-labelledby":"tech-writing-heading",children:y.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("p",{className:"subheading text-primary text-lg mb-4",role:"text",children:"Content Strategy & Documentation"}),y.jsx("h2",{id:"tech-writing-heading",className:"text-4xl font-bold mb-4",children:"Technical Writing Portfolio"}),y.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",role:"text",children:"I create clear, compelling content that bridges the gap between complex technology and human understanding. My writing empowers users, reduces support burden, and drives product adoption."})]}),y.jsxs("aside",{className:"glass-card-primary p-8 rounded-xl mb-16 max-w-4xl mx-auto","aria-labelledby":"philosophy-heading",children:[y.jsx("h3",{id:"philosophy-heading",className:"text-2xl font-semibold mb-4 text-center",children:"My Writing Philosophy"}),y.jsx("blockquote",{className:"text-lg text-muted-foreground text-center leading-relaxed",children:'"Great technical writing is invisible. It gets users to their destination without them noticing the journey. Every word should have a purpose, every sentence should move the reader forward, and every document should solve a real problem."'})]}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",role:"list","aria-label":"Writing portfolio samples",children:u.map((e,t)=>y.jsxs("article",{role:"listitem",className:"group glass-card p-6 rounded-xl focus-within:ring-2 focus-within:ring-primary",children:[y.jsx("div",{className:"text-primary mb-4",role:"img","aria-label":`${e.title} icon`,children:e.icon}),y.jsx("h3",{className:"text-xl font-semibold mb-3",id:`sample-title-${t}`,children:e.title}),y.jsx("p",{className:"text-muted-foreground mb-4","aria-describedby":`sample-title-${t}`,children:e.description}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Sample Work:"}),y.jsx("ul",{className:"text-sm space-y-1","aria-label":"Examples of work",children:e.examples.map((n,r)=>y.jsxs("li",{className:"flex items-center",children:[y.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-2",role:"presentation"}),n]},r))})]})]},t))}),y.jsxs("aside",{className:"glass-card-accent p-8 rounded-xl","aria-labelledby":"tools-heading",children:[y.jsx("h3",{id:"tools-heading",className:"text-2xl font-semibold mb-6 text-center",children:"Tools & Methodology"}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-medium mb-4",children:"Writing & Documentation Tools"}),y.jsx("div",{className:"flex flex-wrap gap-2",role:"list","aria-label":"Writing tools",children:["Notion","Confluence","GitBook","Markdown","Figma","Miro"].map(e=>y.jsx("span",{role:"listitem",className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:e},e))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-medium mb-4",children:"Research & Analysis"}),y.jsx("div",{className:"flex flex-wrap gap-2",role:"list","aria-label":"Research methods",children:["User Interviews","Content Audits","Analytics","A/B Testing","Heuristic Analysis"].map(e=>y.jsx("span",{role:"listitem",className:"px-3 py-1 bg-secondary text-secondary-foreground rounded-full text-sm",children:e},e))})]})]})]})]})})}function zL(){const u=[{icon:y.jsx(MA,{className:"w-12 h-12"}),title:"UI/UX Design",description:"Clean, intuitive interfaces that delight users and drive conversions.",projects:["E-commerce Dashboard","Healthcare App","SaaS Platform"],glassClass:"glass-category-primary"},{icon:y.jsx(FT,{className:"w-12 h-12"}),title:"Mobile Design",description:"Responsive, touch-first experiences optimized for mobile devices.",projects:["Banking App","Fitness Tracker","Food Delivery"],glassClass:"glass-category-secondary"},{icon:y.jsx(TA,{className:"w-12 h-12"}),title:"Web Applications",description:"Scalable web interfaces that work beautifully across all devices.",projects:["CRM System","Learning Platform","Analytics Dashboard"],glassClass:"glass-category-neutral"},{icon:y.jsx(IA,{className:"w-12 h-12"}),title:"Brand Identity",description:"Cohesive visual systems that communicate brand values effectively.",projects:["Tech Startup","Wellness Brand","Creative Agency"],glassClass:"glass-category-green"},{icon:y.jsx(pT,{className:"w-12 h-12"}),title:"Data Visualization",description:"Complex data transformed into clear, actionable insights.",projects:["Sales Analytics","User Behavior","Performance Metrics"],glassClass:"glass-category-dark"},{icon:y.jsx($T,{className:"w-12 h-12"}),title:"Interactive Prototypes",description:"High-fidelity prototypes that bring designs to life.",projects:["AR Shopping","Voice Interface","Gesture Controls"],glassClass:"glass-category-secondary"}],e=[{icon:y.jsx(bT,{className:"w-6 h-6"}),title:"User-Centered",description:"Every design decision is driven by user needs and behaviors."},{icon:y.jsx(kT,{className:"w-6 h-6"}),title:"Systematic",description:"Consistent design systems that scale across products and teams."},{icon:y.jsx(IT,{className:"w-6 h-6"}),title:"Accessible",description:"Inclusive designs that work for users of all abilities."}];return y.jsx("section",{id:"design-gallery",className:"py-20","aria-labelledby":"design-gallery-heading",children:y.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("p",{className:"subheading text-primary text-lg mb-4",role:"text",children:"Visual Design & User Experience"}),y.jsx("h2",{id:"design-gallery-heading",className:"text-4xl font-bold mb-4",children:"Design Gallery"}),y.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",role:"text",children:"Visual storytelling through thoughtful interface design, cohesive branding, and innovative problem-solving. I create digital experiences that are both beautiful and functional."})]}),y.jsxs("aside",{className:"glass-card-primary p-8 rounded-xl mb-16 max-w-4xl mx-auto hover-lift transition-all-smooth","aria-labelledby":"philosophy-heading",children:[y.jsx("h3",{id:"philosophy-heading",className:"text-2xl font-semibold mb-6 text-center",children:"Design Philosophy"}),y.jsx("div",{className:"grid md:grid-cols-3 gap-6",role:"list","aria-label":"Design principles",children:e.map((t,n)=>y.jsxs("article",{role:"listitem",className:"text-center",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-primary/10 text-primary rounded-full mb-3",role:"img","aria-label":`${t.title} icon`,children:t.icon}),y.jsx("h4",{className:"text-lg font-semibold mb-2",children:t.title}),y.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},n))})]}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",role:"list","aria-label":"Design categories",children:u.map((t,n)=>y.jsxs("article",{role:"listitem",className:"group glass-card rounded-xl overflow-hidden focus-within:ring-2 focus-within:ring-primary hover-lift transition-all-smooth",children:[y.jsxs("div",{className:`p-8 text-gray-900 ${t.glassClass}`,role:"banner",children:[y.jsx("div",{className:"text-gray-800 mb-4",role:"img","aria-label":`${t.title} icon`,children:t.icon}),y.jsx("h3",{className:"text-xl font-bold text-gray-900",id:`category-title-${n}`,children:t.title})]}),y.jsxs("div",{className:"p-6",children:[y.jsx("p",{className:"text-muted-foreground mb-4","aria-describedby":`category-title-${n}`,children:t.description}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Featured Projects:"}),y.jsx("ul",{className:"space-y-1","aria-label":"Projects in this category",children:t.projects.map((r,o)=>y.jsxs("li",{className:"flex items-center text-sm",children:[y.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-2",role:"presentation"}),r]},o))})]})]})]},n))}),y.jsxs("aside",{className:"glass-card-accent p-8 rounded-xl hover-lift transition-all-smooth","aria-labelledby":"process-heading",children:[y.jsx("h3",{id:"process-heading",className:"text-2xl font-semibold mb-6 text-center",children:"Design Process"}),y.jsx("div",{className:"grid md:grid-cols-4 gap-6",role:"list","aria-label":"Design process steps",children:[{step:"1",title:"Research",description:"Understanding users, market, and constraints"},{step:"2",title:"Ideation",description:"Exploring solutions through sketching and brainstorming"},{step:"3",title:"Design",description:"Creating high-fidelity mockups and prototypes"},{step:"4",title:"Test & Iterate",description:"Validating designs with real users and data"}].map((t,n)=>y.jsxs("article",{role:"listitem",className:"text-center",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-primary text-primary-foreground rounded-full font-bold text-lg mb-3",role:"img","aria-label":`Step ${t.step}`,children:t.step}),y.jsx("h4",{className:"text-lg font-semibold mb-2",children:t.title}),y.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},n))})]})]})})}function BL(){const u=[{category:"Design",items:["User Experience Design","Interface Design","Design Systems","Prototyping","User Research"]},{category:"Writing",items:["Technical Documentation","Content Strategy","API Documentation","User Guides","Blog Writing"]},{category:"Tools",items:["Figma","Sketch","Notion","Confluence","React","TypeScript"]},{category:"Methods",items:["Design Thinking","Agile/Scrum","User Testing","Information Architecture","Content Audits"]}],e=[{icon:y.jsx(DA,{className:"w-8 h-8"}),title:"User-Centered",description:"I believe great design starts with understanding real user needs and pain points."},{icon:y.jsx(PA,{className:"w-8 h-8"}),title:"Problem-Solving",description:"Every project is a puzzle to solve, combining creativity with analytical thinking."},{icon:y.jsx(NA,{className:"w-8 h-8"}),title:"Empathy-Driven",description:"Creating inclusive experiences that work for people of all backgrounds and abilities."},{icon:y.jsx(TA,{className:"w-8 h-8"}),title:"Continuous Learning",description:"Technology evolves rapidly, and I'm committed to growing with it."}],t=[{icon:y.jsx(yT,{className:"w-5 h-5"}),fact:"Powered by coffee and curiosity"},{icon:y.jsx(MA,{className:"w-5 h-5"}),fact:"Love experimenting with new design trends"},{icon:y.jsx(CA,{className:"w-5 h-5"}),fact:"Always reading about psychology and design"},{icon:y.jsx(dT,{className:"w-5 h-5"}),fact:"Certified in UX Design and Content Strategy"}];return y.jsx("section",{id:"about",className:"py-20 bg-muted/50","aria-labelledby":"about-heading",children:y.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("p",{className:"subheading text-primary text-lg mb-4",role:"text",children:"Professional Background"}),y.jsx("h2",{id:"about-heading",className:"text-4xl font-bold mb-4",children:"About Me"}),y.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",role:"text",children:"I'm a passionate UX designer and technical communicator who believes that great design and clear communication can transform how people interact with technology."})]}),y.jsx("div",{className:"max-w-4xl mx-auto mb-16",children:y.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[y.jsx("div",{className:"space-y-6",children:y.jsxs("article",{className:"glass-card p-8 rounded-xl hover-lift transition-all-smooth","aria-labelledby":"journey-heading",children:[y.jsx("h3",{id:"journey-heading",className:"text-2xl font-semibold mb-4",children:"My Journey"}),y.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"With over 5 years of experience in UX design and technical writing, I've helped startups and established companies create digital experiences that users actually love. My background in both design and communication gives me a unique perspective on how to bridge the gap between complex technology and human understanding."}),y.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"I started my career in technical writing, where I learned the art of making complex information accessible. This foundation in clear communication naturally led me to UX design, where I could apply the same principles to visual and interactive experiences."})]})}),y.jsx("div",{className:"space-y-6",children:y.jsxs("article",{className:"glass-card p-8 rounded-xl hover-lift transition-all-smooth","aria-labelledby":"motivation-heading",children:[y.jsx("h3",{id:"motivation-heading",className:"text-2xl font-semibold mb-4",children:"What Drives Me"}),y.jsx("p",{className:"text-muted-foreground leading-relaxed mb-6",children:"I'm fascinated by the intersection of psychology, technology, and design. Every project is an opportunity to understand how people think, what they need, and how we can create solutions that feel almost invisible in their simplicity."}),y.jsx("div",{className:"grid grid-cols-2 gap-4",role:"list","aria-label":"Personal facts",children:t.map((n,r)=>y.jsxs("div",{role:"listitem",className:"flex items-center space-x-2 text-sm",children:[y.jsx("div",{className:"text-primary",role:"img","aria-label":`${n.fact} icon`,children:n.icon}),y.jsx("span",{className:"text-muted-foreground",children:n.fact})]},r))})]})})]})}),y.jsxs("div",{className:"mb-16",children:[y.jsx("h3",{className:"text-2xl font-semibold text-center mb-8",id:"values-heading",children:"Core Values"}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",role:"list","aria-labelledby":"values-heading",children:e.map((n,r)=>y.jsxs("article",{role:"listitem",className:"glass-card p-6 rounded-xl text-center focus-within:ring-2 focus-within:ring-primary hover-lift transition-all-smooth",children:[y.jsx("div",{className:"text-primary mb-4 flex justify-center",role:"img","aria-label":`${n.title} icon`,children:n.icon}),y.jsx("h4",{className:"text-lg font-semibold mb-3",id:`value-title-${r}`,children:n.title}),y.jsx("p",{className:"text-sm text-muted-foreground","aria-describedby":`value-title-${r}`,children:n.description})]},r))})]}),y.jsxs("aside",{className:"glass-card-accent p-8 rounded-xl hover-lift transition-all-smooth","aria-labelledby":"skills-heading",children:[y.jsx("h3",{id:"skills-heading",className:"text-2xl font-semibold text-center mb-8",children:"Skills & Expertise"}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",role:"list","aria-label":"Skill categories",children:u.map((n,r)=>y.jsxs("div",{role:"listitem",children:[y.jsx("h4",{className:"text-lg font-semibold mb-4 text-primary",id:`skill-category-${r}`,children:n.category}),y.jsx("ul",{className:"space-y-2","aria-labelledby":`skill-category-${r}`,children:n.items.map((o,l)=>y.jsxs("li",{className:"text-sm text-muted-foreground flex items-center",children:[y.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-2",role:"presentation"}),o]},l))})]},r))})]})]})})}function HL(){return y.jsx("section",{id:"contact",className:"py-20 bg-muted/50","aria-labelledby":"contact-heading",children:y.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("p",{className:"subheading text-primary text-lg mb-4",children:"Get In Touch"}),y.jsx("h2",{id:"contact-heading",className:"text-4xl font-bold mb-4",children:"Let's Work Together"}),y.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Ready to create something amazing? Let's discuss your project and how I can help bring your vision to life."})]}),y.jsx("div",{className:"max-w-2xl mx-auto",children:y.jsxs("form",{className:"glass-card p-8 rounded-xl space-y-6","aria-label":"Contact form",children:[y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",children:["Name ",y.jsx("span",{className:"text-red-500","aria-label":"required",children:"*"})]}),y.jsx("input",{type:"text",id:"name",name:"name",required:!0,"aria-required":"true",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary form-field transition-all-smooth",placeholder:"Your full name"})]}),y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:["Email ",y.jsx("span",{className:"text-red-500","aria-label":"required",children:"*"})]}),y.jsx("input",{type:"email",id:"email",name:"email",required:!0,"aria-required":"true","aria-describedby":"email-help",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary form-field transition-all-smooth",placeholder:"your.email@example.com"}),y.jsx("p",{id:"email-help",className:"text-sm text-muted-foreground mt-1",children:"We'll never share your email with anyone else."})]}),y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium mb-2",children:["Message ",y.jsx("span",{className:"text-red-500","aria-label":"required",children:"*"})]}),y.jsx("textarea",{id:"message",name:"message",rows:5,required:!0,"aria-required":"true",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary resize-vertical form-field transition-all-smooth",placeholder:"Tell me about your project or how I can help you..."})]}),y.jsx(Xe,{type:"submit",size:"lg",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground btn-animate hover-glow","aria-describedby":"submit-help",children:"Send Message"}),y.jsx("p",{id:"submit-help",className:"text-sm text-muted-foreground text-center",children:"I typically respond within 24 hours."})]})})]})})}function $L(){const u=()=>{window.scrollTo({top:0,behavior:"smooth"})};return y.jsx("footer",{style:{backgroundColor:"#042F23"},className:"text-white py-16",role:"contentinfo",children:y.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Lillian Turner"}),y.jsx("p",{className:"text-white/80 leading-relaxed mb-6 max-w-md",children:"UX Designer & Technical Writer passionate about creating meaningful digital experiences through thoughtful design and clear communication."}),y.jsxs("div",{className:"flex space-x-4",role:"list","aria-label":"Social media links",children:[y.jsx("a",{href:"https://linkedin.com/in/lillianturner",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-10 h-10 rounded-lg glass-logo transition-transform duration-200 hover:scale-105",style:{backgroundColor:"rgba(255, 255, 255, 0.15)"},"aria-label":"LinkedIn profile",role:"listitem",children:y.jsx(RA,{className:"w-5 h-5 text-white"})}),y.jsx("a",{href:"https://github.com/lillianturner",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-10 h-10 rounded-lg glass-logo transition-transform duration-200 hover:scale-105",style:{backgroundColor:"rgba(255, 255, 255, 0.15)"},"aria-label":"GitHub profile",role:"listitem",children:y.jsx(kA,{className:"w-5 h-5 text-white"})}),y.jsx("a",{href:"mailto:hello@lillianturner.com",className:"inline-flex items-center justify-center w-10 h-10 rounded-lg glass-logo transition-transform duration-200 hover:scale-105",style:{backgroundColor:"rgba(255, 255, 255, 0.15)"},"aria-label":"Send email",role:"listitem",children:y.jsx(LA,{className:"w-5 h-5 text-white"})})]})]}),y.jsxs("nav",{children:[y.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),y.jsxs("ul",{className:"space-y-3",children:[y.jsx("li",{children:y.jsx("a",{href:"#home",className:"text-white/80 hover:text-white transition-colors focus:text-white focus:outline-none focus:underline",children:"Home"})}),y.jsx("li",{children:y.jsx("a",{href:"#ux-studies",className:"text-white/80 hover:text-white transition-colors focus:text-white focus:outline-none focus:underline",children:"UX Case Studies"})}),y.jsx("li",{children:y.jsx("a",{href:"#tech-writing",className:"text-white/80 hover:text-white transition-colors focus:text-white focus:outline-none focus:underline",children:"Technical Writing"})}),y.jsx("li",{children:y.jsx("a",{href:"#design-gallery",className:"text-white/80 hover:text-white transition-colors focus:text-white focus:outline-none focus:underline",children:"Design Gallery"})}),y.jsx("li",{children:y.jsx("a",{href:"#about",className:"text-white/80 hover:text-white transition-colors focus:text-white focus:outline-none focus:underline",children:"About"})}),y.jsx("li",{children:y.jsx("a",{href:"#contact",className:"text-white/80 hover:text-white transition-colors focus:text-white focus:outline-none focus:underline",children:"Contact"})})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Services"}),y.jsxs("ul",{className:"space-y-3","aria-label":"Services offered",children:[y.jsx("li",{className:"text-white/80",children:"UX/UI Design"}),y.jsx("li",{className:"text-white/80",children:"User Research"}),y.jsx("li",{className:"text-white/80",children:"Technical Writing"}),y.jsx("li",{className:"text-white/80",children:"Content Strategy"}),y.jsx("li",{className:"text-white/80",children:"Design Systems"}),y.jsx("li",{className:"text-white/80",children:"API Documentation"})]})]})]}),y.jsxs("div",{className:"border-t border-white/20 pt-8 flex flex-col md:flex-row justify-between items-center",children:[y.jsxs("div",{className:"text-white/80 mb-4 md:mb-0",children:[y.jsx("p",{children:"© 2025 Lillian Turner. All rights reserved."}),y.jsxs("p",{className:"text-sm mt-1",children:["Made with ",y.jsx(NA,{className:"inline w-4 h-4",style:{color:"#34A853"},role:"img","aria-label":"heart"})," and lots of coffee"]})]}),y.jsxs(Xe,{onClick:u,variant:"ghost",size:"sm",className:"text-white focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-[#0F172A]","aria-label":"Scroll to top of page",children:[y.jsx(cT,{className:"w-4 h-4 mr-2"}),"Back to Top"]})]})]})})}function UL(){return y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(a2,{}),y.jsxs("main",{id:"main-content",children:[y.jsx(l2,{}),y.jsx(FL,{}),y.jsx(OL,{}),y.jsx(zL,{}),y.jsx(BL,{}),y.jsx(HL,{})]}),y.jsx($L,{})]})}sT.createRoot(document.getElementById("root")).render(y.jsx(ow.StrictMode,{children:y.jsx(UL,{})}));
